(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const U of document.querySelectorAll('link[rel="modulepreload"]'))B(U);new MutationObserver(U=>{for(const q of U)if(q.type==="childList")for(const ne of q.addedNodes)ne.tagName==="LINK"&&ne.rel==="modulepreload"&&B(ne)}).observe(document,{childList:!0,subtree:!0});function O(U){const q={};return U.integrity&&(q.integrity=U.integrity),U.referrerPolicy&&(q.referrerPolicy=U.referrerPolicy),U.crossOrigin==="use-credentials"?q.credentials="include":U.crossOrigin==="anonymous"?q.credentials="omit":q.credentials="same-origin",q}function B(U){if(U.ep)return;U.ep=!0;const q=O(U);fetch(U.href,q)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _A(p){const b=Object.create(null);for(const O of p.split(","))b[O]=1;return O=>O in b}const Rr={},pm=[],Fs=()=>{},Cde=()=>!1,v2=p=>p.charCodeAt(0)===111&&p.charCodeAt(1)===110&&(p.charCodeAt(2)>122||p.charCodeAt(2)<97),kA=p=>p.startsWith("onUpdate:"),po=Object.assign,xA=(p,b)=>{const O=p.indexOf(b);O>-1&&p.splice(O,1)},Ide=Object.prototype.hasOwnProperty,vr=(p,b)=>Ide.call(p,b),Xt=Array.isArray,hm=p=>y2(p)==="[object Map]",MJ=p=>y2(p)==="[object Set]",Qt=p=>typeof p=="function",Pn=p=>typeof p=="string",Uc=p=>typeof p=="symbol",rn=p=>p!==null&&typeof p=="object",UJ=p=>(rn(p)||Qt(p))&&Qt(p.then)&&Qt(p.catch),VJ=Object.prototype.toString,y2=p=>VJ.call(p),Ode=p=>y2(p).slice(8,-1),HJ=p=>y2(p)==="[object Object]",SA=p=>Pn(p)&&p!=="NaN"&&p[0]!=="-"&&""+parseInt(p,10)===p,Lb=_A(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),b2=p=>{const b=Object.create(null);return O=>b[O]||(b[O]=p(O))},jde=/-(\w)/g,Mc=b2(p=>p.replace(jde,(b,O)=>O?O.toUpperCase():"")),Tde=/\B([A-Z])/g,Kf=b2(p=>p.replace(Tde,"-$1").toLowerCase()),LJ=b2(p=>p.charAt(0).toUpperCase()+p.slice(1)),$6=b2(p=>p?`on${LJ(p)}`:""),Hf=(p,b)=>!Object.is(p,b),G6=(p,...b)=>{for(let O=0;O<p.length;O++)p[O](...b)},KJ=(p,b,O,B=!1)=>{Object.defineProperty(p,b,{configurable:!0,enumerable:!1,writable:B,value:O})},Ade=p=>{const b=parseFloat(p);return isNaN(b)?p:b};let uJ;const w2=()=>uJ||(uJ=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function EA(p){if(Xt(p)){const b={};for(let O=0;O<p.length;O++){const B=p[O],U=Pn(B)?Rde(B):EA(B);if(U)for(const q in U)b[q]=U[q]}return b}else if(Pn(p)||rn(p))return p}const Dde=/;(?![^(]*\))/g,zde=/:([^]+)/,Bde=/\/\*[^]*?\*\//g;function Rde(p){const b={};return p.replace(Bde,"").split(Dde).forEach(O=>{if(O){const B=O.split(zde);B.length>1&&(b[B[0].trim()]=B[1].trim())}}),b}function PA(p){let b="";if(Pn(p))b=p;else if(Xt(p))for(let O=0;O<p.length;O++){const B=PA(p[O]);B&&(b+=B+" ")}else if(rn(p))for(const O in p)p[O]&&(b+=O+" ");return b.trim()}const Nde="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fde=_A(Nde);function WJ(p){return!!p||p===""}const qJ=p=>!!(p&&p.__v_isRef===!0),aA=p=>Pn(p)?p:p==null?"":Xt(p)||rn(p)&&(p.toString===VJ||!Qt(p.toString))?qJ(p)?aA(p.value):JSON.stringify(p,$J,2):String(p),$J=(p,b)=>qJ(b)?$J(p,b.value):hm(b)?{[`Map(${b.size})`]:[...b.entries()].reduce((O,[B,U],q)=>(O[Z6(B,q)+" =>"]=U,O),{})}:MJ(b)?{[`Set(${b.size})`]:[...b.values()].map(O=>Z6(O))}:Uc(b)?Z6(b):rn(b)&&!Xt(b)&&!HJ(b)?String(b):b,Z6=(p,b="")=>{var O;return Uc(p)?`Symbol(${(O=p.description)!=null?O:b})`:p};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vi;class Mde{constructor(b=!1){this.detached=b,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vi,!b&&vi&&(this.index=(vi.scopes||(vi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let b,O;if(this.scopes)for(b=0,O=this.scopes.length;b<O;b++)this.scopes[b].pause();for(b=0,O=this.effects.length;b<O;b++)this.effects[b].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let b,O;if(this.scopes)for(b=0,O=this.scopes.length;b<O;b++)this.scopes[b].resume();for(b=0,O=this.effects.length;b<O;b++)this.effects[b].resume()}}run(b){if(this._active){const O=vi;try{return vi=this,b()}finally{vi=O}}}on(){vi=this}off(){vi=this.parent}stop(b){if(this._active){this._active=!1;let O,B;for(O=0,B=this.effects.length;O<B;O++)this.effects[O].stop();for(this.effects.length=0,O=0,B=this.cleanups.length;O<B;O++)this.cleanups[O]();if(this.cleanups.length=0,this.scopes){for(O=0,B=this.scopes.length;O<B;O++)this.scopes[O].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!b){const U=this.parent.scopes.pop();U&&U!==this&&(this.parent.scopes[this.index]=U,U.index=this.index)}this.parent=void 0}}}function Ude(){return vi}let Br;const X6=new WeakSet;class GJ{constructor(b){this.fn=b,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vi&&vi.active&&vi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,X6.has(this)&&(X6.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||XJ(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cJ(this),YJ(this);const b=Br,O=Ma;Br=this,Ma=!0;try{return this.fn()}finally{QJ(this),Br=b,Ma=O,this.flags&=-3}}stop(){if(this.flags&1){for(let b=this.deps;b;b=b.nextDep)OA(b);this.deps=this.depsTail=void 0,cJ(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?X6.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){sA(this)&&this.run()}get dirty(){return sA(this)}}let ZJ=0,Kb,Wb;function XJ(p,b=!1){if(p.flags|=8,b){p.next=Wb,Wb=p;return}p.next=Kb,Kb=p}function CA(){ZJ++}function IA(){if(--ZJ>0)return;if(Wb){let b=Wb;for(Wb=void 0;b;){const O=b.next;b.next=void 0,b.flags&=-9,b=O}}let p;for(;Kb;){let b=Kb;for(Kb=void 0;b;){const O=b.next;if(b.next=void 0,b.flags&=-9,b.flags&1)try{b.trigger()}catch(B){p||(p=B)}b=O}}if(p)throw p}function YJ(p){for(let b=p.deps;b;b=b.nextDep)b.version=-1,b.prevActiveLink=b.dep.activeLink,b.dep.activeLink=b}function QJ(p){let b,O=p.depsTail,B=O;for(;B;){const U=B.prevDep;B.version===-1?(B===O&&(O=U),OA(B),Vde(B)):b=B,B.dep.activeLink=B.prevActiveLink,B.prevActiveLink=void 0,B=U}p.deps=b,p.depsTail=O}function sA(p){for(let b=p.deps;b;b=b.nextDep)if(b.dep.version!==b.version||b.dep.computed&&(JJ(b.dep.computed)||b.dep.version!==b.version))return!0;return!!p._dirty}function JJ(p){if(p.flags&4&&!(p.flags&16)||(p.flags&=-17,p.globalVersion===Xb))return;p.globalVersion=Xb;const b=p.dep;if(p.flags|=2,b.version>0&&!p.isSSR&&p.deps&&!sA(p)){p.flags&=-3;return}const O=Br,B=Ma;Br=p,Ma=!0;try{YJ(p);const U=p.fn(p._value);(b.version===0||Hf(U,p._value))&&(p._value=U,b.version++)}catch(U){throw b.version++,U}finally{Br=O,Ma=B,QJ(p),p.flags&=-3}}function OA(p,b=!1){const{dep:O,prevSub:B,nextSub:U}=p;if(B&&(B.nextSub=U,p.prevSub=void 0),U&&(U.prevSub=B,p.nextSub=void 0),O.subs===p&&(O.subs=B,!B&&O.computed)){O.computed.flags&=-5;for(let q=O.computed.deps;q;q=q.nextDep)OA(q,!0)}!b&&!--O.sc&&O.map&&O.map.delete(O.key)}function Vde(p){const{prevDep:b,nextDep:O}=p;b&&(b.nextDep=O,p.prevDep=void 0),O&&(O.prevDep=b,p.nextDep=void 0)}let Ma=!0;const eee=[];function Vc(){eee.push(Ma),Ma=!1}function Hc(){const p=eee.pop();Ma=p===void 0?!0:p}function cJ(p){const{cleanup:b}=p;if(p.cleanup=void 0,b){const O=Br;Br=void 0;try{b()}finally{Br=O}}}let Xb=0;class Hde{constructor(b,O){this.sub=b,this.dep=O,this.version=O.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class tee{constructor(b){this.computed=b,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(b){if(!Br||!Ma||Br===this.computed)return;let O=this.activeLink;if(O===void 0||O.sub!==Br)O=this.activeLink=new Hde(Br,this),Br.deps?(O.prevDep=Br.depsTail,Br.depsTail.nextDep=O,Br.depsTail=O):Br.deps=Br.depsTail=O,ree(O);else if(O.version===-1&&(O.version=this.version,O.nextDep)){const B=O.nextDep;B.prevDep=O.prevDep,O.prevDep&&(O.prevDep.nextDep=B),O.prevDep=Br.depsTail,O.nextDep=void 0,Br.depsTail.nextDep=O,Br.depsTail=O,Br.deps===O&&(Br.deps=B)}return O}trigger(b){this.version++,Xb++,this.notify(b)}notify(b){CA();try{for(let O=this.subs;O;O=O.prevSub)O.sub.notify()&&O.sub.dep.notify()}finally{IA()}}}function ree(p){if(p.dep.sc++,p.sub.flags&4){const b=p.dep.computed;if(b&&!p.dep.subs){b.flags|=20;for(let B=b.deps;B;B=B.nextDep)ree(B)}const O=p.dep.subs;O!==p&&(p.prevSub=O,O&&(O.nextSub=p)),p.dep.subs=p}}const lA=new WeakMap,Lf=Symbol(""),uA=Symbol(""),Yb=Symbol("");function fo(p,b,O){if(Ma&&Br){let B=lA.get(p);B||lA.set(p,B=new Map);let U=B.get(O);U||(B.set(O,U=new tee),U.map=B,U.key=O),U.track()}}function ru(p,b,O,B,U,q){const ne=lA.get(p);if(!ne){Xb++;return}const me=Ee=>{Ee&&Ee.trigger()};if(CA(),b==="clear")ne.forEach(me);else{const Ee=Xt(p),qe=Ee&&SA(O);if(Ee&&O==="length"){const Fe=Number(B);ne.forEach((Ye,wt)=>{(wt==="length"||wt===Yb||!Uc(wt)&&wt>=Fe)&&me(Ye)})}else switch((O!==void 0||ne.has(void 0))&&me(ne.get(O)),qe&&me(ne.get(Yb)),b){case"add":Ee?qe&&me(ne.get("length")):(me(ne.get(Lf)),hm(p)&&me(ne.get(uA)));break;case"delete":Ee||(me(ne.get(Lf)),hm(p)&&me(ne.get(uA)));break;case"set":hm(p)&&me(ne.get(Lf));break}}IA()}function dm(p){const b=Pr(p);return b===p?b:(fo(b,"iterate",Yb),Ms(p)?b:b.map(yi))}function jA(p){return fo(p=Pr(p),"iterate",Yb),p}const Lde={__proto__:null,[Symbol.iterator](){return Y6(this,Symbol.iterator,yi)},concat(...p){return dm(this).concat(...p.map(b=>Xt(b)?dm(b):b))},entries(){return Y6(this,"entries",p=>(p[1]=yi(p[1]),p))},every(p,b){return eu(this,"every",p,b,void 0,arguments)},filter(p,b){return eu(this,"filter",p,b,O=>O.map(yi),arguments)},find(p,b){return eu(this,"find",p,b,yi,arguments)},findIndex(p,b){return eu(this,"findIndex",p,b,void 0,arguments)},findLast(p,b){return eu(this,"findLast",p,b,yi,arguments)},findLastIndex(p,b){return eu(this,"findLastIndex",p,b,void 0,arguments)},forEach(p,b){return eu(this,"forEach",p,b,void 0,arguments)},includes(...p){return Q6(this,"includes",p)},indexOf(...p){return Q6(this,"indexOf",p)},join(p){return dm(this).join(p)},lastIndexOf(...p){return Q6(this,"lastIndexOf",p)},map(p,b){return eu(this,"map",p,b,void 0,arguments)},pop(){return Fb(this,"pop")},push(...p){return Fb(this,"push",p)},reduce(p,...b){return dJ(this,"reduce",p,b)},reduceRight(p,...b){return dJ(this,"reduceRight",p,b)},shift(){return Fb(this,"shift")},some(p,b){return eu(this,"some",p,b,void 0,arguments)},splice(...p){return Fb(this,"splice",p)},toReversed(){return dm(this).toReversed()},toSorted(p){return dm(this).toSorted(p)},toSpliced(...p){return dm(this).toSpliced(...p)},unshift(...p){return Fb(this,"unshift",p)},values(){return Y6(this,"values",yi)}};function Y6(p,b,O){const B=jA(p),U=B[b]();return B!==p&&!Ms(p)&&(U._next=U.next,U.next=()=>{const q=U._next();return q.value&&(q.value=O(q.value)),q}),U}const Kde=Array.prototype;function eu(p,b,O,B,U,q){const ne=jA(p),me=ne!==p&&!Ms(p),Ee=ne[b];if(Ee!==Kde[b]){const Ye=Ee.apply(p,q);return me?yi(Ye):Ye}let qe=O;ne!==p&&(me?qe=function(Ye,wt){return O.call(this,yi(Ye),wt,p)}:O.length>2&&(qe=function(Ye,wt){return O.call(this,Ye,wt,p)}));const Fe=Ee.call(ne,qe,B);return me&&U?U(Fe):Fe}function dJ(p,b,O,B){const U=jA(p);let q=O;return U!==p&&(Ms(p)?O.length>3&&(q=function(ne,me,Ee){return O.call(this,ne,me,Ee,p)}):q=function(ne,me,Ee){return O.call(this,ne,yi(me),Ee,p)}),U[b](q,...B)}function Q6(p,b,O){const B=Pr(p);fo(B,"iterate",Yb);const U=B[b](...O);return(U===-1||U===!1)&&zA(O[0])?(O[0]=Pr(O[0]),B[b](...O)):U}function Fb(p,b,O=[]){Vc(),CA();const B=Pr(p)[b].apply(p,O);return IA(),Hc(),B}const Wde=_A("__proto__,__v_isRef,__isVue"),nee=new Set(Object.getOwnPropertyNames(Symbol).filter(p=>p!=="arguments"&&p!=="caller").map(p=>Symbol[p]).filter(Uc));function qde(p){Uc(p)||(p=String(p));const b=Pr(this);return fo(b,"has",p),b.hasOwnProperty(p)}class oee{constructor(b=!1,O=!1){this._isReadonly=b,this._isShallow=O}get(b,O,B){if(O==="__v_skip")return b.__v_skip;const U=this._isReadonly,q=this._isShallow;if(O==="__v_isReactive")return!U;if(O==="__v_isReadonly")return U;if(O==="__v_isShallow")return q;if(O==="__v_raw")return B===(U?q?rfe:lee:q?see:aee).get(b)||Object.getPrototypeOf(b)===Object.getPrototypeOf(B)?b:void 0;const ne=Xt(b);if(!U){let Ee;if(ne&&(Ee=Lde[O]))return Ee;if(O==="hasOwnProperty")return qde}const me=Reflect.get(b,O,zo(b)?b:B);return(Uc(O)?nee.has(O):Wde(O))||(U||fo(b,"get",O),q)?me:zo(me)?ne&&SA(O)?me:me.value:rn(me)?U?uee(me):AA(me):me}}class iee extends oee{constructor(b=!1){super(!1,b)}set(b,O,B,U){let q=b[O];if(!this._isShallow){const Ee=vm(q);if(!Ms(B)&&!vm(B)&&(q=Pr(q),B=Pr(B)),!Xt(b)&&zo(q)&&!zo(B))return Ee?!1:(q.value=B,!0)}const ne=Xt(b)&&SA(O)?Number(O)<b.length:vr(b,O),me=Reflect.set(b,O,B,zo(b)?b:U);return b===Pr(U)&&(ne?Hf(B,q)&&ru(b,"set",O,B):ru(b,"add",O,B)),me}deleteProperty(b,O){const B=vr(b,O);b[O];const U=Reflect.deleteProperty(b,O);return U&&B&&ru(b,"delete",O,void 0),U}has(b,O){const B=Reflect.has(b,O);return(!Uc(O)||!nee.has(O))&&fo(b,"has",O),B}ownKeys(b){return fo(b,"iterate",Xt(b)?"length":Lf),Reflect.ownKeys(b)}}class $de extends oee{constructor(b=!1){super(!0,b)}set(b,O){return!0}deleteProperty(b,O){return!0}}const Gde=new iee,Zde=new $de,Xde=new iee(!0);const cA=p=>p,o2=p=>Reflect.getPrototypeOf(p);function Yde(p,b,O){return function(...B){const U=this.__v_raw,q=Pr(U),ne=hm(q),me=p==="entries"||p===Symbol.iterator&&ne,Ee=p==="keys"&&ne,qe=U[p](...B),Fe=O?cA:b?dA:yi;return!b&&fo(q,"iterate",Ee?uA:Lf),{next(){const{value:Ye,done:wt}=qe.next();return wt?{value:Ye,done:wt}:{value:me?[Fe(Ye[0]),Fe(Ye[1])]:Fe(Ye),done:wt}},[Symbol.iterator](){return this}}}}function i2(p){return function(...b){return p==="delete"?!1:p==="clear"?void 0:this}}function Qde(p,b){const O={get(U){const q=this.__v_raw,ne=Pr(q),me=Pr(U);p||(Hf(U,me)&&fo(ne,"get",U),fo(ne,"get",me));const{has:Ee}=o2(ne),qe=b?cA:p?dA:yi;if(Ee.call(ne,U))return qe(q.get(U));if(Ee.call(ne,me))return qe(q.get(me));q!==ne&&q.get(U)},get size(){const U=this.__v_raw;return!p&&fo(Pr(U),"iterate",Lf),Reflect.get(U,"size",U)},has(U){const q=this.__v_raw,ne=Pr(q),me=Pr(U);return p||(Hf(U,me)&&fo(ne,"has",U),fo(ne,"has",me)),U===me?q.has(U):q.has(U)||q.has(me)},forEach(U,q){const ne=this,me=ne.__v_raw,Ee=Pr(me),qe=b?cA:p?dA:yi;return!p&&fo(Ee,"iterate",Lf),me.forEach((Fe,Ye)=>U.call(q,qe(Fe),qe(Ye),ne))}};return po(O,p?{add:i2("add"),set:i2("set"),delete:i2("delete"),clear:i2("clear")}:{add(U){!b&&!Ms(U)&&!vm(U)&&(U=Pr(U));const q=Pr(this);return o2(q).has.call(q,U)||(q.add(U),ru(q,"add",U,U)),this},set(U,q){!b&&!Ms(q)&&!vm(q)&&(q=Pr(q));const ne=Pr(this),{has:me,get:Ee}=o2(ne);let qe=me.call(ne,U);qe||(U=Pr(U),qe=me.call(ne,U));const Fe=Ee.call(ne,U);return ne.set(U,q),qe?Hf(q,Fe)&&ru(ne,"set",U,q):ru(ne,"add",U,q),this},delete(U){const q=Pr(this),{has:ne,get:me}=o2(q);let Ee=ne.call(q,U);Ee||(U=Pr(U),Ee=ne.call(q,U)),me&&me.call(q,U);const qe=q.delete(U);return Ee&&ru(q,"delete",U,void 0),qe},clear(){const U=Pr(this),q=U.size!==0,ne=U.clear();return q&&ru(U,"clear",void 0,void 0),ne}}),["keys","values","entries",Symbol.iterator].forEach(U=>{O[U]=Yde(U,p,b)}),O}function TA(p,b){const O=Qde(p,b);return(B,U,q)=>U==="__v_isReactive"?!p:U==="__v_isReadonly"?p:U==="__v_raw"?B:Reflect.get(vr(O,U)&&U in B?O:B,U,q)}const Jde={get:TA(!1,!1)},efe={get:TA(!1,!0)},tfe={get:TA(!0,!1)};const aee=new WeakMap,see=new WeakMap,lee=new WeakMap,rfe=new WeakMap;function nfe(p){switch(p){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ofe(p){return p.__v_skip||!Object.isExtensible(p)?0:nfe(Ode(p))}function AA(p){return vm(p)?p:DA(p,!1,Gde,Jde,aee)}function ife(p){return DA(p,!1,Xde,efe,see)}function uee(p){return DA(p,!0,Zde,tfe,lee)}function DA(p,b,O,B,U){if(!rn(p)||p.__v_raw&&!(b&&p.__v_isReactive))return p;const q=U.get(p);if(q)return q;const ne=ofe(p);if(ne===0)return p;const me=new Proxy(p,ne===2?B:O);return U.set(p,me),me}function qb(p){return vm(p)?qb(p.__v_raw):!!(p&&p.__v_isReactive)}function vm(p){return!!(p&&p.__v_isReadonly)}function Ms(p){return!!(p&&p.__v_isShallow)}function zA(p){return p?!!p.__v_raw:!1}function Pr(p){const b=p&&p.__v_raw;return b?Pr(b):p}function afe(p){return!vr(p,"__v_skip")&&Object.isExtensible(p)&&KJ(p,"__v_skip",!0),p}const yi=p=>rn(p)?AA(p):p,dA=p=>rn(p)?uee(p):p;function zo(p){return p?p.__v_isRef===!0:!1}function sfe(p){return zo(p)?p.value:p}const lfe={get:(p,b,O)=>b==="__v_raw"?p:sfe(Reflect.get(p,b,O)),set:(p,b,O,B)=>{const U=p[b];return zo(U)&&!zo(O)?(U.value=O,!0):Reflect.set(p,b,O,B)}};function cee(p){return qb(p)?p:new Proxy(p,lfe)}class ufe{constructor(b,O,B){this.fn=b,this.setter=O,this._value=void 0,this.dep=new tee(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xb-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!O,this.isSSR=B}notify(){if(this.flags|=16,!(this.flags&8)&&Br!==this)return XJ(this,!0),!0}get value(){const b=this.dep.track();return JJ(this),b&&(b.version=this.dep.version),this._value}set value(b){this.setter&&this.setter(b)}}function cfe(p,b,O=!1){let B,U;return Qt(p)?B=p:(B=p.get,U=p.set),new ufe(B,U,O)}const a2={},d2=new WeakMap;let Vf;function dfe(p,b=!1,O=Vf){if(O){let B=d2.get(O);B||d2.set(O,B=[]),B.push(p)}}function ffe(p,b,O=Rr){const{immediate:B,deep:U,once:q,scheduler:ne,augmentJob:me,call:Ee}=O,qe=I=>U?I:Ms(I)||U===!1||U===0?Nc(I,1):Nc(I);let Fe,Ye,wt,pt,Ht=!1,Zt=!1;if(zo(p)?(Ye=()=>p.value,Ht=Ms(p)):qb(p)?(Ye=()=>qe(p),Ht=!0):Xt(p)?(Zt=!0,Ht=p.some(I=>qb(I)||Ms(I)),Ye=()=>p.map(I=>{if(zo(I))return I.value;if(qb(I))return qe(I);if(Qt(I))return Ee?Ee(I,2):I()})):Qt(p)?b?Ye=Ee?()=>Ee(p,2):p:Ye=()=>{if(wt){Vc();try{wt()}finally{Hc()}}const I=Vf;Vf=Fe;try{return Ee?Ee(p,3,[pt]):p(pt)}finally{Vf=I}}:Ye=Fs,b&&U){const I=Ye,vt=U===!0?1/0:U;Ye=()=>Nc(I(),vt)}const jr=Ude(),re=()=>{Fe.stop(),jr&&jr.active&&xA(jr.effects,Fe)};if(q&&b){const I=b;b=(...vt)=>{I(...vt),re()}}let Pe=Zt?new Array(p.length).fill(a2):a2;const fr=I=>{if(!(!(Fe.flags&1)||!Fe.dirty&&!I))if(b){const vt=Fe.run();if(U||Ht||(Zt?vt.some((ho,Bn)=>Hf(ho,Pe[Bn])):Hf(vt,Pe))){wt&&wt();const ho=Vf;Vf=Fe;try{const Bn=[vt,Pe===a2?void 0:Zt&&Pe[0]===a2?[]:Pe,pt];Ee?Ee(b,3,Bn):b(...Bn),Pe=vt}finally{Vf=ho}}}else Fe.run()};return me&&me(fr),Fe=new GJ(Ye),Fe.scheduler=ne?()=>ne(fr,!1):fr,pt=I=>dfe(I,!1,Fe),wt=Fe.onStop=()=>{const I=d2.get(Fe);if(I){if(Ee)Ee(I,4);else for(const vt of I)vt();d2.delete(Fe)}},b?B?fr(!0):Pe=Fe.run():ne?ne(fr.bind(null,!0),!0):Fe.run(),re.pause=Fe.pause.bind(Fe),re.resume=Fe.resume.bind(Fe),re.stop=re,re}function Nc(p,b=1/0,O){if(b<=0||!rn(p)||p.__v_skip||(O=O||new Set,O.has(p)))return p;if(O.add(p),b--,zo(p))Nc(p.value,b,O);else if(Xt(p))for(let B=0;B<p.length;B++)Nc(p[B],b,O);else if(MJ(p)||hm(p))p.forEach(B=>{Nc(B,b,O)});else if(HJ(p)){for(const B in p)Nc(p[B],b,O);for(const B of Object.getOwnPropertySymbols(p))Object.prototype.propertyIsEnumerable.call(p,B)&&Nc(p[B],b,O)}return p}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function r1(p,b,O,B){try{return B?p(...B):p()}catch(U){_2(U,b,O)}}function Us(p,b,O,B){if(Qt(p)){const U=r1(p,b,O,B);return U&&UJ(U)&&U.catch(q=>{_2(q,b,O)}),U}if(Xt(p)){const U=[];for(let q=0;q<p.length;q++)U.push(Us(p[q],b,O,B));return U}}function _2(p,b,O,B=!0){const U=b?b.vnode:null,{errorHandler:q,throwUnhandledErrorInProduction:ne}=b&&b.appContext.config||Rr;if(b){let me=b.parent;const Ee=b.proxy,qe=`https://vuejs.org/error-reference/#runtime-${O}`;for(;me;){const Fe=me.ec;if(Fe){for(let Ye=0;Ye<Fe.length;Ye++)if(Fe[Ye](p,Ee,qe)===!1)return}me=me.parent}if(q){Vc(),r1(q,null,10,[p,Ee,qe]),Hc();return}}pfe(p,O,U,B,ne)}function pfe(p,b,O,B=!0,U=!1){if(U)throw p;console.error(p)}const Ao=[];let zs=-1;const gm=[];let Bc=null,fm=0;const dee=Promise.resolve();let f2=null;function hfe(p){const b=f2||dee;return p?b.then(this?p.bind(this):p):b}function gfe(p){let b=zs+1,O=Ao.length;for(;b<O;){const B=b+O>>>1,U=Ao[B],q=Qb(U);q<p||q===p&&U.flags&2?b=B+1:O=B}return b}function BA(p){if(!(p.flags&1)){const b=Qb(p),O=Ao[Ao.length-1];!O||!(p.flags&2)&&b>=Qb(O)?Ao.push(p):Ao.splice(gfe(b),0,p),p.flags|=1,fee()}}function fee(){f2||(f2=dee.then(hee))}function mfe(p){Xt(p)?gm.push(...p):Bc&&p.id===-1?Bc.splice(fm+1,0,p):p.flags&1||(gm.push(p),p.flags|=1),fee()}function fJ(p,b,O=zs+1){for(;O<Ao.length;O++){const B=Ao[O];if(B&&B.flags&2){if(p&&B.id!==p.uid)continue;Ao.splice(O,1),O--,B.flags&4&&(B.flags&=-2),B(),B.flags&4||(B.flags&=-2)}}}function pee(p){if(gm.length){const b=[...new Set(gm)].sort((O,B)=>Qb(O)-Qb(B));if(gm.length=0,Bc){Bc.push(...b);return}for(Bc=b,fm=0;fm<Bc.length;fm++){const O=Bc[fm];O.flags&4&&(O.flags&=-2),O.flags&8||O(),O.flags&=-2}Bc=null,fm=0}}const Qb=p=>p.id==null?p.flags&2?-1:1/0:p.id;function hee(p){try{for(zs=0;zs<Ao.length;zs++){const b=Ao[zs];b&&!(b.flags&8)&&(b.flags&4&&(b.flags&=-2),r1(b,b.i,b.i?15:14),b.flags&4||(b.flags&=-2))}}finally{for(;zs<Ao.length;zs++){const b=Ao[zs];b&&(b.flags&=-2)}zs=-1,Ao.length=0,pee(),f2=null,(Ao.length||gm.length)&&hee()}}let Ns=null,gee=null;function p2(p){const b=Ns;return Ns=p,gee=p&&p.type.__scopeId||null,b}function vfe(p,b=Ns,O){if(!b||p._n)return p;const B=(...U)=>{B._d&&_J(-1);const q=p2(b);let ne;try{ne=p(...U)}finally{p2(q),B._d&&_J(1)}return ne};return B._n=!0,B._c=!0,B._d=!0,B}function Mf(p,b,O,B){const U=p.dirs,q=b&&b.dirs;for(let ne=0;ne<U.length;ne++){const me=U[ne];q&&(me.oldValue=q[ne].value);let Ee=me.dir[B];Ee&&(Vc(),Us(Ee,O,8,[p.el,me,p,b]),Hc())}}const yfe=Symbol("_vte"),bfe=p=>p.__isTeleport;function RA(p,b){p.shapeFlag&6&&p.component?(p.transition=b,RA(p.component.subTree,b)):p.shapeFlag&128?(p.ssContent.transition=b.clone(p.ssContent),p.ssFallback.transition=b.clone(p.ssFallback)):p.transition=b}/*! #__NO_SIDE_EFFECTS__ */function mee(p,b){return Qt(p)?po({name:p.name},b,{setup:p}):p}function vee(p){p.ids=[p.ids[0]+p.ids[2]+++"-",0,0]}function h2(p,b,O,B,U=!1){if(Xt(p)){p.forEach((Ht,Zt)=>h2(Ht,b&&(Xt(b)?b[Zt]:b),O,B,U));return}if($b(B)&&!U){B.shapeFlag&512&&B.type.__asyncResolved&&B.component.subTree.component&&h2(p,b,O,B.component.subTree);return}const q=B.shapeFlag&4?MA(B.component):B.el,ne=U?null:q,{i:me,r:Ee}=p,qe=b&&b.r,Fe=me.refs===Rr?me.refs={}:me.refs,Ye=me.setupState,wt=Pr(Ye),pt=Ye===Rr?()=>!1:Ht=>vr(wt,Ht);if(qe!=null&&qe!==Ee&&(Pn(qe)?(Fe[qe]=null,pt(qe)&&(Ye[qe]=null)):zo(qe)&&(qe.value=null)),Qt(Ee))r1(Ee,me,12,[ne,Fe]);else{const Ht=Pn(Ee),Zt=zo(Ee);if(Ht||Zt){const jr=()=>{if(p.f){const re=Ht?pt(Ee)?Ye[Ee]:Fe[Ee]:Ee.value;U?Xt(re)&&xA(re,q):Xt(re)?re.includes(q)||re.push(q):Ht?(Fe[Ee]=[q],pt(Ee)&&(Ye[Ee]=Fe[Ee])):(Ee.value=[q],p.k&&(Fe[p.k]=Ee.value))}else Ht?(Fe[Ee]=ne,pt(Ee)&&(Ye[Ee]=ne)):Zt&&(Ee.value=ne,p.k&&(Fe[p.k]=ne))};ne?(jr.id=-1,mi(jr,O)):jr()}}}w2().requestIdleCallback;w2().cancelIdleCallback;const $b=p=>!!p.type.__asyncLoader,yee=p=>p.type.__isKeepAlive;function wfe(p,b){bee(p,"a",b)}function _fe(p,b){bee(p,"da",b)}function bee(p,b,O=Do){const B=p.__wdc||(p.__wdc=()=>{let U=O;for(;U;){if(U.isDeactivated)return;U=U.parent}return p()});if(k2(b,B,O),O){let U=O.parent;for(;U&&U.parent;)yee(U.parent.vnode)&&kfe(B,b,O,U),U=U.parent}}function kfe(p,b,O,B){const U=k2(b,p,B,!0);wee(()=>{xA(B[b],U)},O)}function k2(p,b,O=Do,B=!1){if(O){const U=O[p]||(O[p]=[]),q=b.__weh||(b.__weh=(...ne)=>{Vc();const me=n1(O),Ee=Us(b,O,p,ne);return me(),Hc(),Ee});return B?U.unshift(q):U.push(q),q}}const nu=p=>(b,O=Do)=>{(!t1||p==="sp")&&k2(p,(...B)=>b(...B),O)},xfe=nu("bm"),Sfe=nu("m"),Efe=nu("bu"),Pfe=nu("u"),Cfe=nu("bum"),wee=nu("um"),Ife=nu("sp"),Ofe=nu("rtg"),jfe=nu("rtc");function Tfe(p,b=Do){k2("ec",p,b)}const Afe=Symbol.for("v-ndc"),fA=p=>p?Lee(p)?MA(p):fA(p.parent):null,Gb=po(Object.create(null),{$:p=>p,$el:p=>p.vnode.el,$data:p=>p.data,$props:p=>p.props,$attrs:p=>p.attrs,$slots:p=>p.slots,$refs:p=>p.refs,$parent:p=>fA(p.parent),$root:p=>fA(p.root),$host:p=>p.ce,$emit:p=>p.emit,$options:p=>kee(p),$forceUpdate:p=>p.f||(p.f=()=>{BA(p.update)}),$nextTick:p=>p.n||(p.n=hfe.bind(p.proxy)),$watch:p=>epe.bind(p)}),J6=(p,b)=>p!==Rr&&!p.__isScriptSetup&&vr(p,b),Dfe={get({_:p},b){if(b==="__v_skip")return!0;const{ctx:O,setupState:B,data:U,props:q,accessCache:ne,type:me,appContext:Ee}=p;let qe;if(b[0]!=="$"){const pt=ne[b];if(pt!==void 0)switch(pt){case 1:return B[b];case 2:return U[b];case 4:return O[b];case 3:return q[b]}else{if(J6(B,b))return ne[b]=1,B[b];if(U!==Rr&&vr(U,b))return ne[b]=2,U[b];if((qe=p.propsOptions[0])&&vr(qe,b))return ne[b]=3,q[b];if(O!==Rr&&vr(O,b))return ne[b]=4,O[b];pA&&(ne[b]=0)}}const Fe=Gb[b];let Ye,wt;if(Fe)return b==="$attrs"&&fo(p.attrs,"get",""),Fe(p);if((Ye=me.__cssModules)&&(Ye=Ye[b]))return Ye;if(O!==Rr&&vr(O,b))return ne[b]=4,O[b];if(wt=Ee.config.globalProperties,vr(wt,b))return wt[b]},set({_:p},b,O){const{data:B,setupState:U,ctx:q}=p;return J6(U,b)?(U[b]=O,!0):B!==Rr&&vr(B,b)?(B[b]=O,!0):vr(p.props,b)||b[0]==="$"&&b.slice(1)in p?!1:(q[b]=O,!0)},has({_:{data:p,setupState:b,accessCache:O,ctx:B,appContext:U,propsOptions:q}},ne){let me;return!!O[ne]||p!==Rr&&vr(p,ne)||J6(b,ne)||(me=q[0])&&vr(me,ne)||vr(B,ne)||vr(Gb,ne)||vr(U.config.globalProperties,ne)},defineProperty(p,b,O){return O.get!=null?p._.accessCache[b]=0:vr(O,"value")&&this.set(p,b,O.value,null),Reflect.defineProperty(p,b,O)}};function pJ(p){return Xt(p)?p.reduce((b,O)=>(b[O]=null,b),{}):p}let pA=!0;function zfe(p){const b=kee(p),O=p.proxy,B=p.ctx;pA=!1,b.beforeCreate&&hJ(b.beforeCreate,p,"bc");const{data:U,computed:q,methods:ne,watch:me,provide:Ee,inject:qe,created:Fe,beforeMount:Ye,mounted:wt,beforeUpdate:pt,updated:Ht,activated:Zt,deactivated:jr,beforeDestroy:re,beforeUnmount:Pe,destroyed:fr,unmounted:I,render:vt,renderTracked:ho,renderTriggered:Bn,errorCaptured:oe,serverPrefetch:Ki,expose:Kt,inheritAttrs:Y,components:Cr,directives:Ua,filters:Wi}=b;if(qe&&Bfe(qe,B,null),ne)for(const nr in ne){const ut=ne[nr];Qt(ut)&&(B[nr]=ut.bind(O))}if(U){const nr=U.call(O,O);rn(nr)&&(p.data=AA(nr))}if(pA=!0,q)for(const nr in q){const ut=q[nr],Cn=Qt(ut)?ut.bind(O,O):Qt(ut.get)?ut.get.bind(O,O):Fs,un=!Qt(ut)&&Qt(ut.set)?ut.set.bind(O):Fs,go=kpe({get:Cn,set:un});Object.defineProperty(B,nr,{enumerable:!0,configurable:!0,get:()=>go.value,set:yn=>go.value=yn})}if(me)for(const nr in me)_ee(me[nr],B,O,nr);if(Ee){const nr=Qt(Ee)?Ee.call(O):Ee;Reflect.ownKeys(nr).forEach(ut=>{Vfe(ut,nr[ut])})}Fe&&hJ(Fe,p,"c");function ve(nr,ut){Xt(ut)?ut.forEach(Cn=>nr(Cn.bind(O))):ut&&nr(ut.bind(O))}if(ve(xfe,Ye),ve(Sfe,wt),ve(Efe,pt),ve(Pfe,Ht),ve(wfe,Zt),ve(_fe,jr),ve(Tfe,oe),ve(jfe,ho),ve(Ofe,Bn),ve(Cfe,Pe),ve(wee,I),ve(Ife,Ki),Xt(Kt))if(Kt.length){const nr=p.exposed||(p.exposed={});Kt.forEach(ut=>{Object.defineProperty(nr,ut,{get:()=>O[ut],set:Cn=>O[ut]=Cn})})}else p.exposed||(p.exposed={});vt&&p.render===Fs&&(p.render=vt),Y!=null&&(p.inheritAttrs=Y),Cr&&(p.components=Cr),Ua&&(p.directives=Ua),Ki&&vee(p)}function Bfe(p,b,O=Fs){Xt(p)&&(p=hA(p));for(const B in p){const U=p[B];let q;rn(U)?"default"in U?q=l2(U.from||B,U.default,!0):q=l2(U.from||B):q=l2(U),zo(q)?Object.defineProperty(b,B,{enumerable:!0,configurable:!0,get:()=>q.value,set:ne=>q.value=ne}):b[B]=q}}function hJ(p,b,O){Us(Xt(p)?p.map(B=>B.bind(b.proxy)):p.bind(b.proxy),b,O)}function _ee(p,b,O,B){let U=B.includes(".")?Ree(O,B):()=>O[B];if(Pn(p)){const q=b[p];Qt(q)&&tA(U,q)}else if(Qt(p))tA(U,p.bind(O));else if(rn(p))if(Xt(p))p.forEach(q=>_ee(q,b,O,B));else{const q=Qt(p.handler)?p.handler.bind(O):b[p.handler];Qt(q)&&tA(U,q,p)}}function kee(p){const b=p.type,{mixins:O,extends:B}=b,{mixins:U,optionsCache:q,config:{optionMergeStrategies:ne}}=p.appContext,me=q.get(b);let Ee;return me?Ee=me:!U.length&&!O&&!B?Ee=b:(Ee={},U.length&&U.forEach(qe=>g2(Ee,qe,ne,!0)),g2(Ee,b,ne)),rn(b)&&q.set(b,Ee),Ee}function g2(p,b,O,B=!1){const{mixins:U,extends:q}=b;q&&g2(p,q,O,!0),U&&U.forEach(ne=>g2(p,ne,O,!0));for(const ne in b)if(!(B&&ne==="expose")){const me=Rfe[ne]||O&&O[ne];p[ne]=me?me(p[ne],b[ne]):b[ne]}return p}const Rfe={data:gJ,props:mJ,emits:mJ,methods:Ub,computed:Ub,beforeCreate:To,created:To,beforeMount:To,mounted:To,beforeUpdate:To,updated:To,beforeDestroy:To,beforeUnmount:To,destroyed:To,unmounted:To,activated:To,deactivated:To,errorCaptured:To,serverPrefetch:To,components:Ub,directives:Ub,watch:Ffe,provide:gJ,inject:Nfe};function gJ(p,b){return b?p?function(){return po(Qt(p)?p.call(this,this):p,Qt(b)?b.call(this,this):b)}:b:p}function Nfe(p,b){return Ub(hA(p),hA(b))}function hA(p){if(Xt(p)){const b={};for(let O=0;O<p.length;O++)b[p[O]]=p[O];return b}return p}function To(p,b){return p?[...new Set([].concat(p,b))]:b}function Ub(p,b){return p?po(Object.create(null),p,b):b}function mJ(p,b){return p?Xt(p)&&Xt(b)?[...new Set([...p,...b])]:po(Object.create(null),pJ(p),pJ(b??{})):b}function Ffe(p,b){if(!p)return b;if(!b)return p;const O=po(Object.create(null),p);for(const B in b)O[B]=To(p[B],b[B]);return O}function xee(){return{app:null,config:{isNativeTag:Cde,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Mfe=0;function Ufe(p,b){return function(B,U=null){Qt(B)||(B=po({},B)),U!=null&&!rn(U)&&(U=null);const q=xee(),ne=new WeakSet,me=[];let Ee=!1;const qe=q.app={_uid:Mfe++,_component:B,_props:U,_container:null,_context:q,_instance:null,version:xpe,get config(){return q.config},set config(Fe){},use(Fe,...Ye){return ne.has(Fe)||(Fe&&Qt(Fe.install)?(ne.add(Fe),Fe.install(qe,...Ye)):Qt(Fe)&&(ne.add(Fe),Fe(qe,...Ye))),qe},mixin(Fe){return q.mixins.includes(Fe)||q.mixins.push(Fe),qe},component(Fe,Ye){return Ye?(q.components[Fe]=Ye,qe):q.components[Fe]},directive(Fe,Ye){return Ye?(q.directives[Fe]=Ye,qe):q.directives[Fe]},mount(Fe,Ye,wt){if(!Ee){const pt=qe._ceVNode||Fc(B,U);return pt.appContext=q,wt===!0?wt="svg":wt===!1&&(wt=void 0),p(pt,Fe,wt),Ee=!0,qe._container=Fe,Fe.__vue_app__=qe,MA(pt.component)}},onUnmount(Fe){me.push(Fe)},unmount(){Ee&&(Us(me,qe._instance,16),p(null,qe._container),delete qe._container.__vue_app__)},provide(Fe,Ye){return q.provides[Fe]=Ye,qe},runWithContext(Fe){const Ye=mm;mm=qe;try{return Fe()}finally{mm=Ye}}};return qe}}let mm=null;function Vfe(p,b){if(Do){let O=Do.provides;const B=Do.parent&&Do.parent.provides;B===O&&(O=Do.provides=Object.create(B)),O[p]=b}}function l2(p,b,O=!1){const B=Do||Ns;if(B||mm){const U=mm?mm._context.provides:B?B.parent==null?B.vnode.appContext&&B.vnode.appContext.provides:B.parent.provides:void 0;if(U&&p in U)return U[p];if(arguments.length>1)return O&&Qt(b)?b.call(B&&B.proxy):b}}const See={},Eee=()=>Object.create(See),Pee=p=>Object.getPrototypeOf(p)===See;function Hfe(p,b,O,B=!1){const U={},q=Eee();p.propsDefaults=Object.create(null),Cee(p,b,U,q);for(const ne in p.propsOptions[0])ne in U||(U[ne]=void 0);O?p.props=B?U:ife(U):p.type.props?p.props=U:p.props=q,p.attrs=q}function Lfe(p,b,O,B){const{props:U,attrs:q,vnode:{patchFlag:ne}}=p,me=Pr(U),[Ee]=p.propsOptions;let qe=!1;if((B||ne>0)&&!(ne&16)){if(ne&8){const Fe=p.vnode.dynamicProps;for(let Ye=0;Ye<Fe.length;Ye++){let wt=Fe[Ye];if(x2(p.emitsOptions,wt))continue;const pt=b[wt];if(Ee)if(vr(q,wt))pt!==q[wt]&&(q[wt]=pt,qe=!0);else{const Ht=Mc(wt);U[Ht]=gA(Ee,me,Ht,pt,p,!1)}else pt!==q[wt]&&(q[wt]=pt,qe=!0)}}}else{Cee(p,b,U,q)&&(qe=!0);let Fe;for(const Ye in me)(!b||!vr(b,Ye)&&((Fe=Kf(Ye))===Ye||!vr(b,Fe)))&&(Ee?O&&(O[Ye]!==void 0||O[Fe]!==void 0)&&(U[Ye]=gA(Ee,me,Ye,void 0,p,!0)):delete U[Ye]);if(q!==me)for(const Ye in q)(!b||!vr(b,Ye))&&(delete q[Ye],qe=!0)}qe&&ru(p.attrs,"set","")}function Cee(p,b,O,B){const[U,q]=p.propsOptions;let ne=!1,me;if(b)for(let Ee in b){if(Lb(Ee))continue;const qe=b[Ee];let Fe;U&&vr(U,Fe=Mc(Ee))?!q||!q.includes(Fe)?O[Fe]=qe:(me||(me={}))[Fe]=qe:x2(p.emitsOptions,Ee)||(!(Ee in B)||qe!==B[Ee])&&(B[Ee]=qe,ne=!0)}if(q){const Ee=Pr(O),qe=me||Rr;for(let Fe=0;Fe<q.length;Fe++){const Ye=q[Fe];O[Ye]=gA(U,Ee,Ye,qe[Ye],p,!vr(qe,Ye))}}return ne}function gA(p,b,O,B,U,q){const ne=p[O];if(ne!=null){const me=vr(ne,"default");if(me&&B===void 0){const Ee=ne.default;if(ne.type!==Function&&!ne.skipFactory&&Qt(Ee)){const{propsDefaults:qe}=U;if(O in qe)B=qe[O];else{const Fe=n1(U);B=qe[O]=Ee.call(null,b),Fe()}}else B=Ee;U.ce&&U.ce._setProp(O,B)}ne[0]&&(q&&!me?B=!1:ne[1]&&(B===""||B===Kf(O))&&(B=!0))}return B}const Kfe=new WeakMap;function Iee(p,b,O=!1){const B=O?Kfe:b.propsCache,U=B.get(p);if(U)return U;const q=p.props,ne={},me=[];let Ee=!1;if(!Qt(p)){const Fe=Ye=>{Ee=!0;const[wt,pt]=Iee(Ye,b,!0);po(ne,wt),pt&&me.push(...pt)};!O&&b.mixins.length&&b.mixins.forEach(Fe),p.extends&&Fe(p.extends),p.mixins&&p.mixins.forEach(Fe)}if(!q&&!Ee)return rn(p)&&B.set(p,pm),pm;if(Xt(q))for(let Fe=0;Fe<q.length;Fe++){const Ye=Mc(q[Fe]);vJ(Ye)&&(ne[Ye]=Rr)}else if(q)for(const Fe in q){const Ye=Mc(Fe);if(vJ(Ye)){const wt=q[Fe],pt=ne[Ye]=Xt(wt)||Qt(wt)?{type:wt}:po({},wt),Ht=pt.type;let Zt=!1,jr=!0;if(Xt(Ht))for(let re=0;re<Ht.length;++re){const Pe=Ht[re],fr=Qt(Pe)&&Pe.name;if(fr==="Boolean"){Zt=!0;break}else fr==="String"&&(jr=!1)}else Zt=Qt(Ht)&&Ht.name==="Boolean";pt[0]=Zt,pt[1]=jr,(Zt||vr(pt,"default"))&&me.push(Ye)}}const qe=[ne,me];return rn(p)&&B.set(p,qe),qe}function vJ(p){return p[0]!=="$"&&!Lb(p)}const Oee=p=>p[0]==="_"||p==="$stable",NA=p=>Xt(p)?p.map(Bs):[Bs(p)],Wfe=(p,b,O)=>{if(b._n)return b;const B=vfe((...U)=>NA(b(...U)),O);return B._c=!1,B},jee=(p,b,O)=>{const B=p._ctx;for(const U in p){if(Oee(U))continue;const q=p[U];if(Qt(q))b[U]=Wfe(U,q,B);else if(q!=null){const ne=NA(q);b[U]=()=>ne}}},Tee=(p,b)=>{const O=NA(b);p.slots.default=()=>O},Aee=(p,b,O)=>{for(const B in b)(O||B!=="_")&&(p[B]=b[B])},qfe=(p,b,O)=>{const B=p.slots=Eee();if(p.vnode.shapeFlag&32){const U=b._;U?(Aee(B,b,O),O&&KJ(B,"_",U,!0)):jee(b,B)}else b&&Tee(p,b)},$fe=(p,b,O)=>{const{vnode:B,slots:U}=p;let q=!0,ne=Rr;if(B.shapeFlag&32){const me=b._;me?O&&me===1?q=!1:Aee(U,b,O):(q=!b.$stable,jee(b,U)),ne=b}else b&&(Tee(p,b),ne={default:1});if(q)for(const me in U)!Oee(me)&&ne[me]==null&&delete U[me]},mi=spe;function Gfe(p){return Zfe(p)}function Zfe(p,b){const O=w2();O.__VUE__=!0;const{insert:B,remove:U,patchProp:q,createElement:ne,createText:me,createComment:Ee,setText:qe,setElementText:Fe,parentNode:Ye,nextSibling:wt,setScopeId:pt=Fs,insertStaticContent:Ht}=p,Zt=(ce,ye,Le,it=null,Qe=null,nt=null,dt=void 0,ct=null,ht=!!ye.dynamicChildren)=>{if(ce===ye)return;ce&&!Mb(ce,ye)&&(it=yr(ce),yn(ce,Qe,nt,!0),ce=null),ye.patchFlag===-2&&(ht=!1,ye.dynamicChildren=null);const{type:Ze,ref:Ct,shapeFlag:bt}=ye;switch(Ze){case S2:jr(ce,ye,Le,it);break;case Jb:re(ce,ye,Le,it);break;case rA:ce==null&&Pe(ye,Le,it,dt);break;case Fa:Cr(ce,ye,Le,it,Qe,nt,dt,ct,ht);break;default:bt&1?vt(ce,ye,Le,it,Qe,nt,dt,ct,ht):bt&6?Ua(ce,ye,Le,it,Qe,nt,dt,ct,ht):(bt&64||bt&128)&&Ze.process(ce,ye,Le,it,Qe,nt,dt,ct,ht,Bo)}Ct!=null&&Qe&&h2(Ct,ce&&ce.ref,nt,ye||ce,!ye)},jr=(ce,ye,Le,it)=>{if(ce==null)B(ye.el=me(ye.children),Le,it);else{const Qe=ye.el=ce.el;ye.children!==ce.children&&qe(Qe,ye.children)}},re=(ce,ye,Le,it)=>{ce==null?B(ye.el=Ee(ye.children||""),Le,it):ye.el=ce.el},Pe=(ce,ye,Le,it)=>{[ce.el,ce.anchor]=Ht(ce.children,ye,Le,it,ce.el,ce.anchor)},fr=({el:ce,anchor:ye},Le,it)=>{let Qe;for(;ce&&ce!==ye;)Qe=wt(ce),B(ce,Le,it),ce=Qe;B(ye,Le,it)},I=({el:ce,anchor:ye})=>{let Le;for(;ce&&ce!==ye;)Le=wt(ce),U(ce),ce=Le;U(ye)},vt=(ce,ye,Le,it,Qe,nt,dt,ct,ht)=>{ye.type==="svg"?dt="svg":ye.type==="math"&&(dt="mathml"),ce==null?ho(ye,Le,it,Qe,nt,dt,ct,ht):Ki(ce,ye,Qe,nt,dt,ct,ht)},ho=(ce,ye,Le,it,Qe,nt,dt,ct)=>{let ht,Ze;const{props:Ct,shapeFlag:bt,transition:kt,dirs:Nt}=ce;if(ht=ce.el=ne(ce.type,nt,Ct&&Ct.is,Ct),bt&8?Fe(ht,ce.children):bt&16&&oe(ce.children,ht,null,it,Qe,eA(ce,nt),dt,ct),Nt&&Mf(ce,null,it,"created"),Bn(ht,ce,ce.scopeId,dt,it),Ct){for(const Jt in Ct)Jt!=="value"&&!Lb(Jt)&&q(ht,Jt,null,Ct[Jt],nt,it);"value"in Ct&&q(ht,"value",null,Ct.value,nt),(Ze=Ct.onVnodeBeforeMount)&&Ds(Ze,it,ce)}Nt&&Mf(ce,null,it,"beforeMount");const Yt=Xfe(Qe,kt);Yt&&kt.beforeEnter(ht),B(ht,ye,Le),((Ze=Ct&&Ct.onVnodeMounted)||Yt||Nt)&&mi(()=>{Ze&&Ds(Ze,it,ce),Yt&&kt.enter(ht),Nt&&Mf(ce,null,it,"mounted")},Qe)},Bn=(ce,ye,Le,it,Qe)=>{if(Le&&pt(ce,Le),it)for(let nt=0;nt<it.length;nt++)pt(ce,it[nt]);if(Qe){let nt=Qe.subTree;if(ye===nt||Fee(nt.type)&&(nt.ssContent===ye||nt.ssFallback===ye)){const dt=Qe.vnode;Bn(ce,dt,dt.scopeId,dt.slotScopeIds,Qe.parent)}}},oe=(ce,ye,Le,it,Qe,nt,dt,ct,ht=0)=>{for(let Ze=ht;Ze<ce.length;Ze++){const Ct=ce[Ze]=ct?Rc(ce[Ze]):Bs(ce[Ze]);Zt(null,Ct,ye,Le,it,Qe,nt,dt,ct)}},Ki=(ce,ye,Le,it,Qe,nt,dt)=>{const ct=ye.el=ce.el;let{patchFlag:ht,dynamicChildren:Ze,dirs:Ct}=ye;ht|=ce.patchFlag&16;const bt=ce.props||Rr,kt=ye.props||Rr;let Nt;if(Le&&Uf(Le,!1),(Nt=kt.onVnodeBeforeUpdate)&&Ds(Nt,Le,ye,ce),Ct&&Mf(ye,ce,Le,"beforeUpdate"),Le&&Uf(Le,!0),(bt.innerHTML&&kt.innerHTML==null||bt.textContent&&kt.textContent==null)&&Fe(ct,""),Ze?Kt(ce.dynamicChildren,Ze,ct,Le,it,eA(ye,Qe),nt):dt||ut(ce,ye,ct,null,Le,it,eA(ye,Qe),nt,!1),ht>0){if(ht&16)Y(ct,bt,kt,Le,Qe);else if(ht&2&&bt.class!==kt.class&&q(ct,"class",null,kt.class,Qe),ht&4&&q(ct,"style",bt.style,kt.style,Qe),ht&8){const Yt=ye.dynamicProps;for(let Jt=0;Jt<Yt.length;Jt++){const tr=Yt[Jt],bn=bt[tr],dn=kt[tr];(dn!==bn||tr==="value")&&q(ct,tr,bn,dn,Qe,Le)}}ht&1&&ce.children!==ye.children&&Fe(ct,ye.children)}else!dt&&Ze==null&&Y(ct,bt,kt,Le,Qe);((Nt=kt.onVnodeUpdated)||Ct)&&mi(()=>{Nt&&Ds(Nt,Le,ye,ce),Ct&&Mf(ye,ce,Le,"updated")},it)},Kt=(ce,ye,Le,it,Qe,nt,dt)=>{for(let ct=0;ct<ye.length;ct++){const ht=ce[ct],Ze=ye[ct],Ct=ht.el&&(ht.type===Fa||!Mb(ht,Ze)||ht.shapeFlag&70)?Ye(ht.el):Le;Zt(ht,Ze,Ct,null,it,Qe,nt,dt,!0)}},Y=(ce,ye,Le,it,Qe)=>{if(ye!==Le){if(ye!==Rr)for(const nt in ye)!Lb(nt)&&!(nt in Le)&&q(ce,nt,ye[nt],null,Qe,it);for(const nt in Le){if(Lb(nt))continue;const dt=Le[nt],ct=ye[nt];dt!==ct&&nt!=="value"&&q(ce,nt,ct,dt,Qe,it)}"value"in Le&&q(ce,"value",ye.value,Le.value,Qe)}},Cr=(ce,ye,Le,it,Qe,nt,dt,ct,ht)=>{const Ze=ye.el=ce?ce.el:me(""),Ct=ye.anchor=ce?ce.anchor:me("");let{patchFlag:bt,dynamicChildren:kt,slotScopeIds:Nt}=ye;Nt&&(ct=ct?ct.concat(Nt):Nt),ce==null?(B(Ze,Le,it),B(Ct,Le,it),oe(ye.children||[],Le,Ct,Qe,nt,dt,ct,ht)):bt>0&&bt&64&&kt&&ce.dynamicChildren?(Kt(ce.dynamicChildren,kt,Le,Qe,nt,dt,ct),(ye.key!=null||Qe&&ye===Qe.subTree)&&Dee(ce,ye,!0)):ut(ce,ye,Le,Ct,Qe,nt,dt,ct,ht)},Ua=(ce,ye,Le,it,Qe,nt,dt,ct,ht)=>{ye.slotScopeIds=ct,ce==null?ye.shapeFlag&512?Qe.ctx.activate(ye,Le,it,dt,ht):Wi(ye,Le,it,Qe,nt,dt,ht):Vs(ce,ye,ht)},Wi=(ce,ye,Le,it,Qe,nt,dt)=>{const ct=ce.component=mpe(ce,it,Qe);if(yee(ce)&&(ct.ctx.renderer=Bo),vpe(ct,!1,dt),ct.asyncDep){if(Qe&&Qe.registerDep(ct,ve,dt),!ce.el){const ht=ct.subTree=Fc(Jb);re(null,ht,ye,Le)}}else ve(ct,ce,ye,Le,Qe,nt,dt)},Vs=(ce,ye,Le)=>{const it=ye.component=ce.component;if(ipe(ce,ye,Le))if(it.asyncDep&&!it.asyncResolved){nr(it,ye,Le);return}else it.next=ye,it.update();else ye.el=ce.el,it.vnode=ye},ve=(ce,ye,Le,it,Qe,nt,dt)=>{const ct=()=>{if(ce.isMounted){let{next:bt,bu:kt,u:Nt,parent:Yt,vnode:Jt}=ce;{const Rn=zee(ce);if(Rn){bt&&(bt.el=Jt.el,nr(ce,bt,dt)),Rn.asyncDep.then(()=>{ce.isUnmounted||ct()});return}}let tr=bt,bn;Uf(ce,!1),bt?(bt.el=Jt.el,nr(ce,bt,dt)):bt=Jt,kt&&G6(kt),(bn=bt.props&&bt.props.onVnodeBeforeUpdate)&&Ds(bn,Yt,bt,Jt),Uf(ce,!0);const dn=bJ(ce),wn=ce.subTree;ce.subTree=dn,Zt(wn,dn,Ye(wn.el),yr(wn),ce,Qe,nt),bt.el=dn.el,tr===null&&ape(ce,dn.el),Nt&&mi(Nt,Qe),(bn=bt.props&&bt.props.onVnodeUpdated)&&mi(()=>Ds(bn,Yt,bt,Jt),Qe)}else{let bt;const{el:kt,props:Nt}=ye,{bm:Yt,m:Jt,parent:tr,root:bn,type:dn}=ce,wn=$b(ye);Uf(ce,!1),Yt&&G6(Yt),!wn&&(bt=Nt&&Nt.onVnodeBeforeMount)&&Ds(bt,tr,ye),Uf(ce,!0);{bn.ce&&bn.ce._injectChildStyle(dn);const Rn=ce.subTree=bJ(ce);Zt(null,Rn,Le,it,ce,Qe,nt),ye.el=Rn.el}if(Jt&&mi(Jt,Qe),!wn&&(bt=Nt&&Nt.onVnodeMounted)){const Rn=ye;mi(()=>Ds(bt,tr,Rn),Qe)}(ye.shapeFlag&256||tr&&$b(tr.vnode)&&tr.vnode.shapeFlag&256)&&ce.a&&mi(ce.a,Qe),ce.isMounted=!0,ye=Le=it=null}};ce.scope.on();const ht=ce.effect=new GJ(ct);ce.scope.off();const Ze=ce.update=ht.run.bind(ht),Ct=ce.job=ht.runIfDirty.bind(ht);Ct.i=ce,Ct.id=ce.uid,ht.scheduler=()=>BA(Ct),Uf(ce,!0),Ze()},nr=(ce,ye,Le)=>{ye.component=ce;const it=ce.vnode.props;ce.vnode=ye,ce.next=null,Lfe(ce,ye.props,it,Le),$fe(ce,ye.children,Le),Vc(),fJ(ce),Hc()},ut=(ce,ye,Le,it,Qe,nt,dt,ct,ht=!1)=>{const Ze=ce&&ce.children,Ct=ce?ce.shapeFlag:0,bt=ye.children,{patchFlag:kt,shapeFlag:Nt}=ye;if(kt>0){if(kt&128){un(Ze,bt,Le,it,Qe,nt,dt,ct,ht);return}else if(kt&256){Cn(Ze,bt,Le,it,Qe,nt,dt,ct,ht);return}}Nt&8?(Ct&16&&wi(Ze,Qe,nt),bt!==Ze&&Fe(Le,bt)):Ct&16?Nt&16?un(Ze,bt,Le,it,Qe,nt,dt,ct,ht):wi(Ze,Qe,nt,!0):(Ct&8&&Fe(Le,""),Nt&16&&oe(bt,Le,it,Qe,nt,dt,ct,ht))},Cn=(ce,ye,Le,it,Qe,nt,dt,ct,ht)=>{ce=ce||pm,ye=ye||pm;const Ze=ce.length,Ct=ye.length,bt=Math.min(Ze,Ct);let kt;for(kt=0;kt<bt;kt++){const Nt=ye[kt]=ht?Rc(ye[kt]):Bs(ye[kt]);Zt(ce[kt],Nt,Le,null,Qe,nt,dt,ct,ht)}Ze>Ct?wi(ce,Qe,nt,!0,!1,bt):oe(ye,Le,it,Qe,nt,dt,ct,ht,bt)},un=(ce,ye,Le,it,Qe,nt,dt,ct,ht)=>{let Ze=0;const Ct=ye.length;let bt=ce.length-1,kt=Ct-1;for(;Ze<=bt&&Ze<=kt;){const Nt=ce[Ze],Yt=ye[Ze]=ht?Rc(ye[Ze]):Bs(ye[Ze]);if(Mb(Nt,Yt))Zt(Nt,Yt,Le,null,Qe,nt,dt,ct,ht);else break;Ze++}for(;Ze<=bt&&Ze<=kt;){const Nt=ce[bt],Yt=ye[kt]=ht?Rc(ye[kt]):Bs(ye[kt]);if(Mb(Nt,Yt))Zt(Nt,Yt,Le,null,Qe,nt,dt,ct,ht);else break;bt--,kt--}if(Ze>bt){if(Ze<=kt){const Nt=kt+1,Yt=Nt<Ct?ye[Nt].el:it;for(;Ze<=kt;)Zt(null,ye[Ze]=ht?Rc(ye[Ze]):Bs(ye[Ze]),Le,Yt,Qe,nt,dt,ct,ht),Ze++}}else if(Ze>kt)for(;Ze<=bt;)yn(ce[Ze],Qe,nt,!0),Ze++;else{const Nt=Ze,Yt=Ze,Jt=new Map;for(Ze=Yt;Ze<=kt;Ze++){const _n=ye[Ze]=ht?Rc(ye[Ze]):Bs(ye[Ze]);_n.key!=null&&Jt.set(_n.key,Ze)}let tr,bn=0;const dn=kt-Yt+1;let wn=!1,Rn=0;const Yr=new Array(dn);for(Ze=0;Ze<dn;Ze++)Yr[Ze]=0;for(Ze=Nt;Ze<=bt;Ze++){const _n=ce[Ze];if(bn>=dn){yn(_n,Qe,nt,!0);continue}let Nn;if(_n.key!=null)Nn=Jt.get(_n.key);else for(tr=Yt;tr<=kt;tr++)if(Yr[tr-Yt]===0&&Mb(_n,ye[tr])){Nn=tr;break}Nn===void 0?yn(_n,Qe,nt,!0):(Yr[Nn-Yt]=Ze+1,Nn>=Rn?Rn=Nn:wn=!0,Zt(_n,ye[Nn],Le,null,Qe,nt,dt,ct,ht),bn++)}const ou=wn?Yfe(Yr):pm;for(tr=ou.length-1,Ze=dn-1;Ze>=0;Ze--){const _n=Yt+Ze,Nn=ye[_n],Ls=_n+1<Ct?ye[_n+1].el:it;Yr[Ze]===0?Zt(null,Nn,Le,Ls,Qe,nt,dt,ct,ht):wn&&(tr<0||Ze!==ou[tr]?go(Nn,Le,Ls,2):tr--)}}},go=(ce,ye,Le,it,Qe=null)=>{const{el:nt,type:dt,transition:ct,children:ht,shapeFlag:Ze}=ce;if(Ze&6){go(ce.component.subTree,ye,Le,it);return}if(Ze&128){ce.suspense.move(ye,Le,it);return}if(Ze&64){dt.move(ce,ye,Le,Bo);return}if(dt===Fa){B(nt,ye,Le);for(let bt=0;bt<ht.length;bt++)go(ht[bt],ye,Le,it);B(ce.anchor,ye,Le);return}if(dt===rA){fr(ce,ye,Le);return}if(it!==2&&Ze&1&&ct)if(it===0)ct.beforeEnter(nt),B(nt,ye,Le),mi(()=>ct.enter(nt),Qe);else{const{leave:bt,delayLeave:kt,afterLeave:Nt}=ct,Yt=()=>B(nt,ye,Le),Jt=()=>{bt(nt,()=>{Yt(),Nt&&Nt()})};kt?kt(nt,Yt,Jt):Jt()}else B(nt,ye,Le)},yn=(ce,ye,Le,it=!1,Qe=!1)=>{const{type:nt,props:dt,ref:ct,children:ht,dynamicChildren:Ze,shapeFlag:Ct,patchFlag:bt,dirs:kt,cacheIndex:Nt}=ce;if(bt===-2&&(Qe=!1),ct!=null&&h2(ct,null,Le,ce,!0),Nt!=null&&(ye.renderCache[Nt]=void 0),Ct&256){ye.ctx.deactivate(ce);return}const Yt=Ct&1&&kt,Jt=!$b(ce);let tr;if(Jt&&(tr=dt&&dt.onVnodeBeforeUnmount)&&Ds(tr,ye,ce),Ct&6)cn(ce.component,Le,it);else{if(Ct&128){ce.suspense.unmount(Le,it);return}Yt&&Mf(ce,null,ye,"beforeUnmount"),Ct&64?ce.type.remove(ce,ye,Le,Bo,it):Ze&&!Ze.hasOnce&&(nt!==Fa||bt>0&&bt&64)?wi(Ze,ye,Le,!1,!0):(nt===Fa&&bt&384||!Qe&&Ct&16)&&wi(ht,ye,Le),it&&mo(ce)}(Jt&&(tr=dt&&dt.onVnodeUnmounted)||Yt)&&mi(()=>{tr&&Ds(tr,ye,ce),Yt&&Mf(ce,null,ye,"unmounted")},Le)},mo=ce=>{const{type:ye,el:Le,anchor:it,transition:Qe}=ce;if(ye===Fa){qi(Le,it);return}if(ye===rA){I(ce);return}const nt=()=>{U(Le),Qe&&!Qe.persisted&&Qe.afterLeave&&Qe.afterLeave()};if(ce.shapeFlag&1&&Qe&&!Qe.persisted){const{leave:dt,delayLeave:ct}=Qe,ht=()=>dt(Le,nt);ct?ct(ce.el,nt,ht):ht()}else nt()},qi=(ce,ye)=>{let Le;for(;ce!==ye;)Le=wt(ce),U(ce),ce=Le;U(ye)},cn=(ce,ye,Le)=>{const{bum:it,scope:Qe,job:nt,subTree:dt,um:ct,m:ht,a:Ze}=ce;yJ(ht),yJ(Ze),it&&G6(it),Qe.stop(),nt&&(nt.flags|=8,yn(dt,ce,ye,Le)),ct&&mi(ct,ye),mi(()=>{ce.isUnmounted=!0},ye),ye&&ye.pendingBranch&&!ye.isUnmounted&&ce.asyncDep&&!ce.asyncResolved&&ce.suspenseId===ye.pendingId&&(ye.deps--,ye.deps===0&&ye.resolve())},wi=(ce,ye,Le,it=!1,Qe=!1,nt=0)=>{for(let dt=nt;dt<ce.length;dt++)yn(ce[dt],ye,Le,it,Qe)},yr=ce=>{if(ce.shapeFlag&6)return yr(ce.component.subTree);if(ce.shapeFlag&128)return ce.suspense.next();const ye=wt(ce.anchor||ce.el),Le=ye&&ye[yfe];return Le?wt(Le):ye};let $i=!1;const Hs=(ce,ye,Le)=>{ce==null?ye._vnode&&yn(ye._vnode,null,null,!0):Zt(ye._vnode||null,ce,ye,null,null,null,Le),ye._vnode=ce,$i||($i=!0,fJ(),pee(),$i=!1)},Bo={p:Zt,um:yn,m:go,r:mo,mt:Wi,mc:oe,pc:ut,pbc:Kt,n:yr,o:p};return{render:Hs,hydrate:void 0,createApp:Ufe(Hs)}}function eA({type:p,props:b},O){return O==="svg"&&p==="foreignObject"||O==="mathml"&&p==="annotation-xml"&&b&&b.encoding&&b.encoding.includes("html")?void 0:O}function Uf({effect:p,job:b},O){O?(p.flags|=32,b.flags|=4):(p.flags&=-33,b.flags&=-5)}function Xfe(p,b){return(!p||p&&!p.pendingBranch)&&b&&!b.persisted}function Dee(p,b,O=!1){const B=p.children,U=b.children;if(Xt(B)&&Xt(U))for(let q=0;q<B.length;q++){const ne=B[q];let me=U[q];me.shapeFlag&1&&!me.dynamicChildren&&((me.patchFlag<=0||me.patchFlag===32)&&(me=U[q]=Rc(U[q]),me.el=ne.el),!O&&me.patchFlag!==-2&&Dee(ne,me)),me.type===S2&&(me.el=ne.el)}}function Yfe(p){const b=p.slice(),O=[0];let B,U,q,ne,me;const Ee=p.length;for(B=0;B<Ee;B++){const qe=p[B];if(qe!==0){if(U=O[O.length-1],p[U]<qe){b[B]=U,O.push(B);continue}for(q=0,ne=O.length-1;q<ne;)me=q+ne>>1,p[O[me]]<qe?q=me+1:ne=me;qe<p[O[q]]&&(q>0&&(b[B]=O[q-1]),O[q]=B)}}for(q=O.length,ne=O[q-1];q-- >0;)O[q]=ne,ne=b[ne];return O}function zee(p){const b=p.subTree.component;if(b)return b.asyncDep&&!b.asyncResolved?b:zee(b)}function yJ(p){if(p)for(let b=0;b<p.length;b++)p[b].flags|=8}const Qfe=Symbol.for("v-scx"),Jfe=()=>l2(Qfe);function tA(p,b,O){return Bee(p,b,O)}function Bee(p,b,O=Rr){const{immediate:B,deep:U,flush:q,once:ne}=O,me=po({},O),Ee=b&&B||!b&&q!=="post";let qe;if(t1){if(q==="sync"){const pt=Jfe();qe=pt.__watcherHandles||(pt.__watcherHandles=[])}else if(!Ee){const pt=()=>{};return pt.stop=Fs,pt.resume=Fs,pt.pause=Fs,pt}}const Fe=Do;me.call=(pt,Ht,Zt)=>Us(pt,Fe,Ht,Zt);let Ye=!1;q==="post"?me.scheduler=pt=>{mi(pt,Fe&&Fe.suspense)}:q!=="sync"&&(Ye=!0,me.scheduler=(pt,Ht)=>{Ht?pt():BA(pt)}),me.augmentJob=pt=>{b&&(pt.flags|=4),Ye&&(pt.flags|=2,Fe&&(pt.id=Fe.uid,pt.i=Fe))};const wt=ffe(p,b,me);return t1&&(qe?qe.push(wt):Ee&&wt()),wt}function epe(p,b,O){const B=this.proxy,U=Pn(p)?p.includes(".")?Ree(B,p):()=>B[p]:p.bind(B,B);let q;Qt(b)?q=b:(q=b.handler,O=b);const ne=n1(this),me=Bee(U,q.bind(B),O);return ne(),me}function Ree(p,b){const O=b.split(".");return()=>{let B=p;for(let U=0;U<O.length&&B;U++)B=B[O[U]];return B}}const tpe=(p,b)=>b==="modelValue"||b==="model-value"?p.modelModifiers:p[`${b}Modifiers`]||p[`${Mc(b)}Modifiers`]||p[`${Kf(b)}Modifiers`];function rpe(p,b,...O){if(p.isUnmounted)return;const B=p.vnode.props||Rr;let U=O;const q=b.startsWith("update:"),ne=q&&tpe(B,b.slice(7));ne&&(ne.trim&&(U=O.map(Fe=>Pn(Fe)?Fe.trim():Fe)),ne.number&&(U=O.map(Ade)));let me,Ee=B[me=$6(b)]||B[me=$6(Mc(b))];!Ee&&q&&(Ee=B[me=$6(Kf(b))]),Ee&&Us(Ee,p,6,U);const qe=B[me+"Once"];if(qe){if(!p.emitted)p.emitted={};else if(p.emitted[me])return;p.emitted[me]=!0,Us(qe,p,6,U)}}function Nee(p,b,O=!1){const B=b.emitsCache,U=B.get(p);if(U!==void 0)return U;const q=p.emits;let ne={},me=!1;if(!Qt(p)){const Ee=qe=>{const Fe=Nee(qe,b,!0);Fe&&(me=!0,po(ne,Fe))};!O&&b.mixins.length&&b.mixins.forEach(Ee),p.extends&&Ee(p.extends),p.mixins&&p.mixins.forEach(Ee)}return!q&&!me?(rn(p)&&B.set(p,null),null):(Xt(q)?q.forEach(Ee=>ne[Ee]=null):po(ne,q),rn(p)&&B.set(p,ne),ne)}function x2(p,b){return!p||!v2(b)?!1:(b=b.slice(2).replace(/Once$/,""),vr(p,b[0].toLowerCase()+b.slice(1))||vr(p,Kf(b))||vr(p,b))}function bJ(p){const{type:b,vnode:O,proxy:B,withProxy:U,propsOptions:[q],slots:ne,attrs:me,emit:Ee,render:qe,renderCache:Fe,props:Ye,data:wt,setupState:pt,ctx:Ht,inheritAttrs:Zt}=p,jr=p2(p);let re,Pe;try{if(O.shapeFlag&4){const I=U||B,vt=I;re=Bs(qe.call(vt,I,Fe,Ye,pt,wt,Ht)),Pe=me}else{const I=b;re=Bs(I.length>1?I(Ye,{attrs:me,slots:ne,emit:Ee}):I(Ye,null)),Pe=b.props?me:npe(me)}}catch(I){Zb.length=0,_2(I,p,1),re=Fc(Jb)}let fr=re;if(Pe&&Zt!==!1){const I=Object.keys(Pe),{shapeFlag:vt}=fr;I.length&&vt&7&&(q&&I.some(kA)&&(Pe=ope(Pe,q)),fr=ym(fr,Pe,!1,!0))}return O.dirs&&(fr=ym(fr,null,!1,!0),fr.dirs=fr.dirs?fr.dirs.concat(O.dirs):O.dirs),O.transition&&RA(fr,O.transition),re=fr,p2(jr),re}const npe=p=>{let b;for(const O in p)(O==="class"||O==="style"||v2(O))&&((b||(b={}))[O]=p[O]);return b},ope=(p,b)=>{const O={};for(const B in p)(!kA(B)||!(B.slice(9)in b))&&(O[B]=p[B]);return O};function ipe(p,b,O){const{props:B,children:U,component:q}=p,{props:ne,children:me,patchFlag:Ee}=b,qe=q.emitsOptions;if(b.dirs||b.transition)return!0;if(O&&Ee>=0){if(Ee&1024)return!0;if(Ee&16)return B?wJ(B,ne,qe):!!ne;if(Ee&8){const Fe=b.dynamicProps;for(let Ye=0;Ye<Fe.length;Ye++){const wt=Fe[Ye];if(ne[wt]!==B[wt]&&!x2(qe,wt))return!0}}}else return(U||me)&&(!me||!me.$stable)?!0:B===ne?!1:B?ne?wJ(B,ne,qe):!0:!!ne;return!1}function wJ(p,b,O){const B=Object.keys(b);if(B.length!==Object.keys(p).length)return!0;for(let U=0;U<B.length;U++){const q=B[U];if(b[q]!==p[q]&&!x2(O,q))return!0}return!1}function ape({vnode:p,parent:b},O){for(;b;){const B=b.subTree;if(B.suspense&&B.suspense.activeBranch===p&&(B.el=p.el),B===p)(p=b.vnode).el=O,b=b.parent;else break}}const Fee=p=>p.__isSuspense;function spe(p,b){b&&b.pendingBranch?Xt(p)?b.effects.push(...p):b.effects.push(p):mfe(p)}const Fa=Symbol.for("v-fgt"),S2=Symbol.for("v-txt"),Jb=Symbol.for("v-cmt"),rA=Symbol.for("v-stc"),Zb=[];let bi=null;function Mee(p=!1){Zb.push(bi=p?null:[])}function lpe(){Zb.pop(),bi=Zb[Zb.length-1]||null}let e1=1;function _J(p,b=!1){e1+=p,p<0&&bi&&b&&(bi.hasOnce=!0)}function upe(p){return p.dynamicChildren=e1>0?bi||pm:null,lpe(),e1>0&&bi&&bi.push(p),p}function Uee(p,b,O,B,U,q){return upe(Rs(p,b,O,B,U,q,!0))}function Vee(p){return p?p.__v_isVNode===!0:!1}function Mb(p,b){return p.type===b.type&&p.key===b.key}const Hee=({key:p})=>p??null,u2=({ref:p,ref_key:b,ref_for:O})=>(typeof p=="number"&&(p=""+p),p!=null?Pn(p)||zo(p)||Qt(p)?{i:Ns,r:p,k:b,f:!!O}:p:null);function Rs(p,b=null,O=null,B=0,U=null,q=p===Fa?0:1,ne=!1,me=!1){const Ee={__v_isVNode:!0,__v_skip:!0,type:p,props:b,key:b&&Hee(b),ref:b&&u2(b),scopeId:gee,slotScopeIds:null,children:O,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:q,patchFlag:B,dynamicProps:U,dynamicChildren:null,appContext:null,ctx:Ns};return me?(FA(Ee,O),q&128&&p.normalize(Ee)):O&&(Ee.shapeFlag|=Pn(O)?8:16),e1>0&&!ne&&bi&&(Ee.patchFlag>0||q&6)&&Ee.patchFlag!==32&&bi.push(Ee),Ee}const Fc=cpe;function cpe(p,b=null,O=null,B=0,U=null,q=!1){if((!p||p===Afe)&&(p=Jb),Vee(p)){const me=ym(p,b,!0);return O&&FA(me,O),e1>0&&!q&&bi&&(me.shapeFlag&6?bi[bi.indexOf(p)]=me:bi.push(me)),me.patchFlag=-2,me}if(_pe(p)&&(p=p.__vccOpts),b){b=dpe(b);let{class:me,style:Ee}=b;me&&!Pn(me)&&(b.class=PA(me)),rn(Ee)&&(zA(Ee)&&!Xt(Ee)&&(Ee=po({},Ee)),b.style=EA(Ee))}const ne=Pn(p)?1:Fee(p)?128:bfe(p)?64:rn(p)?4:Qt(p)?2:0;return Rs(p,b,O,B,U,ne,q,!0)}function dpe(p){return p?zA(p)||Pee(p)?po({},p):p:null}function ym(p,b,O=!1,B=!1){const{props:U,ref:q,patchFlag:ne,children:me,transition:Ee}=p,qe=b?ppe(U||{},b):U,Fe={__v_isVNode:!0,__v_skip:!0,type:p.type,props:qe,key:qe&&Hee(qe),ref:b&&b.ref?O&&q?Xt(q)?q.concat(u2(b)):[q,u2(b)]:u2(b):q,scopeId:p.scopeId,slotScopeIds:p.slotScopeIds,children:me,target:p.target,targetStart:p.targetStart,targetAnchor:p.targetAnchor,staticCount:p.staticCount,shapeFlag:p.shapeFlag,patchFlag:b&&p.type!==Fa?ne===-1?16:ne|16:ne,dynamicProps:p.dynamicProps,dynamicChildren:p.dynamicChildren,appContext:p.appContext,dirs:p.dirs,transition:Ee,component:p.component,suspense:p.suspense,ssContent:p.ssContent&&ym(p.ssContent),ssFallback:p.ssFallback&&ym(p.ssFallback),el:p.el,anchor:p.anchor,ctx:p.ctx,ce:p.ce};return Ee&&B&&RA(Fe,Ee.clone(Fe)),Fe}function fpe(p=" ",b=0){return Fc(S2,null,p,b)}function Bs(p){return p==null||typeof p=="boolean"?Fc(Jb):Xt(p)?Fc(Fa,null,p.slice()):Vee(p)?Rc(p):Fc(S2,null,String(p))}function Rc(p){return p.el===null&&p.patchFlag!==-1||p.memo?p:ym(p)}function FA(p,b){let O=0;const{shapeFlag:B}=p;if(b==null)b=null;else if(Xt(b))O=16;else if(typeof b=="object")if(B&65){const U=b.default;U&&(U._c&&(U._d=!1),FA(p,U()),U._c&&(U._d=!0));return}else{O=32;const U=b._;!U&&!Pee(b)?b._ctx=Ns:U===3&&Ns&&(Ns.slots._===1?b._=1:(b._=2,p.patchFlag|=1024))}else Qt(b)?(b={default:b,_ctx:Ns},O=32):(b=String(b),B&64?(O=16,b=[fpe(b)]):O=8);p.children=b,p.shapeFlag|=O}function ppe(...p){const b={};for(let O=0;O<p.length;O++){const B=p[O];for(const U in B)if(U==="class")b.class!==B.class&&(b.class=PA([b.class,B.class]));else if(U==="style")b.style=EA([b.style,B.style]);else if(v2(U)){const q=b[U],ne=B[U];ne&&q!==ne&&!(Xt(q)&&q.includes(ne))&&(b[U]=q?[].concat(q,ne):ne)}else U!==""&&(b[U]=B[U])}return b}function Ds(p,b,O,B=null){Us(p,b,7,[O,B])}const hpe=xee();let gpe=0;function mpe(p,b,O){const B=p.type,U=(b?b.appContext:p.appContext)||hpe,q={uid:gpe++,vnode:p,type:B,parent:b,appContext:U,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Mde(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:b?b.provides:Object.create(U.provides),ids:b?b.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Iee(B,U),emitsOptions:Nee(B,U),emit:null,emitted:null,propsDefaults:Rr,inheritAttrs:B.inheritAttrs,ctx:Rr,data:Rr,props:Rr,attrs:Rr,slots:Rr,refs:Rr,setupState:Rr,setupContext:null,suspense:O,suspenseId:O?O.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return q.ctx={_:q},q.root=b?b.root:q,q.emit=rpe.bind(null,q),p.ce&&p.ce(q),q}let Do=null,m2,mA;{const p=w2(),b=(O,B)=>{let U;return(U=p[O])||(U=p[O]=[]),U.push(B),q=>{U.length>1?U.forEach(ne=>ne(q)):U[0](q)}};m2=b("__VUE_INSTANCE_SETTERS__",O=>Do=O),mA=b("__VUE_SSR_SETTERS__",O=>t1=O)}const n1=p=>{const b=Do;return m2(p),p.scope.on(),()=>{p.scope.off(),m2(b)}},kJ=()=>{Do&&Do.scope.off(),m2(null)};function Lee(p){return p.vnode.shapeFlag&4}let t1=!1;function vpe(p,b=!1,O=!1){b&&mA(b);const{props:B,children:U}=p.vnode,q=Lee(p);Hfe(p,B,q,b),qfe(p,U,O);const ne=q?ype(p,b):void 0;return b&&mA(!1),ne}function ype(p,b){const O=p.type;p.accessCache=Object.create(null),p.proxy=new Proxy(p.ctx,Dfe);const{setup:B}=O;if(B){Vc();const U=p.setupContext=B.length>1?wpe(p):null,q=n1(p),ne=r1(B,p,0,[p.props,U]),me=UJ(ne);if(Hc(),q(),(me||p.sp)&&!$b(p)&&vee(p),me){if(ne.then(kJ,kJ),b)return ne.then(Ee=>{xJ(p,Ee)}).catch(Ee=>{_2(Ee,p,0)});p.asyncDep=ne}else xJ(p,ne)}else Kee(p)}function xJ(p,b,O){Qt(b)?p.type.__ssrInlineRender?p.ssrRender=b:p.render=b:rn(b)&&(p.setupState=cee(b)),Kee(p)}function Kee(p,b,O){const B=p.type;p.render||(p.render=B.render||Fs);{const U=n1(p);Vc();try{zfe(p)}finally{Hc(),U()}}}const bpe={get(p,b){return fo(p,"get",""),p[b]}};function wpe(p){const b=O=>{p.exposed=O||{}};return{attrs:new Proxy(p.attrs,bpe),slots:p.slots,emit:p.emit,expose:b}}function MA(p){return p.exposed?p.exposeProxy||(p.exposeProxy=new Proxy(cee(afe(p.exposed)),{get(b,O){if(O in b)return b[O];if(O in Gb)return Gb[O](p)},has(b,O){return O in b||O in Gb}})):p.proxy}function _pe(p){return Qt(p)&&"__vccOpts"in p}const kpe=(p,b)=>cfe(p,b,t1),xpe="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vA;const SJ=typeof window<"u"&&window.trustedTypes;if(SJ)try{vA=SJ.createPolicy("vue",{createHTML:p=>p})}catch{}const Wee=vA?p=>vA.createHTML(p):p=>p,Spe="http://www.w3.org/2000/svg",Epe="http://www.w3.org/1998/Math/MathML",tu=typeof document<"u"?document:null,EJ=tu&&tu.createElement("template"),Ppe={insert:(p,b,O)=>{b.insertBefore(p,O||null)},remove:p=>{const b=p.parentNode;b&&b.removeChild(p)},createElement:(p,b,O,B)=>{const U=b==="svg"?tu.createElementNS(Spe,p):b==="mathml"?tu.createElementNS(Epe,p):O?tu.createElement(p,{is:O}):tu.createElement(p);return p==="select"&&B&&B.multiple!=null&&U.setAttribute("multiple",B.multiple),U},createText:p=>tu.createTextNode(p),createComment:p=>tu.createComment(p),setText:(p,b)=>{p.nodeValue=b},setElementText:(p,b)=>{p.textContent=b},parentNode:p=>p.parentNode,nextSibling:p=>p.nextSibling,querySelector:p=>tu.querySelector(p),setScopeId(p,b){p.setAttribute(b,"")},insertStaticContent(p,b,O,B,U,q){const ne=O?O.previousSibling:b.lastChild;if(U&&(U===q||U.nextSibling))for(;b.insertBefore(U.cloneNode(!0),O),!(U===q||!(U=U.nextSibling)););else{EJ.innerHTML=Wee(B==="svg"?`<svg>${p}</svg>`:B==="mathml"?`<math>${p}</math>`:p);const me=EJ.content;if(B==="svg"||B==="mathml"){const Ee=me.firstChild;for(;Ee.firstChild;)me.appendChild(Ee.firstChild);me.removeChild(Ee)}b.insertBefore(me,O)}return[ne?ne.nextSibling:b.firstChild,O?O.previousSibling:b.lastChild]}},Cpe=Symbol("_vtc");function Ipe(p,b,O){const B=p[Cpe];B&&(b=(b?[b,...B]:[...B]).join(" ")),b==null?p.removeAttribute("class"):O?p.setAttribute("class",b):p.className=b}const PJ=Symbol("_vod"),Ope=Symbol("_vsh"),jpe=Symbol(""),Tpe=/(^|;)\s*display\s*:/;function Ape(p,b,O){const B=p.style,U=Pn(O);let q=!1;if(O&&!U){if(b)if(Pn(b))for(const ne of b.split(";")){const me=ne.slice(0,ne.indexOf(":")).trim();O[me]==null&&c2(B,me,"")}else for(const ne in b)O[ne]==null&&c2(B,ne,"");for(const ne in O)ne==="display"&&(q=!0),c2(B,ne,O[ne])}else if(U){if(b!==O){const ne=B[jpe];ne&&(O+=";"+ne),B.cssText=O,q=Tpe.test(O)}}else b&&p.removeAttribute("style");PJ in p&&(p[PJ]=q?B.display:"",p[Ope]&&(B.display="none"))}const CJ=/\s*!important$/;function c2(p,b,O){if(Xt(O))O.forEach(B=>c2(p,b,B));else if(O==null&&(O=""),b.startsWith("--"))p.setProperty(b,O);else{const B=Dpe(p,b);CJ.test(O)?p.setProperty(Kf(B),O.replace(CJ,""),"important"):p[B]=O}}const IJ=["Webkit","Moz","ms"],nA={};function Dpe(p,b){const O=nA[b];if(O)return O;let B=Mc(b);if(B!=="filter"&&B in p)return nA[b]=B;B=LJ(B);for(let U=0;U<IJ.length;U++){const q=IJ[U]+B;if(q in p)return nA[b]=q}return b}const OJ="http://www.w3.org/1999/xlink";function jJ(p,b,O,B,U,q=Fde(b)){B&&b.startsWith("xlink:")?O==null?p.removeAttributeNS(OJ,b.slice(6,b.length)):p.setAttributeNS(OJ,b,O):O==null||q&&!WJ(O)?p.removeAttribute(b):p.setAttribute(b,q?"":Uc(O)?String(O):O)}function TJ(p,b,O,B,U){if(b==="innerHTML"||b==="textContent"){O!=null&&(p[b]=b==="innerHTML"?Wee(O):O);return}const q=p.tagName;if(b==="value"&&q!=="PROGRESS"&&!q.includes("-")){const me=q==="OPTION"?p.getAttribute("value")||"":p.value,Ee=O==null?p.type==="checkbox"?"on":"":String(O);(me!==Ee||!("_value"in p))&&(p.value=Ee),O==null&&p.removeAttribute(b),p._value=O;return}let ne=!1;if(O===""||O==null){const me=typeof p[b];me==="boolean"?O=WJ(O):O==null&&me==="string"?(O="",ne=!0):me==="number"&&(O=0,ne=!0)}try{p[b]=O}catch{}ne&&p.removeAttribute(U||b)}function zpe(p,b,O,B){p.addEventListener(b,O,B)}function Bpe(p,b,O,B){p.removeEventListener(b,O,B)}const AJ=Symbol("_vei");function Rpe(p,b,O,B,U=null){const q=p[AJ]||(p[AJ]={}),ne=q[b];if(B&&ne)ne.value=B;else{const[me,Ee]=Npe(b);if(B){const qe=q[b]=Upe(B,U);zpe(p,me,qe,Ee)}else ne&&(Bpe(p,me,ne,Ee),q[b]=void 0)}}const DJ=/(?:Once|Passive|Capture)$/;function Npe(p){let b;if(DJ.test(p)){b={};let B;for(;B=p.match(DJ);)p=p.slice(0,p.length-B[0].length),b[B[0].toLowerCase()]=!0}return[p[2]===":"?p.slice(3):Kf(p.slice(2)),b]}let oA=0;const Fpe=Promise.resolve(),Mpe=()=>oA||(Fpe.then(()=>oA=0),oA=Date.now());function Upe(p,b){const O=B=>{if(!B._vts)B._vts=Date.now();else if(B._vts<=O.attached)return;Us(Vpe(B,O.value),b,5,[B])};return O.value=p,O.attached=Mpe(),O}function Vpe(p,b){if(Xt(b)){const O=p.stopImmediatePropagation;return p.stopImmediatePropagation=()=>{O.call(p),p._stopped=!0},b.map(B=>U=>!U._stopped&&B&&B(U))}else return b}const zJ=p=>p.charCodeAt(0)===111&&p.charCodeAt(1)===110&&p.charCodeAt(2)>96&&p.charCodeAt(2)<123,Hpe=(p,b,O,B,U,q)=>{const ne=U==="svg";b==="class"?Ipe(p,B,ne):b==="style"?Ape(p,O,B):v2(b)?kA(b)||Rpe(p,b,O,B,q):(b[0]==="."?(b=b.slice(1),!0):b[0]==="^"?(b=b.slice(1),!1):Lpe(p,b,B,ne))?(TJ(p,b,B),!p.tagName.includes("-")&&(b==="value"||b==="checked"||b==="selected")&&jJ(p,b,B,ne,q,b!=="value")):p._isVueCE&&(/[A-Z]/.test(b)||!Pn(B))?TJ(p,Mc(b),B,q,b):(b==="true-value"?p._trueValue=B:b==="false-value"&&(p._falseValue=B),jJ(p,b,B,ne))};function Lpe(p,b,O,B){if(B)return!!(b==="innerHTML"||b==="textContent"||b in p&&zJ(b)&&Qt(O));if(b==="spellcheck"||b==="draggable"||b==="translate"||b==="form"||b==="list"&&p.tagName==="INPUT"||b==="type"&&p.tagName==="TEXTAREA")return!1;if(b==="width"||b==="height"){const U=p.tagName;if(U==="IMG"||U==="VIDEO"||U==="CANVAS"||U==="SOURCE")return!1}return zJ(b)&&Pn(O)?!1:b in p}const Kpe=po({patchProp:Hpe},Ppe);let BJ;function Wpe(){return BJ||(BJ=Gfe(Kpe))}const qpe=(...p)=>{const b=Wpe().createApp(...p),{mount:O}=b;return b.mount=B=>{const U=Gpe(B);if(!U)return;const q=b._component;!Qt(q)&&!q.render&&!q.template&&(q.template=U.innerHTML),U.nodeType===1&&(U.textContent="");const ne=O(U,!1,$pe(U));return U instanceof Element&&(U.removeAttribute("v-cloak"),U.setAttribute("data-v-app","")),ne},b};function $pe(p){if(p instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&p instanceof MathMLElement)return"mathml"}function Gpe(p){return Pn(p)?document.querySelector(p):p}const Zpe="/vite-theatrejs-playground/vite.svg",Xpe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='37.07'%20height='36'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20198'%3e%3cpath%20fill='%2341B883'%20d='M204.8%200H256L128%20220.8L0%200h97.92L128%2051.2L157.44%200h47.36Z'%3e%3c/path%3e%3cpath%20fill='%2341B883'%20d='m0%200l128%20220.8L256%200h-51.2L128%20132.48L50.56%200H0Z'%3e%3c/path%3e%3cpath%20fill='%2335495E'%20d='M50.56%200L128%20133.12L204.8%200h-47.36L128%2051.2L97.92%200H50.56Z'%3e%3c/path%3e%3c/svg%3e";var Xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ype(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Vb={exports:{}},iA={},RJ;function rt(){return RJ||(RJ=1,function(p){var b=Object.defineProperty,O=Object.defineProperties,B=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,me=(N,Q,he)=>Q in N?b(N,Q,{enumerable:!0,configurable:!0,writable:!0,value:he}):N[Q]=he,Ee=(N,Q)=>{for(var he in Q||(Q={}))q.call(Q,he)&&me(N,he,Q[he]);if(U)for(var he of U(Q))ne.call(Q,he)&&me(N,he,Q[he]);return N},qe=(N,Q)=>O(N,B(Q)),Fe=N=>b(N,"__esModule",{value:!0}),Ye=(N,Q)=>{Fe(N);for(var he in Q)b(N,he,{get:Q[he],enumerable:!0})};Ye(p,{Atom:()=>ld,PointerProxy:()=>Bp,Ticker:()=>zp,getPointerParts:()=>La,isPointer:()=>na,isPrism:()=>Pi,iterateAndCountTicks:()=>Dp,iterateOver:()=>cd,pointer:()=>ed,pointerToPrism:()=>mu,prism:()=>oa,val:()=>ol});var wt=Array.isArray,pt=wt,Ht=typeof Xr=="object"&&Xr&&Xr.Object===Object&&Xr,Zt=Ht,jr=typeof self=="object"&&self&&self.Object===Object&&self,re=Zt||jr||Function("return this")(),Pe=re,fr=Pe.Symbol,I=fr,vt=Object.prototype,ho=vt.hasOwnProperty,Bn=vt.toString,oe=I?I.toStringTag:void 0;function Ki(N){var Q=ho.call(N,oe),he=N[oe];try{N[oe]=void 0;var Ue=!0}catch{}var Ft=Bn.call(N);return Ue&&(Q?N[oe]=he:delete N[oe]),Ft}var Kt=Ki,Y=Object.prototype,Cr=Y.toString;function Ua(N){return Cr.call(N)}var Wi=Ua,Vs="[object Null]",ve="[object Undefined]",nr=I?I.toStringTag:void 0;function ut(N){return N==null?N===void 0?ve:Vs:nr&&nr in Object(N)?Kt(N):Wi(N)}var Cn=ut;function un(N){return N!=null&&typeof N=="object"}var go=un,yn="[object Symbol]";function mo(N){return typeof N=="symbol"||go(N)&&Cn(N)==yn}var qi=mo,cn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wi=/^\w*$/;function yr(N,Q){if(pt(N))return!1;var he=typeof N;return he=="number"||he=="symbol"||he=="boolean"||N==null||qi(N)?!0:wi.test(N)||!cn.test(N)||Q!=null&&N in Object(Q)}var $i=yr;function Hs(N){var Q=typeof N;return N!=null&&(Q=="object"||Q=="function")}var Bo=Hs,_i="[object AsyncFunction]",ce="[object Function]",ye="[object GeneratorFunction]",Le="[object Proxy]";function it(N){if(!Bo(N))return!1;var Q=Cn(N);return Q==ce||Q==ye||Q==_i||Q==Le}var Qe=it,nt=Pe["__core-js_shared__"],dt=nt,ct=function(){var N=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}();function ht(N){return!!ct&&ct in N}var Ze=ht,Ct=Function.prototype,bt=Ct.toString;function kt(N){if(N!=null){try{return bt.call(N)}catch{}try{return N+""}catch{}}return""}var Nt=kt,Yt=/[\\^$.*+?()[\]{}|]/g,Jt=/^\[object .+?Constructor\]$/,tr=Function.prototype,bn=Object.prototype,dn=tr.toString,wn=bn.hasOwnProperty,Rn=RegExp("^"+dn.call(wn).replace(Yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yr(N){if(!Bo(N)||Ze(N))return!1;var Q=Qe(N)?Rn:Jt;return Q.test(Nt(N))}var ou=Yr;function _n(N,Q){return N==null?void 0:N[Q]}var Nn=_n;function Ls(N,Q){var he=Nn(N,Q);return ou(he)?he:void 0}var iu=Ls,Yo=iu(Object,"create"),Ro=Yo;function Lc(){this.__data__=Ro?Ro(null):{},this.size=0}var Qo=Lc;function Va(N){var Q=this.has(N)&&delete this.__data__[N];return this.size-=Q?1:0,Q}var bm=Va,Wf="__lodash_hash_undefined__",Gi=Object.prototype,Ks=Gi.hasOwnProperty;function Zi(N){var Q=this.__data__;if(Ro){var he=Q[N];return he===Wf?void 0:he}return Ks.call(Q,N)?Q[N]:void 0}var Ha=Zi,Kc=Object.prototype,qf=Kc.hasOwnProperty;function Fn(N){var Q=this.__data__;return Ro?Q[N]!==void 0:qf.call(Q,N)}var vo=Fn,$f="__lodash_hash_undefined__";function Gf(N,Q){var he=this.__data__;return this.size+=this.has(N)?0:1,he[N]=Ro&&Q===void 0?$f:Q,this}var Wc=Gf;function ki(N){var Q=-1,he=N==null?0:N.length;for(this.clear();++Q<he;){var Ue=N[Q];this.set(Ue[0],Ue[1])}}ki.prototype.clear=Qo,ki.prototype.delete=bm,ki.prototype.get=Ha,ki.prototype.has=vo,ki.prototype.set=Wc;var qc=ki;function wm(){this.__data__=[],this.size=0}var _m=wm;function xi(N,Q){return N===Q||N!==N&&Q!==Q}var Zf=xi;function Ws(N,Q){for(var he=N.length;he--;)if(Zf(N[he][0],Q))return he;return-1}var au=Ws,Xf=Array.prototype,Yf=Xf.splice;function km(N){var Q=this.__data__,he=au(Q,N);if(he<0)return!1;var Ue=Q.length-1;return he==Ue?Q.pop():Yf.call(Q,he,1),--this.size,!0}var xm=km;function No(N){var Q=this.__data__,he=au(Q,N);return he<0?void 0:Q[he][1]}var Xi=No;function Sm(N){return au(this.__data__,N)>-1}var $c=Sm;function Qf(N,Q){var he=this.__data__,Ue=au(he,N);return Ue<0?(++this.size,he.push([N,Q])):he[Ue][1]=Q,this}var Jf=Qf;function Yi(N){var Q=-1,he=N==null?0:N.length;for(this.clear();++Q<he;){var Ue=N[Q];this.set(Ue[0],Ue[1])}}Yi.prototype.clear=_m,Yi.prototype.delete=xm,Yi.prototype.get=Xi,Yi.prototype.has=$c,Yi.prototype.set=Jf;var ep=Yi,Jo=iu(Pe,"Map"),qs=Jo;function Em(){this.size=0,this.__data__={hash:new qc,map:new(qs||ep),string:new qc}}var Si=Em;function Gc(N){var Q=typeof N;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?N!=="__proto__":N===null}var su=Gc;function tp(N,Q){var he=N.__data__;return su(Q)?he[typeof Q=="string"?"string":"hash"]:he.map}var lu=tp;function Qi(N){var Q=lu(this,N).delete(N);return this.size-=Q?1:0,Q}var uu=Qi;function cu(N){return lu(this,N).get(N)}var $s=cu;function du(N){return lu(this,N).has(N)}var Pm=du;function rp(N,Q){var he=lu(this,N),Ue=he.size;return he.set(N,Q),this.size+=he.size==Ue?0:1,this}var np=rp;function Ji(N){var Q=-1,he=N==null?0:N.length;for(this.clear();++Q<he;){var Ue=N[Q];this.set(Ue[0],Ue[1])}}Ji.prototype.clear=Si,Ji.prototype.delete=uu,Ji.prototype.get=$s,Ji.prototype.has=Pm,Ji.prototype.set=np;var Zc=Ji,Xc="Expected a function";function fu(N,Q){if(typeof N!="function"||Q!=null&&typeof Q!="function")throw new TypeError(Xc);var he=function(){var Ue=arguments,Ft=Q?Q.apply(this,Ue):Ue[0],er=he.cache;if(er.has(Ft))return er.get(Ft);var Jr=N.apply(this,Ue);return he.cache=er.set(Ft,Jr)||er,Jr};return he.cache=new(fu.Cache||Zc),he}fu.Cache=Zc;var op=fu,ei=500;function pu(N){var Q=op(N,function(Ue){return he.size===ei&&he.clear(),Ue}),he=Q.cache;return Q}var Cm=pu,ea=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ip=/\\(\\)?/g,Im=Cm(function(N){var Q=[];return N.charCodeAt(0)===46&&Q.push(""),N.replace(ea,function(he,Ue,Ft,er){Q.push(Ft?er.replace(ip,"$1"):Ue||he)}),Q}),Om=Im;function ap(N,Q){for(var he=-1,Ue=N==null?0:N.length,Ft=Array(Ue);++he<Ue;)Ft[he]=Q(N[he],he,N);return Ft}var sp=ap,eo=I?I.prototype:void 0,Yc=eo?eo.toString:void 0;function lp(N){if(typeof N=="string")return N;if(pt(N))return sp(N,lp)+"";if(qi(N))return Yc?Yc.call(N):"";var Q=N+"";return Q=="0"&&1/N==-1/0?"-0":Q}var up=lp;function cp(N){return N==null?"":up(N)}var dp=cp;function fp(N,Q){return pt(N)?N:$i(N,Q)?[N]:Om(dp(N))}var pp=fp;function hp(N){if(typeof N=="string"||qi(N))return N;var Q=N+"";return Q=="0"&&1/N==-1/0?"-0":Q}var ta=hp;function Gs(N,Q){Q=pp(Q,N);for(var he=0,Ue=Q.length;N!=null&&he<Ue;)N=N[ta(Q[he++])];return he&&he==Ue?N:void 0}var jm=Gs;function Qc(N,Q,he){var Ue=N==null?void 0:jm(N,Q);return Ue===void 0?he:Ue}var gp=Qc;function Tm(N,Q){return function(he){return N(Q(he))}}var Am=Tm,Ei=Am(Object.getPrototypeOf,Object),ra=Ei,mp="[object Object]",hu=Function.prototype,Dm=Object.prototype,vp=hu.toString,yp=Dm.hasOwnProperty,bp=vp.call(Object);function wp(N){if(!go(N)||Cn(N)!=mp)return!1;var Q=ra(N);if(Q===null)return!0;var he=yp.call(Q,"constructor")&&Q.constructor;return typeof he=="function"&&he instanceof he&&vp.call(he)==bp}var Jc=wp;function _p(N){var Q=N==null?0:N.length;return Q?N[Q-1]:void 0}var zm=_p,Zs=new WeakMap,kp=new WeakMap,Xs=Symbol("pointerMeta"),xp={get(N,Q){if(Q===Xs)return Zs.get(N);let he=kp.get(N);he||(he=new Map,kp.set(N,he));const Ue=he.get(Q);if(Ue!==void 0)return Ue;const Ft=Zs.get(N),er=Ys({root:Ft.root,path:[...Ft.path,Q]});return he.set(Q,er),er}},Fo=N=>N[Xs],La=N=>{const{root:Q,path:he}=Fo(N);return{root:Q,path:he}};function Ys(N){var Q;const he={root:N.root,path:(Q=N.path)!=null?Q:[]},Ue={};return Zs.set(Ue,he),new Proxy(Ue,xp)}var ed=Ys,na=N=>N&&!!Fo(N);function td(N,Q,he){return Q.length===0?he(N):Ka(N,Q,he)}var Ka=(N,Q,he)=>{if(Q.length===0)return he(N);if(Array.isArray(N)){let[Ue,...Ft]=Q;Ue=parseInt(String(Ue),10),isNaN(Ue)&&(Ue=0);const er=N[Ue],Jr=Ka(er,Ft,he);if(er===Jr)return N;const Mo=[...N];return Mo.splice(Ue,1,Jr),Mo}else if(typeof N=="object"&&N!==null){const[Ue,...Ft]=Q,er=N[Ue],Jr=Ka(er,Ft,he);return er===Jr?N:qe(Ee({},N),{[Ue]:Jr})}else{const[Ue,...Ft]=Q;return{[Ue]:Ka(void 0,Ft,he)}}},Qr=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const N=this._head;if(N)return this._head=N.next,N.data}push(N){const Q={next:this._head,data:N};this._head=Q}};function Pi(N){return!!(N&&N.isPrism&&N.isPrism===!0)}function gu(){const N=()=>{},Q=new Qr,he=N;return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{Q.push(he)},stopIgnoringDependencies:()=>{Q.peek()!==he||Q.pop()},reportResolutionStart:qa=>{const il=Q.peek();il&&il(qa),Q.push(he)},reportResolutionEnd:qa=>{Q.pop()},pushCollector:qa=>{Q.push(qa)},popCollector:qa=>{if(Q.peek()!==qa)throw new Error("Popped collector is not on top of the stack");Q.pop()}}}function Sp(){const N="__dataverse_discoveryMechanism_sharedStack",Q=typeof window<"u"?window:typeof Xr<"u"?Xr:{};if(Q){const he=Q[N];if(he&&typeof he=="object"&&he.type==="Dataverse_discoveryMechanism")return he;{const Ue=gu();return Q[N]=Ue,Ue}}else return gu()}var{startIgnoringDependencies:Ci,stopIgnoringDependencies:Qs,reportResolutionEnd:Ep,reportResolutionStart:Pp,pushCollector:rd,popCollector:Bm}=Sp(),Js=()=>{},nd=class{constructor(N,Q){this._fn=N,this._prismInstance=Q,this._didMarkDependentsAsStale=!1,this._isFresh=!1,this._cacheOfDendencyValues=new Map,this._dependents=new Set,this._dependencies=new Set,this._possiblyStaleDeps=new Set,this._scope=new Ip(this),this._lastValue=void 0,this._forciblySetToStale=!1,this._reactToDependencyGoingStale=he=>{this._possiblyStaleDeps.add(he),this._markAsStale()};for(const he of this._dependencies)he._addDependent(this._reactToDependencyGoingStale);Ci(),this.getValue(),Qs()}get hasDependents(){return this._dependents.size>0}removeDependent(N){this._dependents.delete(N)}addDependent(N){this._dependents.add(N)}destroy(){for(const N of this._dependencies)N._removeDependent(this._reactToDependencyGoingStale);Op(this._scope)}getValue(){if(!this._isFresh){const N=this._recalculate();this._lastValue=N,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}_recalculate(){let N;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){let Ue=!1;Ci();for(const Ft of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(Ft)!==Ft.getValue()){Ue=!0;break}if(Qs(),this._possiblyStaleDeps.clear(),!Ue)return this._lastValue}const Q=new Set;this._cacheOfDendencyValues.clear();const he=Ue=>{Q.add(Ue),this._addDependency(Ue)};rd(he),fn.push(this._scope);try{N=this._fn()}catch(Ue){console.error(Ue)}finally{fn.pop()!==this._scope&&console.warn("The Prism hook stack has slipped. This is a bug.")}Bm(he);for(const Ue of this._dependencies)Q.has(Ue)||this._removeDependency(Ue);this._dependencies=Q,Ci();for(const Ue of Q)this._cacheOfDendencyValues.set(Ue,Ue.getValue());return Qs(),N}forceStale(){this._forciblySetToStale=!0,this._markAsStale()}_markAsStale(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(const N of this._dependents)N(this._prismInstance)}}_addDependency(N){this._dependencies.has(N)||(this._dependencies.add(N),N._addDependent(this._reactToDependencyGoingStale))}_removeDependency(N){this._dependencies.has(N)&&(this._dependencies.delete(N),N._removeDependent(this._reactToDependencyGoingStale))}},od={},Cp=class{constructor(N){this._fn=N,this.isPrism=!0,this._state={hot:!1,handle:void 0}}get isHot(){return this._state.hot}onChange(N,Q,he=!1){const Ue=()=>{N.onThisOrNextTick(er)};let Ft=od;const er=()=>{const Mo=this.getValue();Mo!==Ft&&(Ft=Mo,Q(Mo))};return this._addDependent(Ue),he&&(Ft=this.getValue(),Q(Ft)),()=>{this._removeDependent(Ue),N.offThisOrNextTick(er),N.offNextTick(er)}}onStale(N){const Q=()=>{this._removeDependent(he)},he=()=>N();return this._addDependent(he),Q}keepHot(){return this.onStale(()=>{})}_addDependent(N){this._state.hot||this._goHot(),this._state.handle.addDependent(N)}_goHot(){const N=new nd(this._fn,this);this._state={hot:!0,handle:N}}_removeDependent(N){const Q=this._state;if(!Q.hot)return;const he=Q.handle;he.removeDependent(N),he.hasDependents||(this._state={hot:!1,handle:void 0},he.destroy())}getValue(){Pp(this);const N=this._state;let Q;return N.hot?Q=N.handle.getValue():Q=Ii(this._fn),Ep(this),Q}},Ip=class{constructor(N){this._hotHandle=N,this._refs=new Map,this.isPrismScope=!0,this.subs={},this.effects=new Map,this.memos=new Map}ref(N,Q){let he=this._refs.get(N);if(he!==void 0)return he;{const Ue={current:Q};return this._refs.set(N,Ue),Ue}}effect(N,Q,he){let Ue=this.effects.get(N);Ue===void 0&&(Ue={cleanup:Js,deps:void 0},this.effects.set(N,Ue)),id(Ue.deps,he)&&(Ue.cleanup(),Ci(),Ue.cleanup=el(Q,Js).value,Qs(),Ue.deps=he)}memo(N,Q,he){let Ue=this.memos.get(N);return Ue===void 0&&(Ue={cachedValue:null,deps:void 0},this.memos.set(N,Ue)),id(Ue.deps,he)&&(Ci(),Ue.cachedValue=el(Q,void 0).value,Qs(),Ue.deps=he),Ue.cachedValue}state(N,Q){const{value:he,setValue:Ue}=this.memo("state/"+N,()=>{const Ft={current:Q};return{value:Ft,setValue:Jr=>{Ft.current=Jr,this._hotHandle.forceStale()}}},[]);return[he.current,Ue]}sub(N){return this.subs[N]||(this.subs[N]=new Ip(this._hotHandle)),this.subs[N]}cleanupEffects(){for(const N of this.effects.values())el(N.cleanup,void 0);this.effects.clear()}source(N,Q){return this.effect("$$source/blah",()=>N(()=>{this._hotHandle.forceStale()}),[N]),Q()}};function Op(N){for(const Q of Object.values(N.subs))Op(Q);N.cleanupEffects()}function el(N,Q){try{return{value:N(),ok:!0}}catch(he){return setTimeout(function(){throw he}),{value:Q,ok:!1}}}var fn=new Qr;function Rm(N,Q){const he=fn.peek();if(!he)throw new Error("prism.ref() is called outside of a prism() call.");return he.ref(N,Q)}function tl(N,Q,he){const Ue=fn.peek();if(!Ue)throw new Error("prism.effect() is called outside of a prism() call.");return Ue.effect(N,Q,he)}function id(N,Q){if(N===void 0||Q===void 0)return!0;const he=N.length;if(he!==Q.length)return!0;for(let Ue=0;Ue<he;Ue++)if(N[Ue]!==Q[Ue])return!0;return!1}function jp(N,Q,he){const Ue=fn.peek();if(!Ue)throw new Error("prism.memo() is called outside of a prism() call.");return Ue.memo(N,Q,he)}function In(N,Q){const he=fn.peek();if(!he)throw new Error("prism.state() is called outside of a prism() call.");return he.state(N,Q)}function Nm(){if(!fn.peek())throw new Error("The parent function is called outside of a prism() call.")}function Fm(N,Q){const he=fn.peek();if(!he)throw new Error("prism.scope() is called outside of a prism() call.");const Ue=he.sub(N);fn.push(Ue);const Ft=el(Q,void 0).value;return fn.pop(),Ft}function Tp(N,Q,he){return jp(N,()=>Lr(Q),he).getValue()}function ad(){return!!fn.peek()}function rl(N,Q){const he=fn.peek();if(!he)throw new Error("prism.source() is called outside of a prism() call.");return he.source(N,Q)}var Lr=N=>new Cp(N),nl=class{effect(N,Q,he){console.warn("prism.effect() does not run in cold prisms")}memo(N,Q,he){return Q()}state(N,Q){return[Q,()=>{}]}ref(N,Q){return{current:Q}}sub(N){return new nl}source(N,Q){return Q()}};function Ii(N){const Q=new nl;fn.push(Q);let he;try{he=N()}catch(Ue){console.error(Ue)}finally{fn.pop()!==Q&&console.warn("The Prism hook stack has slipped. This is a bug.")}return he}Lr.ref=Rm,Lr.effect=tl,Lr.memo=jp,Lr.ensurePrism=Nm,Lr.state=In,Lr.scope=Fm,Lr.sub=Tp,Lr.inPrism=ad,Lr.source=rl;var oa=Lr,Ap;(function(N){N[N.Dict=0]="Dict",N[N.Array=1]="Array",N[N.Other=2]="Other"})(Ap||(Ap={}));var or=N=>Array.isArray(N)?1:Jc(N)?0:2,Wa=(N,Q,he=or(N))=>he===0&&typeof Q=="string"||he===1&&Mm(Q)?N[Q]:void 0,Mm=N=>{const Q=typeof N=="number"?N:parseInt(N,10);return!isNaN(Q)&&Q>=0&&Q<1/0&&(Q|0)===Q},sd=class{constructor(N,Q){this._parent=N,this._path=Q,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(N){this.identityChangeListeners.add(N)}removeIdentityChangeListener(N){this.identityChangeListeners.delete(N),this._checkForGC()}removeChild(N){this.children.delete(N),this._checkForGC()}getChild(N){return this.children.get(N)}getOrCreateChild(N){let Q=this.children.get(N);return Q||(Q=Q=new sd(this,this._path.concat([N])),this.children.set(N,Q)),Q}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(zm(this._path))}},ld=class{constructor(N){this.$$isPointerToPrismProvider=!0,this.pointer=ed({root:this,path:[]}),this.prism=this.pointerToPrism(this.pointer),this._onPointerValueChange=(Q,he)=>{const{path:Ue}=La(Q),Ft=this._getOrCreateScopeForPath(Ue);return Ft.identityChangeListeners.add(he),()=>{Ft.identityChangeListeners.delete(he)}},this._currentState=N,this._rootScope=new sd(void 0,[])}set(N){const Q=this._currentState;this._currentState=N,this._checkUpdates(this._rootScope,Q,N)}get(){return this._currentState}getByPointer(N){const Q=na(N)?N:N(this.pointer),he=La(Q).path;return this._getIn(he)}_getIn(N){return N.length===0?this.get():gp(this.get(),N)}reduce(N){this.set(N(this.get()))}reduceByPointer(N,Q){const he=na(N)?N:N(this.pointer),Ue=La(he).path,Ft=td(this.get(),Ue,Q);this.set(Ft)}setByPointer(N,Q){this.reduceByPointer(N,()=>Q)}_checkUpdates(N,Q,he){if(Q===he)return;for(const er of N.identityChangeListeners)er(he);if(N.children.size===0)return;const Ue=or(Q),Ft=or(he);if(!(Ue===2&&Ue===Ft))for(const[er,Jr]of N.children){const Mo=Wa(Q,er,Ue),vu=Wa(he,er,Ft);this._checkUpdates(Jr,Mo,vu)}}_getOrCreateScopeForPath(N){let Q=this._rootScope;for(const he of N)Q=Q.getOrCreateChild(he);return Q}pointerToPrism(N){const{path:Q}=La(N),he=Ft=>this._onPointerValueChange(N,Ft),Ue=()=>this._getIn(Q);return oa(()=>oa.source(he,Ue))}},ud=new WeakMap;function Um(N){return typeof N=="object"&&N!==null&&N.$$isPointerToPrismProvider===!0}var mu=N=>{const Q=Fo(N);let he=ud.get(Q);if(!he){const Ue=Q.root;if(!Um(Ue))throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an PointerToPrismProvider");he=Ue.pointerToPrism(N),ud.set(Q,he)}return he},ol=N=>na(N)?mu(N).getValue():Pi(N)?N.getValue():N;function*Dp(N){let Q;if(na(N))Q=mu(N);else if(Pi(N))Q=N;else throw new Error("Only pointers and prisms are supported");let he=0;const Ue=Q.onStale(()=>{he++});try{for(;;){const Ft=he;he=0,yield{value:Q.getValue(),ticks:Ft}}}finally{Ue()}}var Vm=60*3,zp=class{constructor(N){this._conf=N,this._ticking=!1,this._dormant=!0,this._numberOfDormantTicks=0,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}get dormant(){return this._dormant}onThisOrNextTick(N){this._scheduledForThisOrNextTick.add(N),this._dormant&&this._goActive()}onNextTick(N){this._scheduledForNextTick.add(N),this._dormant&&this._goActive()}offThisOrNextTick(N){this._scheduledForThisOrNextTick.delete(N)}offNextTick(N){this._scheduledForNextTick.delete(N)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}_goActive(){var N,Q;this._dormant&&(this._dormant=!1,(Q=(N=this._conf)==null?void 0:N.onActive)==null||Q.call(N))}_goDormant(){var N,Q;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,(Q=(N=this._conf)==null?void 0:N.onDormant)==null||Q.call(N))}tick(N=performance.now()){if(this.__ticks++,!this._dormant&&this._scheduledForNextTick.size===0&&this._scheduledForThisOrNextTick.size===0&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=Vm)){this._goDormant();return}this._ticking=!0,this._timeAtCurrentTick=N;for(const Q of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add(Q);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}_tick(N){const Q=this.time;if(N>10&&console.warn("_tick() recursing for 10 times"),N>100)throw new Error("Maximum recursion limit for _tick()");const he=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(const Ue of he)Ue(Q);if(this._scheduledForThisOrNextTick.size>0)return this._tick(N+1)}};function*cd(N){let Q;if(na(N))Q=mu(N);else if(Pi(N))Q=N;else throw new Error("Only pointers and prisms are supported");const he=new zp,Ue=Q.onChange(he,Ft=>{});try{for(;;)he.tick(),yield Q.getValue()}finally{Ue()}}var Bp=class{constructor(N){this.$$isPointerToPrismProvider=!0,this._currentPointerBox=new ld(N),this.pointer=ed({root:this,path:[]})}setPointer(N){this._currentPointerBox.set(N)}pointerToPrism(N){const{path:Q}=Fo(N);return oa(()=>{const he=this._currentPointerBox.prism.getValue(),Ue=Q.reduce((Ft,er)=>Ft[er],he);return ol(Ue)})}}}(iA)),iA}Vb.exports;var NJ;function Qpe(){return NJ||(NJ=1,function(p,b){var O=Object.create,B=Object.defineProperty,U=Object.defineProperties,q=Object.getOwnPropertyDescriptor,ne=Object.getOwnPropertyDescriptors,me=Object.getOwnPropertyNames,Ee=Object.getOwnPropertySymbols,qe=Object.getPrototypeOf,Fe=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,wt=(l,g,S)=>g in l?B(l,g,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[g]=S,pt=(l,g)=>{for(var S in g||(g={}))Fe.call(g,S)&&wt(l,S,g[S]);if(Ee)for(var S of Ee(g))Ye.call(g,S)&&wt(l,S,g[S]);return l},Ht=(l,g)=>U(l,ne(g)),Zt=(l,g)=>function(){return g||(0,l[me(l)[0]])((g={exports:{}}).exports,g),g.exports},jr=(l,g)=>{for(var S in g)B(l,S,{get:g[S],enumerable:!0})},re=(l,g,S,A)=>{if(g&&typeof g=="object"||typeof g=="function")for(let V of me(g))!Fe.call(l,V)&&V!==S&&B(l,V,{get:()=>g[V],enumerable:!(A=q(g,V))||A.enumerable});return l},Pe=(l,g,S)=>(S=l!=null?O(qe(l)):{},re(!l||!l.__esModule?B(S,"default",{value:l,enumerable:!0}):S,l)),fr=l=>re(B({},"__esModule",{value:!0}),l),I=(l,g,S)=>(wt(l,typeof g!="symbol"?g+"":g,S),S),vt=Zt({"../node_modules/timing-function/lib/UnitBezier.js"(l,g){g.exports=function(){function S(A,V,$,ue){this.set(A,V,$,ue)}return S.prototype.set=function(A,V,$,ue){this._cx=3*A,this._bx=3*($-A)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*V,this._by=3*(ue-V)-this._cy,this._ay=1-this._cy-this._by},S.epsilon=1e-6,S.prototype._sampleCurveX=function(A){return((this._ax*A+this._bx)*A+this._cx)*A},S.prototype._sampleCurveY=function(A){return((this._ay*A+this._by)*A+this._cy)*A},S.prototype._sampleCurveDerivativeX=function(A){return(3*this._ax*A+2*this._bx)*A+this._cx},S.prototype._solveCurveX=function(A,V){var $,ue,Se,Te,Ve,at;for(Se=void 0,Te=void 0,Ve=void 0,at=void 0,$=void 0,ue=void 0,Ve=A,ue=0;ue<8;){if(at=this._sampleCurveX(Ve)-A,Math.abs(at)<V)return Ve;if($=this._sampleCurveDerivativeX(Ve),Math.abs($)<V)break;Ve=Ve-at/$,ue++}if(Se=0,Te=1,Ve=A,Ve<Se)return Se;if(Ve>Te)return Te;for(;Se<Te;){if(at=this._sampleCurveX(Ve),Math.abs(at-A)<V)return Ve;A>at?Se=Ve:Te=Ve,Ve=(Te-Se)*.5+Se}return Ve},S.prototype.solve=function(A,V){return this._sampleCurveY(this._solveCurveX(A,V))},S.prototype.solveSimple=function(A){return this._sampleCurveY(this._solveCurveX(A,1e-6))},S}()}}),ho=Zt({"../node_modules/levenshtein-edit-distance/index.js"(l,g){var S,A;S=[],A=[];function V($,ue,Se){var Te,Ve,at,st,mt,jt,Et,G;if($===ue)return 0;if(Te=$.length,Ve=ue.length,Te===0)return Ve;if(Ve===0)return Te;for(Se&&($=$.toLowerCase(),ue=ue.toLowerCase()),Et=0;Et<Te;)A[Et]=$.charCodeAt(Et),S[Et]=++Et;for(G=0;G<Ve;)for(at=ue.charCodeAt(G),st=mt=G++,Et=-1;++Et<Te;)jt=at===A[Et]?mt:mt+1,mt=S[Et],S[Et]=st=mt>st?jt>st?st+1:jt:jt>mt?mt+1:jt;return st}g.exports=V}}),Bn=Zt({"../node_modules/propose/propose.js"(l,g){var S=ho();function A(){var V,$,ue,Se,Te,Ve=0,at=arguments[0],st=arguments[1],mt=st.length,jt=arguments[2];jt&&(Se=jt.threshold,Te=jt.ignoreCase),Se===void 0&&(Se=0);for(var Et=0;Et<mt;++Et)Te?$=S(at,st[Et],!0):$=S(at,st[Et]),$>at.length?V=1-$/st[Et].length:V=1-$/at.length,V>Ve&&(Ve=V,ue=st[Et]);return Ve>=Se?ue:null}g.exports=A}}),oe=Zt({"../node_modules/fast-deep-equal/index.js"(l,g){g.exports=function S(A,V){if(A===V)return!0;if(A&&V&&typeof A=="object"&&typeof V=="object"){if(A.constructor!==V.constructor)return!1;var $,ue,Se;if(Array.isArray(A)){if($=A.length,$!=V.length)return!1;for(ue=$;ue--!==0;)if(!S(A[ue],V[ue]))return!1;return!0}if(A.constructor===RegExp)return A.source===V.source&&A.flags===V.flags;if(A.valueOf!==Object.prototype.valueOf)return A.valueOf()===V.valueOf();if(A.toString!==Object.prototype.toString)return A.toString()===V.toString();if(Se=Object.keys(A),$=Se.length,$!==Object.keys(V).length)return!1;for(ue=$;ue--!==0;)if(!Object.prototype.hasOwnProperty.call(V,Se[ue]))return!1;for(ue=$;ue--!==0;){var Te=Se[ue];if(!S(A[Te],V[Te]))return!1}return!0}return A!==A&&V!==V}}}),Ki={};jr(Ki,{createRafDriver:()=>Eh,getProject:()=>I0,notify:()=>fl,onChange:()=>Lh,types:()=>u0,val:()=>Nd}),p.exports=fr(Ki);var Kt={};jr(Kt,{createRafDriver:()=>Eh,getProject:()=>I0,notify:()=>fl,onChange:()=>Lh,types:()=>u0,val:()=>Nd});var Y=rt(),Cr=class{constructor(){I(this,"atom",new Y.Atom({projects:{}}))}add(l,g){this.atom.setByPointer(S=>S.projects[l],g)}get(l){return this.atom.get().projects[l]}has(l){return!!this.get(l)}},Ua=new Cr,Wi=Ua,Vs=new WeakMap;function ve(l){return Vs.get(l)}function nr(l,g){Vs.set(l,g)}var ut=[],Cn=Array.isArray,un=Cn,go=typeof Xr=="object"&&Xr&&Xr.Object===Object&&Xr,yn=go,mo=typeof self=="object"&&self&&self.Object===Object&&self,qi=yn||mo||Function("return this")(),cn=qi,wi=cn.Symbol,yr=wi,$i=Object.prototype,Hs=$i.hasOwnProperty,Bo=$i.toString,_i=yr?yr.toStringTag:void 0;function ce(l){var g=Hs.call(l,_i),S=l[_i];try{l[_i]=void 0;var A=!0}catch{}var V=Bo.call(l);return A&&(g?l[_i]=S:delete l[_i]),V}var ye=ce,Le=Object.prototype,it=Le.toString;function Qe(l){return it.call(l)}var nt=Qe,dt="[object Null]",ct="[object Undefined]",ht=yr?yr.toStringTag:void 0;function Ze(l){return l==null?l===void 0?ct:dt:ht&&ht in Object(l)?ye(l):nt(l)}var Ct=Ze;function bt(l){return l!=null&&typeof l=="object"}var kt=bt,Nt="[object Symbol]";function Yt(l){return typeof l=="symbol"||kt(l)&&Ct(l)==Nt}var Jt=Yt,tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bn=/^\w*$/;function dn(l,g){if(un(l))return!1;var S=typeof l;return S=="number"||S=="symbol"||S=="boolean"||l==null||Jt(l)?!0:bn.test(l)||!tr.test(l)||g!=null&&l in Object(g)}var wn=dn;function Rn(l){var g=typeof l;return l!=null&&(g=="object"||g=="function")}var Yr=Rn,ou="[object AsyncFunction]",_n="[object Function]",Nn="[object GeneratorFunction]",Ls="[object Proxy]";function iu(l){if(!Yr(l))return!1;var g=Ct(l);return g==_n||g==Nn||g==ou||g==Ls}var Yo=iu,Ro=cn["__core-js_shared__"],Lc=Ro,Qo=function(){var l=/[^.]+$/.exec(Lc&&Lc.keys&&Lc.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();function Va(l){return!!Qo&&Qo in l}var bm=Va,Wf=Function.prototype,Gi=Wf.toString;function Ks(l){if(l!=null){try{return Gi.call(l)}catch{}try{return l+""}catch{}}return""}var Zi=Ks,Ha=/[\\^$.*+?()[\]{}|]/g,Kc=/^\[object .+?Constructor\]$/,qf=Function.prototype,Fn=Object.prototype,vo=qf.toString,$f=Fn.hasOwnProperty,Gf=RegExp("^"+vo.call($f).replace(Ha,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wc(l){if(!Yr(l)||bm(l))return!1;var g=Yo(l)?Gf:Kc;return g.test(Zi(l))}var ki=Wc;function qc(l,g){return l==null?void 0:l[g]}var wm=qc;function _m(l,g){var S=wm(l,g);return ki(S)?S:void 0}var xi=_m,Zf=xi(Object,"create"),Ws=Zf;function au(){this.__data__=Ws?Ws(null):{},this.size=0}var Xf=au;function Yf(l){var g=this.has(l)&&delete this.__data__[l];return this.size-=g?1:0,g}var km=Yf,xm="__lodash_hash_undefined__",No=Object.prototype,Xi=No.hasOwnProperty;function Sm(l){var g=this.__data__;if(Ws){var S=g[l];return S===xm?void 0:S}return Xi.call(g,l)?g[l]:void 0}var $c=Sm,Qf=Object.prototype,Jf=Qf.hasOwnProperty;function Yi(l){var g=this.__data__;return Ws?g[l]!==void 0:Jf.call(g,l)}var ep=Yi,Jo="__lodash_hash_undefined__";function qs(l,g){var S=this.__data__;return this.size+=this.has(l)?0:1,S[l]=Ws&&g===void 0?Jo:g,this}var Em=qs;function Si(l){var g=-1,S=l==null?0:l.length;for(this.clear();++g<S;){var A=l[g];this.set(A[0],A[1])}}Si.prototype.clear=Xf,Si.prototype.delete=km,Si.prototype.get=$c,Si.prototype.has=ep,Si.prototype.set=Em;var Gc=Si;function su(){this.__data__=[],this.size=0}var tp=su;function lu(l,g){return l===g||l!==l&&g!==g}var Qi=lu;function uu(l,g){for(var S=l.length;S--;)if(Qi(l[S][0],g))return S;return-1}var cu=uu,$s=Array.prototype,du=$s.splice;function Pm(l){var g=this.__data__,S=cu(g,l);if(S<0)return!1;var A=g.length-1;return S==A?g.pop():du.call(g,S,1),--this.size,!0}var rp=Pm;function np(l){var g=this.__data__,S=cu(g,l);return S<0?void 0:g[S][1]}var Ji=np;function Zc(l){return cu(this.__data__,l)>-1}var Xc=Zc;function fu(l,g){var S=this.__data__,A=cu(S,l);return A<0?(++this.size,S.push([l,g])):S[A][1]=g,this}var op=fu;function ei(l){var g=-1,S=l==null?0:l.length;for(this.clear();++g<S;){var A=l[g];this.set(A[0],A[1])}}ei.prototype.clear=tp,ei.prototype.delete=rp,ei.prototype.get=Ji,ei.prototype.has=Xc,ei.prototype.set=op;var pu=ei,Cm=xi(cn,"Map"),ea=Cm;function ip(){this.size=0,this.__data__={hash:new Gc,map:new(ea||pu),string:new Gc}}var Im=ip;function Om(l){var g=typeof l;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?l!=="__proto__":l===null}var ap=Om;function sp(l,g){var S=l.__data__;return ap(g)?S[typeof g=="string"?"string":"hash"]:S.map}var eo=sp;function Yc(l){var g=eo(this,l).delete(l);return this.size-=g?1:0,g}var lp=Yc;function up(l){return eo(this,l).get(l)}var cp=up;function dp(l){return eo(this,l).has(l)}var fp=dp;function pp(l,g){var S=eo(this,l),A=S.size;return S.set(l,g),this.size+=S.size==A?0:1,this}var hp=pp;function ta(l){var g=-1,S=l==null?0:l.length;for(this.clear();++g<S;){var A=l[g];this.set(A[0],A[1])}}ta.prototype.clear=Im,ta.prototype.delete=lp,ta.prototype.get=cp,ta.prototype.has=fp,ta.prototype.set=hp;var Gs=ta,jm="Expected a function";function Qc(l,g){if(typeof l!="function"||g!=null&&typeof g!="function")throw new TypeError(jm);var S=function(){var A=arguments,V=g?g.apply(this,A):A[0],$=S.cache;if($.has(V))return $.get(V);var ue=l.apply(this,A);return S.cache=$.set(V,ue)||$,ue};return S.cache=new(Qc.Cache||Gs),S}Qc.Cache=Gs;var gp=Qc,Tm=500;function Am(l){var g=gp(l,function(A){return S.size===Tm&&S.clear(),A}),S=g.cache;return g}var Ei=Am,ra=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mp=/\\(\\)?/g,hu=Ei(function(l){var g=[];return l.charCodeAt(0)===46&&g.push(""),l.replace(ra,function(S,A,V,$){g.push(V?$.replace(mp,"$1"):A||S)}),g}),Dm=hu;function vp(l,g){for(var S=-1,A=l==null?0:l.length,V=Array(A);++S<A;)V[S]=g(l[S],S,l);return V}var yp=vp,bp=yr?yr.prototype:void 0,wp=bp?bp.toString:void 0;function Jc(l){if(typeof l=="string")return l;if(un(l))return yp(l,Jc)+"";if(Jt(l))return wp?wp.call(l):"";var g=l+"";return g=="0"&&1/l==-1/0?"-0":g}var _p=Jc;function zm(l){return l==null?"":_p(l)}var Zs=zm;function kp(l,g){return un(l)?l:wn(l,g)?[l]:Dm(Zs(l))}var Xs=kp;function xp(l){if(typeof l=="string"||Jt(l))return l;var g=l+"";return g=="0"&&1/l==-1/0?"-0":g}var Fo=xp;function La(l,g){g=Xs(g,l);for(var S=0,A=g.length;l!=null&&S<A;)l=l[Fo(g[S++])];return S&&S==A?l:void 0}var Ys=La;function ed(l,g,S){var A=l==null?void 0:Ys(l,g);return A===void 0?S:A}var na=ed;function td(l,g){return g.length===0?l:na(l,g)}var Ka=class{constructor(){I(this,"_values",{})}get(l,g){if(this.has(l))return this._values[l];{const S=g();return this._values[l]=S,S}}has(l){return this._values.hasOwnProperty(l)}},Qr=rt(),Pi=function(){try{var l=xi(Object,"defineProperty");return l({},"",{}),l}catch{}}(),gu=Pi;function Sp(l,g,S){g=="__proto__"&&gu?gu(l,g,{configurable:!0,enumerable:!0,value:S,writable:!0}):l[g]=S}var Ci=Sp,Qs=Object.prototype,Ep=Qs.hasOwnProperty;function Pp(l,g,S){var A=l[g];(!(Ep.call(l,g)&&Qi(A,S))||S===void 0&&!(g in l))&&Ci(l,g,S)}var rd=Pp,Bm=9007199254740991,Js=/^(?:0|[1-9]\d*)$/;function nd(l,g){var S=typeof l;return g=g??Bm,!!g&&(S=="number"||S!="symbol"&&Js.test(l))&&l>-1&&l%1==0&&l<g}var od=nd;function Cp(l,g,S,A){if(!Yr(l))return l;g=Xs(g,l);for(var V=-1,$=g.length,ue=$-1,Se=l;Se!=null&&++V<$;){var Te=Fo(g[V]),Ve=S;if(Te==="__proto__"||Te==="constructor"||Te==="prototype")return l;if(V!=ue){var at=Se[Te];Ve=A?A(at,Te,Se):void 0,Ve===void 0&&(Ve=Yr(at)?at:od(g[V+1])?[]:{})}rd(Se,Te,Ve),Se=Se[Te]}return l}var Ip=Cp;function Op(l,g,S){return l==null?l:Ip(l,g,S)}var el=Op,fn=new WeakMap;function Rm(l){return tl(l)}function tl(l){if(fn.has(l))return fn.get(l);const g=l.type==="compound"?jp(l):l.type==="enum"?id(l):l.default;return fn.set(l,g),g}function id(l){const g={$case:l.defaultCase};for(const[S,A]of Object.entries(l.cases))g[S]=tl(A);return g}function jp(l){const g={};for(const[S,A]of Object.entries(l.props))g[S]=tl(A);return g}var In=rt(),Nm=Pe(vt());function Fm(l,g,S){return(0,In.prism)(()=>{const A=(0,In.val)(g);return In.prism.memo("driver",()=>A?A.type==="BasicKeyframedTrack"?Tp(l,A,S):(l.logger.error("Track type not yet supported."),(0,In.prism)(()=>{})):(0,In.prism)(()=>{}),[A]).getValue()})}function Tp(l,g,S){return(0,In.prism)(()=>{let A=In.prism.ref("state",{started:!1}),V=A.current;const $=S.getValue();return(!V.started||$<V.validFrom||V.validTo<=$)&&(A.current=V=rl(l,S,g)),V.der.getValue()})}var ad=(0,In.prism)(()=>{});function rl(l,g,S){const A=g.getValue();if(S.keyframes.length===0)return{started:!0,validFrom:-1/0,validTo:1/0,der:ad};let V=0;for(;;){const $=S.keyframes[V];if(!$)return Lr.error;const ue=V===S.keyframes.length-1;if(A<$.position)return V===0?Lr.beforeFirstKeyframe($):Lr.error;if($.position===A)return ue?Lr.lastKeyframe($):Lr.between($,S.keyframes[V+1],g);if(V===S.keyframes.length-1)return Lr.lastKeyframe($);{const Se=V+1;if(S.keyframes[Se].position<=A){V=Se;continue}else return Lr.between($,S.keyframes[V+1],g)}}}var Lr={beforeFirstKeyframe(l){return{started:!0,validFrom:-1/0,validTo:l.position,der:(0,In.prism)(()=>({left:l.value,progression:0}))}},lastKeyframe(l){return{started:!0,validFrom:l.position,validTo:1/0,der:(0,In.prism)(()=>({left:l.value,progression:0}))}},between(l,g,S){if(!l.connectedRight)return{started:!0,validFrom:l.position,validTo:g.position,der:(0,In.prism)(()=>({left:l.value,progression:0}))};const A=$=>($-l.position)/(g.position-l.position);if(!l.type||l.type==="bezier"){const $=new Nm.default(l.handles[2],l.handles[3],g.handles[0],g.handles[1]),ue=(0,In.prism)(()=>{const Se=A(S.getValue()),Te=$.solveSimple(Se);return{left:l.value,right:g.value,progression:Te}});return{started:!0,validFrom:l.position,validTo:g.position,der:ue}}const V=(0,In.prism)(()=>{const $=A(S.getValue()),ue=Math.floor($);return{left:l.value,right:g.value,progression:ue}});return{started:!0,validFrom:l.position,validTo:g.position,der:V}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:ad}};function nl(l,g,S){const V=S.get(l);if(V&&V.override===g)return V.merged;const $=pt({},l);for(const ue of Object.keys(g)){const Se=g[ue],Te=l[ue];$[ue]=typeof Se=="object"&&typeof Te=="object"?nl(Te,Se,S):Se===void 0?Te:Se}return S.set(l,{override:g,merged:$}),$}function Ii(l,g){let S=l;for(const A of g)S=S[A];return S}var oa=rt(),Ap=(l,g)=>{const S=oa.prism.memo(l,()=>new oa.Atom(g),[]);return S.set(g),S},or=rt(),Wa=rt(),Mm=/\s/;function sd(l){for(var g=l.length;g--&&Mm.test(l.charAt(g)););return g}var ld=sd,ud=/^\s+/;function Um(l){return l&&l.slice(0,ld(l)+1).replace(ud,"")}var mu=Um,ol=NaN,Dp=/^[-+]0x[0-9a-f]+$/i,Vm=/^0b[01]+$/i,zp=/^0o[0-7]+$/i,cd=parseInt;function Bp(l){if(typeof l=="number")return l;if(Jt(l))return ol;if(Yr(l)){var g=typeof l.valueOf=="function"?l.valueOf():l;l=Yr(g)?g+"":g}if(typeof l!="string")return l===0?l:+l;l=mu(l);var S=Vm.test(l);return S||zp.test(l)?cd(l.slice(2),S?2:8):Dp.test(l)?ol:+l}var N=Bp,Q=1/0,he=17976931348623157e292;function Ue(l){if(!l)return l===0?l:0;if(l=N(l),l===Q||l===-1/0){var g=l<0?-1:1;return g*he}return l===l?l:0}var Ft=Ue;function er(l){var g=Ft(l),S=g%1;return g===g?S?g-S:g:0}var Jr=er;function Mo(l){return l}var vu=Mo,qa=xi(cn,"WeakMap"),il=qa,Hm=Object.create,o1=function(){function l(){}return function(g){if(!Yr(g))return{};if(Hm)return Hm(g);l.prototype=g;var S=new l;return l.prototype=void 0,S}}(),E2=o1;function P2(l,g){var S=-1,A=l.length;for(g||(g=Array(A));++S<A;)g[S]=l[S];return g}var i1=P2;function C2(l,g){for(var S=-1,A=l==null?0:l.length;++S<A&&g(l[S],S,l)!==!1;);return l}var I2=C2;function a1(l,g,S,A){var V=!S;S||(S={});for(var $=-1,ue=g.length;++$<ue;){var Se=g[$],Te=A?A(S[Se],l[Se],Se,S,l):void 0;Te===void 0&&(Te=l[Se]),V?Ci(S,Se,Te):rd(S,Se,Te)}return S}var yu=a1,O2=9007199254740991;function Lm(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=O2}var Rp=Lm;function s1(l){return l!=null&&Rp(l.length)&&!Yo(l)}var Km=s1,Np=Object.prototype;function Wm(l){var g=l&&l.constructor,S=typeof g=="function"&&g.prototype||Np;return l===S}var qm=Wm;function l1(l,g){for(var S=-1,A=Array(l);++S<l;)A[S]=g(S);return A}var j2=l1,$m="[object Arguments]";function Gm(l){return kt(l)&&Ct(l)==$m}var Zm=Gm,Fp=Object.prototype,u1=Fp.hasOwnProperty,c1=Fp.propertyIsEnumerable,Mp=Zm(function(){return arguments}())?Zm:function(l){return kt(l)&&u1.call(l,"callee")&&!c1.call(l,"callee")},Xm=Mp;function T2(){return!1}var d1=T2,Ym=b&&!b.nodeType&&b,Qm=Ym&&!0&&p&&!p.nodeType&&p,f1=Qm&&Qm.exports===Ym,Jm=f1?cn.Buffer:void 0,p1=Jm?Jm.isBuffer:void 0,h1=p1||d1,dd=h1,g1="[object Arguments]",m1="[object Array]",v1="[object Boolean]",y1="[object Date]",b1="[object Error]",w1="[object Function]",_1="[object Map]",k1="[object Number]",x1="[object Object]",S1="[object RegExp]",E1="[object Set]",P1="[object String]",C1="[object WeakMap]",I1="[object ArrayBuffer]",O1="[object DataView]",j1="[object Float32Array]",xr="[object Float64Array]",T1="[object Int8Array]",A2="[object Int16Array]",D2="[object Int32Array]",Up="[object Uint8Array]",ev="[object Uint8ClampedArray]",tv="[object Uint16Array]",bu="[object Uint32Array]",Sr={};Sr[j1]=Sr[xr]=Sr[T1]=Sr[A2]=Sr[D2]=Sr[Up]=Sr[ev]=Sr[tv]=Sr[bu]=!0,Sr[g1]=Sr[m1]=Sr[I1]=Sr[v1]=Sr[O1]=Sr[y1]=Sr[b1]=Sr[w1]=Sr[_1]=Sr[k1]=Sr[x1]=Sr[S1]=Sr[E1]=Sr[P1]=Sr[C1]=!1;function Vp(l){return kt(l)&&Rp(l.length)&&!!Sr[Ct(l)]}var A1=Vp;function rv(l){return function(g){return l(g)}}var nv=rv,Hp=b&&!b.nodeType&&b,wu=Hp&&!0&&p&&!p.nodeType&&p,ov=wu&&wu.exports===Hp,Lp=ov&&yn.process,z2=function(){try{var l=wu&&wu.require&&wu.require("util").types;return l||Lp&&Lp.binding&&Lp.binding("util")}catch{}}(),al=z2,iv=al&&al.isTypedArray,D1=iv?nv(iv):A1,z1=D1,B2=Object.prototype,av=B2.hasOwnProperty;function B1(l,g){var S=un(l),A=!S&&Xm(l),V=!S&&!A&&dd(l),$=!S&&!A&&!V&&z1(l),ue=S||A||V||$,Se=ue?j2(l.length,String):[],Te=Se.length;for(var Ve in l)(g||av.call(l,Ve))&&!(ue&&(Ve=="length"||V&&(Ve=="offset"||Ve=="parent")||$&&(Ve=="buffer"||Ve=="byteLength"||Ve=="byteOffset")||od(Ve,Te)))&&Se.push(Ve);return Se}var sv=B1;function R1(l,g){return function(S){return l(g(S))}}var N1=R1,R2=N1(Object.keys,Object),F1=R2,M1=Object.prototype,U1=M1.hasOwnProperty;function N2(l){if(!qm(l))return F1(l);var g=[];for(var S in Object(l))U1.call(l,S)&&S!="constructor"&&g.push(S);return g}var F2=N2;function Kp(l){return Km(l)?sv(l):F2(l)}var sl=Kp;function M2(l){var g=[];if(l!=null)for(var S in Object(l))g.push(S);return g}var V1=M2,H1=Object.prototype,Wp=H1.hasOwnProperty;function lv(l){if(!Yr(l))return V1(l);var g=qm(l),S=[];for(var A in l)A=="constructor"&&(g||!Wp.call(l,A))||S.push(A);return S}var L1=lv;function _u(l){return Km(l)?sv(l,!0):L1(l)}var ku=_u;function U2(l,g){for(var S=-1,A=g.length,V=l.length;++S<A;)l[V+S]=g[S];return l}var uv=U2,V2=N1(Object.getPrototypeOf,Object),cv=V2,K1="[object Object]",H2=Function.prototype,L2=Object.prototype,dv=H2.toString,W1=L2.hasOwnProperty,q1=dv.call(Object);function $1(l){if(!kt(l)||Ct(l)!=K1)return!1;var g=cv(l);if(g===null)return!0;var S=W1.call(g,"constructor")&&g.constructor;return typeof S=="function"&&S instanceof S&&dv.call(S)==q1}var K2=$1;function W2(l,g,S){var A=-1,V=l.length;g<0&&(g=-g>V?0:V+g),S=S>V?V:S,S<0&&(S+=V),V=g>S?0:S-g>>>0,g>>>=0;for(var $=Array(V);++A<V;)$[A]=l[A+g];return $}var fv=W2;function G1(l,g,S){var A=l.length;return S=S===void 0?A:S,!g&&S>=A?l:fv(l,g,S)}var Z1=G1,q2="\\ud800-\\udfff",$2="\\u0300-\\u036f",X1="\\ufe20-\\ufe2f",Y1="\\u20d0-\\u20ff",G2=$2+X1+Y1,xu="\\ufe0e\\ufe0f",pv="\\u200d",Z2=RegExp("["+pv+q2+G2+xu+"]");function X2(l){return Z2.test(l)}var qp=X2;function Y2(l){return l.split("")}var Q2=Y2,Su="\\ud800-\\udfff",$p="\\u0300-\\u036f",J2="\\ufe20-\\ufe2f",Q1="\\u20d0-\\u20ff",J1=$p+J2+Q1,ew="\\ufe0e\\ufe0f",eC="["+Su+"]",hv="["+J1+"]",Gp="\\ud83c[\\udffb-\\udfff]",tC="(?:"+hv+"|"+Gp+")",tw="[^"+Su+"]",gv="(?:\\ud83c[\\udde6-\\uddff]){2}",rw="[\\ud800-\\udbff][\\udc00-\\udfff]",rC="\\u200d",mv=tC+"?",nw="["+ew+"]?",Eu="(?:"+rC+"(?:"+[tw,gv,rw].join("|")+")"+nw+mv+")*",fd=nw+mv+Eu,Zp="(?:"+[tw+hv+"?",hv,gv,rw,eC].join("|")+")",ow=RegExp(Gp+"(?="+Gp+")|"+Zp+fd,"g");function Pu(l){return l.match(ow)||[]}var vv=Pu;function nC(l){return qp(l)?vv(l):Q2(l)}var iw=nC;function oC(l,g,S){return l===l&&(S!==void 0&&(l=l<=S?l:S),g!==void 0&&(l=l>=g?l:g)),l}var iC=oC;function aw(l,g,S){return S===void 0&&(S=g,g=void 0),S!==void 0&&(S=N(S),S=S===S?S:0),g!==void 0&&(g=N(g),g=g===g?g:0),iC(N(l),g,S)}var sw=aw;function aC(){this.__data__=new pu,this.size=0}var pd=aC;function Xp(l){var g=this.__data__,S=g.delete(l);return this.size=g.size,S}var sC=Xp;function lw(l){return this.__data__.get(l)}var lC=lw;function uC(l){return this.__data__.has(l)}var uw=uC,cC=200;function dC(l,g){var S=this.__data__;if(S instanceof pu){var A=S.__data__;if(!ea||A.length<cC-1)return A.push([l,g]),this.size=++S.size,this;S=this.__data__=new Gs(A)}return S.set(l,g),this.size=S.size,this}var cw=dC;function Cu(l){var g=this.__data__=new pu(l);this.size=g.size}Cu.prototype.clear=pd,Cu.prototype.delete=sC,Cu.prototype.get=lC,Cu.prototype.has=uw,Cu.prototype.set=cw;var hd=Cu;function dw(l,g){return l&&yu(g,sl(g),l)}var fC=dw;function Iu(l,g){return l&&yu(g,ku(g),l)}var gd=Iu,Yp=b&&!b.nodeType&&b,Qp=Yp&&!0&&p&&!p.nodeType&&p,fw=Qp&&Qp.exports===Yp,Jp=fw?cn.Buffer:void 0,yv=Jp?Jp.allocUnsafe:void 0;function pC(l,g){if(g)return l.slice();var S=l.length,A=yv?yv(S):new l.constructor(S);return l.copy(A),A}var pw=pC;function hw(l,g){for(var S=-1,A=l==null?0:l.length,V=0,$=[];++S<A;){var ue=l[S];g(ue,S,l)&&($[V++]=ue)}return $}var hC=hw;function gw(){return[]}var bv=gw,mw=Object.prototype,vw=mw.propertyIsEnumerable,yw=Object.getOwnPropertySymbols,gC=yw?function(l){return l==null?[]:(l=Object(l),hC(yw(l),function(g){return vw.call(l,g)}))}:bv,Ou=gC;function bw(l,g){return yu(l,Ou(l),g)}var mC=bw,eh=Object.getOwnPropertySymbols,wv=eh?function(l){for(var g=[];l;)uv(g,Ou(l)),l=cv(l);return g}:bv,ww=wv;function _w(l,g){return yu(l,ww(l),g)}var ju=_w;function md(l,g,S){var A=g(l);return un(l)?A:uv(A,S(l))}var kw=md;function th(l){return kw(l,sl,Ou)}var vd=th;function vC(l){return kw(l,ku,ww)}var ll=vC,yd=xi(cn,"DataView"),_v=yd,kv=xi(cn,"Promise"),rh=kv,yC=xi(cn,"Set"),bd=yC,xv="[object Map]",bC="[object Object]",Sv="[object Promise]",Ev="[object Set]",xw="[object WeakMap]",Pv="[object DataView]",Sw=Zi(_v),wC=Zi(ea),_C=Zi(rh),Ew=Zi(bd),Pw=Zi(il),$a=Ct;(_v&&$a(new _v(new ArrayBuffer(1)))!=Pv||ea&&$a(new ea)!=xv||rh&&$a(rh.resolve())!=Sv||bd&&$a(new bd)!=Ev||il&&$a(new il)!=xw)&&($a=function(l){var g=Ct(l),S=g==bC?l.constructor:void 0,A=S?Zi(S):"";if(A)switch(A){case Sw:return Pv;case wC:return xv;case _C:return Sv;case Ew:return Ev;case Pw:return xw}return g});var ul=$a,Cw=Object.prototype,Iw=Cw.hasOwnProperty;function nh(l){var g=l.length,S=new l.constructor(g);return g&&typeof l[0]=="string"&&Iw.call(l,"index")&&(S.index=l.index,S.input=l.input),S}var Ow=nh,kC=cn.Uint8Array,wd=kC;function jw(l){var g=new l.constructor(l.byteLength);return new wd(g).set(new wd(l)),g}var oh=jw;function xC(l,g){var S=g?oh(l.buffer):l.buffer;return new l.constructor(S,l.byteOffset,l.byteLength)}var SC=xC,Tw=/\w*$/;function EC(l){var g=new l.constructor(l.source,Tw.exec(l));return g.lastIndex=l.lastIndex,g}var PC=EC,Ir=yr?yr.prototype:void 0,_d=Ir?Ir.valueOf:void 0;function CC(l){return _d?Object(_d.call(l)):{}}var Aw=CC;function IC(l,g){var S=g?oh(l.buffer):l.buffer;return new l.constructor(S,l.byteOffset,l.length)}var OC=IC,Dw="[object Boolean]",jC="[object Date]",TC="[object Map]",zw="[object Number]",AC="[object RegExp]",DC="[object Set]",Bw="[object String]",zC="[object Symbol]",BC="[object ArrayBuffer]",Rw="[object DataView]",Nw="[object Float32Array]",RC="[object Float64Array]",Tu="[object Int8Array]",kd="[object Int16Array]",Fw="[object Int32Array]",NC="[object Uint8Array]",Mw="[object Uint8ClampedArray]",FC="[object Uint16Array]",MC="[object Uint32Array]";function Uw(l,g,S){var A=l.constructor;switch(g){case BC:return oh(l);case Dw:case jC:return new A(+l);case Rw:return SC(l,S);case Nw:case RC:case Tu:case kd:case Fw:case NC:case Mw:case FC:case MC:return OC(l,S);case TC:return new A;case zw:case Bw:return new A(l);case AC:return PC(l);case DC:return new A;case zC:return Aw(l)}}var UC=Uw;function Vw(l){return typeof l.constructor=="function"&&!qm(l)?E2(cv(l)):{}}var Hw=Vw,Cv="[object Map]";function Lw(l){return kt(l)&&ul(l)==Cv}var Kw=Lw,Ww=al&&al.isMap,VC=Ww?nv(Ww):Kw,qw=VC,HC="[object Set]";function LC(l){return kt(l)&&ul(l)==HC}var Iv=LC,$w=al&&al.isSet,Gw=$w?nv($w):Iv,ih=Gw,KC=1,Zw=2,ah=4,Xw="[object Arguments]",Yw="[object Array]",cl="[object Boolean]",Qw="[object Date]",Ov="[object Error]",jv="[object Function]",Tv="[object GeneratorFunction]",Av="[object Map]",Dv="[object Number]",sh="[object Object]",Jw="[object RegExp]",e_="[object Set]",t_="[object String]",r_="[object Symbol]",n_="[object WeakMap]",Ga="[object ArrayBuffer]",zv="[object DataView]",WC="[object Float32Array]",o_="[object Float64Array]",Bv="[object Int8Array]",qC="[object Int16Array]",$C="[object Int32Array]",i_="[object Uint8Array]",a_="[object Uint8ClampedArray]",GC="[object Uint16Array]",ZC="[object Uint32Array]",br={};br[Xw]=br[Yw]=br[Ga]=br[zv]=br[cl]=br[Qw]=br[WC]=br[o_]=br[Bv]=br[qC]=br[$C]=br[Av]=br[Dv]=br[sh]=br[Jw]=br[e_]=br[t_]=br[r_]=br[i_]=br[a_]=br[GC]=br[ZC]=!0,br[Ov]=br[jv]=br[n_]=!1;function lh(l,g,S,A,V,$){var ue,Se=g&KC,Te=g&Zw,Ve=g&ah;if(S&&(ue=V?S(l,A,V,$):S(l)),ue!==void 0)return ue;if(!Yr(l))return l;var at=un(l);if(at){if(ue=Ow(l),!Se)return i1(l,ue)}else{var st=ul(l),mt=st==jv||st==Tv;if(dd(l))return pw(l,Se);if(st==sh||st==Xw||mt&&!V){if(ue=Te||mt?{}:Hw(l),!Se)return Te?ju(l,gd(ue,l)):mC(l,fC(ue,l))}else{if(!br[st])return V?l:{};ue=UC(l,st,Se)}}$||($=new hd);var jt=$.get(l);if(jt)return jt;$.set(l,ue),ih(l)?l.forEach(function(Re){ue.add(lh(Re,g,S,Re,l,$))}):qw(l)&&l.forEach(function(Re,Vt){ue.set(Vt,lh(Re,g,S,Vt,l,$))});var Et=Ve?Te?ll:vd:Te?ku:sl,G=at?void 0:Et(l);return I2(G||l,function(Re,Vt){G&&(Vt=Re,Re=l[Vt]),rd(ue,Vt,lh(Re,g,S,Vt,l,$))}),ue}var uh=lh,Rv=1,s_=4;function XC(l){return uh(l,Rv|s_)}var l_=XC,YC="__lodash_hash_undefined__";function QC(l){return this.__data__.set(l,YC),this}var Nv=QC;function u_(l){return this.__data__.has(l)}var JC=u_;function xd(l){var g=-1,S=l==null?0:l.length;for(this.__data__=new Gs;++g<S;)this.add(l[g])}xd.prototype.add=xd.prototype.push=Nv,xd.prototype.has=JC;var c_=xd;function Fv(l,g){for(var S=-1,A=l==null?0:l.length;++S<A;)if(g(l[S],S,l))return!0;return!1}var d_=Fv;function eI(l,g){return l.has(g)}var f_=eI,tI=1,rI=2;function ch(l,g,S,A,V,$){var ue=S&tI,Se=l.length,Te=g.length;if(Se!=Te&&!(ue&&Te>Se))return!1;var Ve=$.get(l),at=$.get(g);if(Ve&&at)return Ve==g&&at==l;var st=-1,mt=!0,jt=S&rI?new c_:void 0;for($.set(l,g),$.set(g,l);++st<Se;){var Et=l[st],G=g[st];if(A)var Re=ue?A(G,Et,st,g,l,$):A(Et,G,st,l,g,$);if(Re!==void 0){if(Re)continue;mt=!1;break}if(jt){if(!d_(g,function(Vt,sr){if(!f_(jt,sr)&&(Et===Vt||V(Et,Vt,S,A,$)))return jt.push(sr)})){mt=!1;break}}else if(!(Et===G||V(Et,G,S,A,$))){mt=!1;break}}return $.delete(l),$.delete(g),mt}var dh=ch;function nI(l){var g=-1,S=Array(l.size);return l.forEach(function(A,V){S[++g]=[V,A]}),S}var p_=nI;function h_(l){var g=-1,S=Array(l.size);return l.forEach(function(A){S[++g]=A}),S}var g_=h_,m_=1,v_=2,y_="[object Boolean]",b_="[object Date]",w_="[object Error]",__="[object Map]",k_="[object Number]",x_="[object RegExp]",S_="[object Set]",E_="[object String]",Mv="[object Symbol]",fh="[object ArrayBuffer]",P_="[object DataView]",C_=yr?yr.prototype:void 0,Uv=C_?C_.valueOf:void 0;function I_(l,g,S,A,V,$,ue){switch(S){case P_:if(l.byteLength!=g.byteLength||l.byteOffset!=g.byteOffset)return!1;l=l.buffer,g=g.buffer;case fh:return!(l.byteLength!=g.byteLength||!$(new wd(l),new wd(g)));case y_:case b_:case k_:return Qi(+l,+g);case w_:return l.name==g.name&&l.message==g.message;case x_:case E_:return l==g+"";case __:var Se=p_;case S_:var Te=A&m_;if(Se||(Se=g_),l.size!=g.size&&!Te)return!1;var Ve=ue.get(l);if(Ve)return Ve==g;A|=v_,ue.set(l,g);var at=dh(Se(l),Se(g),A,V,$,ue);return ue.delete(l),at;case Mv:if(Uv)return Uv.call(l)==Uv.call(g)}return!1}var O_=I_,j_=1,T_=Object.prototype,oI=T_.hasOwnProperty;function iI(l,g,S,A,V,$){var ue=S&j_,Se=vd(l),Te=Se.length,Ve=vd(g),at=Ve.length;if(Te!=at&&!ue)return!1;for(var st=Te;st--;){var mt=Se[st];if(!(ue?mt in g:oI.call(g,mt)))return!1}var jt=$.get(l),Et=$.get(g);if(jt&&Et)return jt==g&&Et==l;var G=!0;$.set(l,g),$.set(g,l);for(var Re=ue;++st<Te;){mt=Se[st];var Vt=l[mt],sr=g[mt];if(A)var On=ue?A(sr,Vt,mt,g,l,$):A(Vt,sr,mt,l,g,$);if(!(On===void 0?Vt===sr||V(Vt,sr,S,A,$):On)){G=!1;break}Re||(Re=mt=="constructor")}if(G&&!Re){var to=l.constructor,en=g.constructor;to!=en&&"constructor"in l&&"constructor"in g&&!(typeof to=="function"&&to instanceof to&&typeof en=="function"&&en instanceof en)&&(G=!1)}return $.delete(l),$.delete(g),G}var A_=iI,Vv=1,ph="[object Arguments]",Au="[object Array]",Sd="[object Object]",Hv=Object.prototype,Lv=Hv.hasOwnProperty;function aI(l,g,S,A,V,$){var ue=un(l),Se=un(g),Te=ue?Au:ul(l),Ve=Se?Au:ul(g);Te=Te==ph?Sd:Te,Ve=Ve==ph?Sd:Ve;var at=Te==Sd,st=Ve==Sd,mt=Te==Ve;if(mt&&dd(l)){if(!dd(g))return!1;ue=!0,at=!1}if(mt&&!at)return $||($=new hd),ue||z1(l)?dh(l,g,S,A,V,$):O_(l,g,Te,S,A,V,$);if(!(S&Vv)){var jt=at&&Lv.call(l,"__wrapped__"),Et=st&&Lv.call(g,"__wrapped__");if(jt||Et){var G=jt?l.value():l,Re=Et?g.value():g;return $||($=new hd),V(G,Re,S,A,$)}}return mt?($||($=new hd),A_(l,g,S,A,V,$)):!1}var D_=aI;function hh(l,g,S,A,V){return l===g?!0:l==null||g==null||!kt(l)&&!kt(g)?l!==l&&g!==g:D_(l,g,S,A,hh,V)}var Kv=hh,sI=1,z_=2;function B_(l,g,S,A){var V=S.length,$=V,ue=!A;if(l==null)return!$;for(l=Object(l);V--;){var Se=S[V];if(ue&&Se[2]?Se[1]!==l[Se[0]]:!(Se[0]in l))return!1}for(;++V<$;){Se=S[V];var Te=Se[0],Ve=l[Te],at=Se[1];if(ue&&Se[2]){if(Ve===void 0&&!(Te in l))return!1}else{var st=new hd;if(A)var mt=A(Ve,at,Te,l,g,st);if(!(mt===void 0?Kv(at,Ve,sI|z_,A,st):mt))return!1}}return!0}var R_=B_;function lI(l){return l===l&&!Yr(l)}var N_=lI;function Wv(l){for(var g=sl(l),S=g.length;S--;){var A=g[S],V=l[A];g[S]=[A,V,N_(V)]}return g}var F_=Wv;function uI(l,g){return function(S){return S==null?!1:S[l]===g&&(g!==void 0||l in Object(S))}}var qv=uI;function cI(l){var g=F_(l);return g.length==1&&g[0][2]?qv(g[0][0],g[0][1]):function(S){return S===l||R_(S,l,g)}}var dI=cI;function $v(l,g){return l!=null&&g in Object(l)}var M_=$v;function fI(l,g,S){g=Xs(g,l);for(var A=-1,V=g.length,$=!1;++A<V;){var ue=Fo(g[A]);if(!($=l!=null&&S(l,ue)))break;l=l[ue]}return $||++A!=V?$:(V=l==null?0:l.length,!!V&&Rp(V)&&od(ue,V)&&(un(l)||Xm(l)))}var U_=fI;function pI(l,g){return l!=null&&U_(l,g,M_)}var hI=pI,V_=1,gI=2;function mI(l,g){return wn(l)&&N_(g)?qv(Fo(l),g):function(S){var A=na(S,l);return A===void 0&&A===g?hI(S,l):Kv(g,A,V_|gI)}}var H_=mI;function vI(l){return function(g){return g==null?void 0:g[l]}}var L_=vI;function K_(l){return function(g){return Ys(g,l)}}var yI=K_;function bI(l){return wn(l)?L_(Fo(l)):yI(l)}var W_=bI;function q_(l){return typeof l=="function"?l:l==null?vu:typeof l=="object"?un(l)?H_(l[0],l[1]):dI(l):W_(l)}var $_=q_;function wI(l){return function(g,S,A){for(var V=-1,$=Object(g),ue=A(g),Se=ue.length;Se--;){var Te=ue[l?Se:++V];if(S($[Te],Te,$)===!1)break}return g}}var _I=wI,G_=_I(),kI=G_;function xI(l,g){return l&&kI(l,g,sl)}var Z_=xI,SI=function(){return cn.Date.now()},Gv=SI,X_="Expected a function",EI=Math.max,PI=Math.min;function Du(l,g,S){var A,V,$,ue,Se,Te,Ve=0,at=!1,st=!1,mt=!0;if(typeof l!="function")throw new TypeError(X_);g=N(g)||0,Yr(S)&&(at=!!S.leading,st="maxWait"in S,$=st?EI(N(S.maxWait)||0,g):$,mt="trailing"in S?!!S.trailing:mt);function jt(gr){var jn=A,wo=V;return A=V=void 0,Ve=gr,ue=l.apply(wo,jn),ue}function Et(gr){return Ve=gr,Se=setTimeout(Vt,g),at?jt(gr):ue}function G(gr){var jn=gr-Te,wo=gr-Ve,Vo=g-jn;return st?PI(Vo,$-wo):Vo}function Re(gr){var jn=gr-Te,wo=gr-Ve;return Te===void 0||jn>=g||jn<0||st&&wo>=$}function Vt(){var gr=Gv();if(Re(gr))return sr(gr);Se=setTimeout(Vt,G(gr))}function sr(gr){return Se=void 0,mt&&A?jt(gr):(A=V=void 0,ue)}function On(){Se!==void 0&&clearTimeout(Se),Ve=0,A=Te=V=Se=void 0}function to(){return Se===void 0?ue:sr(Gv())}function en(){var gr=Gv(),jn=Re(gr);if(A=arguments,V=this,Te=gr,jn){if(Se===void 0)return Et(Te);if(st)return clearTimeout(Se),Se=setTimeout(Vt,g),jt(Te)}return Se===void 0&&(Se=setTimeout(Vt,g)),ue}return en.cancel=On,en.flush=to,en}var Ed=Du;function CI(l){var g=l==null?0:l.length;return g?l[g-1]:void 0}var Y_=CI;function II(l,g){return g.length<2?l:Ys(l,fv(g,0,-1))}var OI=II;function Q_(l){return typeof l=="number"&&l==Jr(l)}var jI=Q_;function J_(l,g){var S={};return g=$_(g),Z_(l,function(A,V,$){Ci(S,V,g(A,V,$))}),S}var ek=J_;function TI(l,g){return g=Xs(g,l),l=OI(l,g),l==null||delete l[Fo(Y_(g))]}var AI=TI,Zv=9007199254740991,tk=Math.floor;function DI(l,g){var S="";if(!l||g<1||g>Zv)return S;do g%2&&(S+=l),g=tk(g/2),g&&(l+=l);while(g);return S}var Xv=DI,zI=L_("length"),rk=zI,gh="\\ud800-\\udfff",nk="\\u0300-\\u036f",BI="\\ufe20-\\ufe2f",ok="\\u20d0-\\u20ff",RI=nk+BI+ok,NI="\\ufe0e\\ufe0f",ik="["+gh+"]",Yv="["+RI+"]",mh="\\ud83c[\\udffb-\\udfff]",vh="(?:"+Yv+"|"+mh+")",ak="[^"+gh+"]",sk="(?:\\ud83c[\\udde6-\\uddff]){2}",Qv="[\\ud800-\\udbff][\\udc00-\\udfff]",lk="\\u200d",Jv=vh+"?",yh="["+NI+"]?",uk="(?:"+lk+"(?:"+[ak,sk,Qv].join("|")+")"+yh+Jv+")*",FI=yh+Jv+uk,ck="(?:"+[ak+Yv+"?",Yv,sk,Qv,ik].join("|")+")",dk=RegExp(mh+"(?="+mh+")|"+ck+FI,"g");function MI(l){for(var g=dk.lastIndex=0;dk.test(l);)++g;return g}var dl=MI;function bh(l){return qp(l)?dl(l):rk(l)}var fk=bh,pk=Math.ceil;function e0(l,g){g=g===void 0?" ":_p(g);var S=g.length;if(S<2)return S?Xv(g,l):g;var A=Xv(g,pk(l/fk(g)));return qp(g)?Z1(iw(A),0,l).join(""):A.slice(0,l)}var UI=e0;function VI(l,g,S){l=Zs(l),g=Jr(g);var A=g?fk(l):0;return g&&A<g?UI(g-A,S)+l:l}var zu=VI;function hk(l,g){return l==null?!0:AI(l,g)}var t0=hk,HI=5*1e3,LI=class{constructor(l){I(this,"_cache",new Ka),I(this,"_keepHotUntapDebounce"),nr(this,l)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return ve(this).propsP}get sheet(){return ve(this).sheet.publicApi}get project(){return ve(this).sheet.project.publicApi}get address(){return pt({},ve(this).address)}_valuesPrism(){return this._cache.get("_valuesPrism",()=>{const l=ve(this);return(0,Wa.prism)(()=>(0,Wa.val)(l.getValues().getValue()))})}onValuesChange(l,g){return Lh(this._valuesPrism(),l,g)}get value(){const l=this._valuesPrism();{if(!l.isHot){this._keepHotUntapDebounce!=null&&this._keepHotUntapDebounce.flush();const g=l.keepHot();this._keepHotUntapDebounce=Ed(()=>{g(),this._keepHotUntapDebounce=void 0},HI)}this._keepHotUntapDebounce&&this._keepHotUntapDebounce()}return l.getValue()}set initialValue(l){ve(this).setInitialValue(l)}};function gk(l){const g=new WeakMap;return S=>(g.has(S)||g.set(S,l(S)),g.get(S))}function wh(l){return l.type==="compound"||l.type==="enum"}function r0(l,g){if(!l)return;const[S,...A]=g;if(S===void 0)return l;if(!wh(l))return;const V=l.type==="enum"?l.cases[S]:l.props[S];return r0(V,A)}function mk(l){return!wh(l)}var vk=class{constructor(l,g,S){this.sheet=l,this.template=g,this.nativeObject=S,I(this,"$$isPointerToPrismProvider",!0),I(this,"address"),I(this,"publicApi"),I(this,"_initialValue",new or.Atom({})),I(this,"_cache",new Ka),I(this,"_logger"),I(this,"_internalUtilCtx"),this._logger=l._logger.named("SheetObject",g.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=Ht(pt({},g.address),{sheetInstanceId:l.address.sheetInstanceId}),this.publicApi=new LI(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>(0,or.prism)(()=>{const l=(0,or.val)(this.template.getDefaultValues()),g=(0,or.val)(this._initialValue.pointer),S=or.prism.memo("withInitialCache",()=>new WeakMap,[]),A=nl(l,g,S),V=(0,or.val)(this.template.getStaticValues()),$=or.prism.memo("withStatics",()=>new WeakMap,[]);let Se=nl(A,V,$),Te;{const at=or.prism.memo("seq",()=>this.getSequencedValues(),[]),st=or.prism.memo("withSeqsCache",()=>new WeakMap,[]);Te=(0,or.val)((0,or.val)(at)),Se=nl(Se,Te,st)}return Ap("finalAtom",Se).pointer}))}getValueByPointer(l){const g=(0,or.val)(this.getValues()),{path:S}=(0,or.getPointerParts)(l);return(0,or.val)(Ii(g,S))}pointerToPrism(l){const{path:g}=(0,or.getPointerParts)(l);return(0,or.prism)(()=>{const S=(0,or.val)(this.getValues());return(0,or.val)(Ii(S,g))})}getSequencedValues(){return(0,or.prism)(()=>{const l=or.prism.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),g=(0,or.val)(l),S=new or.Atom({}),A=(0,or.val)(this.template.configPointer);return or.prism.effect("processTracks",()=>{const V=[];for(const{trackId:$,pathToProp:ue}of g){const Se=this._trackIdToPrism($),Te=r0(A,ue),Ve=Te.deserializeAndSanitize,at=Te.interpolate,st=()=>{const jt=Se.getValue();if(!jt)return S.setByPointer(sr=>Ii(sr,ue),void 0);const Et=Ve(jt.left),G=Et===void 0?Te.default:Et;if(jt.right===void 0)return S.setByPointer(sr=>Ii(sr,ue),G);const Re=Ve(jt.right),Vt=Re===void 0?Te.default:Re;return S.setByPointer(sr=>Ii(sr,ue),at(G,Vt,jt.progression))},mt=Se.onStale(st);st(),V.push(mt)}return()=>{for(const $ of V)$()}},[A,...g]),S.pointer})}_trackIdToPrism(l){const g=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[l],S=this.sheet.getSequence().positionPrism;return Fm(this._internalUtilCtx,g,S)}get propsP(){return this._cache.get("propsP",()=>(0,or.pointer)({root:this,path:[]}))}validateValue(l,g){}setInitialValue(l){this.validateValue(this.propsP,l),this._initialValue.set(l)}};function wr(l){return function(S,A){return l(S,A())}}var yo={_hmm:bo(524),_todo:bo(522),_error:bo(521),errorDev:bo(529),errorPublic:bo(545),_kapow:bo(268),_warn:bo(265),warnDev:bo(273),warnPublic:bo(289),_debug:bo(137),debugDev:bo(145),_trace:bo(73),traceDev:bo(81)};function bo(l){return Object.freeze({audience:ia(l,8)?"internal":ia(l,16)?"dev":"public",category:ia(l,4)?"troubleshooting":ia(l,2)?"todo":"general",level:ia(l,512)?512:ia(l,256)?256:ia(l,128)?128:64})}function ia(l,g){return(l&g)===g}function Er(l,g){return((g&32)===32?!0:(g&16)===16?l.dev:(g&8)===8?l.internal:!1)&&l.min<=g}var aa={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(l,g,S){return this.create({names:[...l.names,{name:g,key:S}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(l){if(l.length<5)return l;const g=l.replace(this.collapseOnRE,"");return this.cssMemo.has(g)||this.cssMemo.set(g,this.css(l)),g},css(l){var g,S,A,V;const $=this.cssMemo.get(l);if($)return $;let ue="color:".concat((S=(g=this.color)==null?void 0:g.call(this,l))!=null?S:"hsl(".concat((l.charCodeAt(0)+l.charCodeAt(l.length-1))%360,", 100%, 60%)"));return(A=this.bold)!=null&&A.test(l)&&(ue+=";font-weight:600"),(V=this.italic)!=null&&V.test(l)&&(ue+=";font-style:italic"),this.cssMemo.set(l,ue),ue}}};function _h(l=console,g={}){const S=Ht(pt({},aa),{includes:pt({},aa.includes)}),A={styled:Pd.bind(S,l),noStyle:WI.bind(S,l)},V=bk.bind(S);function $(){return S.loggingConsoleStyle&&S.loggerConsoleStyle?A.styled:A.noStyle}return S.create=$(),{configureLogger(ue){var Se;ue==="console"?(S.loggerConsoleStyle=aa.loggerConsoleStyle,S.create=$()):ue.type==="console"?(S.loggerConsoleStyle=(Se=ue.style)!=null?Se:aa.loggerConsoleStyle,S.create=$()):ue.type==="keyed"?(S.creatExt=Te=>ue.keyed(Te.names),S.create=V):ue.type==="named"&&(S.creatExt=yk.bind(null,ue.named),S.create=V)},configureLogging(ue){var Se,Te,Ve,at,st;S.includes.dev=(Se=ue.dev)!=null?Se:aa.includes.dev,S.includes.internal=(Te=ue.internal)!=null?Te:aa.includes.internal,S.includes.min=(Ve=ue.min)!=null?Ve:aa.includes.min,S.include=(at=ue.include)!=null?at:aa.include,S.loggingConsoleStyle=(st=ue.consoleStyle)!=null?st:aa.loggingConsoleStyle,S.create=$()},getLogger(){return S.create({names:[]})}}}function yk(l,g){const S=[];for(let{name:A,key:V}of g.names)S.push(V==null?A:"".concat(A," (").concat(V,")"));return l(S)}function bk(l){const g=pt(pt({},this.includes),this.include(l)),S=this.filtered,A=this.named.bind(this,l),V=this.creatExt(l),$=Er(g,524),ue=Er(g,522),Se=Er(g,521),Te=Er(g,529),Ve=Er(g,545),at=Er(g,265),st=Er(g,268),mt=Er(g,273),jt=Er(g,289),Et=Er(g,137),G=Er(g,145),Re=Er(g,73),Vt=Er(g,81),sr=$?V.error.bind(V,yo._hmm):S.bind(l,524),On=ue?V.error.bind(V,yo._todo):S.bind(l,522),to=Se?V.error.bind(V,yo._error):S.bind(l,521),en=Te?V.error.bind(V,yo.errorDev):S.bind(l,529),gr=Ve?V.error.bind(V,yo.errorPublic):S.bind(l,545),jn=st?V.warn.bind(V,yo._kapow):S.bind(l,268),wo=at?V.warn.bind(V,yo._warn):S.bind(l,265),Vo=mt?V.warn.bind(V,yo.warnDev):S.bind(l,273),_l=jt?V.warn.bind(V,yo.warnPublic):S.bind(l,273),kl=Et?V.debug.bind(V,yo._debug):S.bind(l,137),xl=G?V.debug.bind(V,yo.debugDev):S.bind(l,145),Sl=Re?V.trace.bind(V,yo._trace):S.bind(l,73),El=Vt?V.trace.bind(V,yo.traceDev):S.bind(l,81),Fr={_hmm:sr,_todo:On,_error:to,errorDev:en,errorPublic:gr,_kapow:jn,_warn:wo,warnDev:Vo,warnPublic:_l,_debug:kl,debugDev:xl,_trace:Sl,traceDev:El,lazy:{_hmm:$?wr(sr):sr,_todo:ue?wr(On):On,_error:Se?wr(to):to,errorDev:Te?wr(en):en,errorPublic:Ve?wr(gr):gr,_kapow:st?wr(jn):jn,_warn:at?wr(wo):wo,warnDev:mt?wr(Vo):Vo,warnPublic:jt?wr(_l):_l,_debug:Et?wr(kl):kl,debugDev:G?wr(xl):xl,_trace:Re?wr(Sl):Sl,traceDev:Vt?wr(El):El},named:A,utilFor:{internal(){return{debug:Fr._debug,error:Fr._error,warn:Fr._warn,trace:Fr._trace,named(_o,mr){return Fr.named(_o,mr).utilFor.internal()}}},dev(){return{debug:Fr.debugDev,error:Fr.errorDev,warn:Fr.warnDev,trace:Fr.traceDev,named(_o,mr){return Fr.named(_o,mr).utilFor.dev()}}},public(){return{error:Fr.errorPublic,warn:Fr.warnPublic,debug(_o,mr){Fr._warn('(public "debug" filtered out) '.concat(_o),mr)},trace(_o,mr){Fr._warn('(public "trace" filtered out) '.concat(_o),mr)},named(_o,mr){return Fr.named(_o,mr).utilFor.public()}}}}};return Fr}function Pd(l,g){const S=pt(pt({},this.includes),this.include(g)),A=[];let V="";for(let Te=0;Te<g.names.length;Te++){const{name:Ve,key:at}=g.names[Te];if(V+=" %c".concat(Ve),A.push(this.style.css(Ve)),at!=null){const st="%c#".concat(at);V+=st,A.push(this.style.css(st))}}const $=this.filtered,ue=this.named.bind(this,g),Se=[V,...A];return Za($,g,S,l,Se,KI(Se),ue)}function KI(l){const g=l.slice(0);for(let S=1;S<g.length;S++)g[S]+=";background-color:#e0005a;padding:2px;color:white";return g}function WI(l,g){const S=pt(pt({},this.includes),this.include(g));let A="";for(let Se=0;Se<g.names.length;Se++){const{name:Te,key:Ve}=g.names[Se];A+=" ".concat(Te),Ve!=null&&(A+="#".concat(Ve))}const V=this.filtered,$=this.named.bind(this,g),ue=[A];return Za(V,g,S,l,ue,ue,$)}function Za(l,g,S,A,V,$,ue){const Se=Er(S,524),Te=Er(S,522),Ve=Er(S,521),at=Er(S,529),st=Er(S,545),mt=Er(S,265),jt=Er(S,268),Et=Er(S,273),G=Er(S,289),Re=Er(S,137),Vt=Er(S,145),sr=Er(S,73),On=Er(S,81),to=Se?A.error.bind(A,...V):l.bind(g,524),en=Te?A.error.bind(A,...V):l.bind(g,522),gr=Ve?A.error.bind(A,...V):l.bind(g,521),jn=at?A.error.bind(A,...V):l.bind(g,529),wo=st?A.error.bind(A,...V):l.bind(g,545),Vo=jt?A.warn.bind(A,...$):l.bind(g,268),_l=mt?A.warn.bind(A,...V):l.bind(g,265),kl=Et?A.warn.bind(A,...V):l.bind(g,273),xl=G?A.warn.bind(A,...V):l.bind(g,273),Sl=Re?A.info.bind(A,...V):l.bind(g,137),El=Vt?A.info.bind(A,...V):l.bind(g,145),Fr=sr?A.debug.bind(A,...V):l.bind(g,73),_o=On?A.debug.bind(A,...V):l.bind(g,81),mr={_hmm:to,_todo:en,_error:gr,errorDev:jn,errorPublic:wo,_kapow:Vo,_warn:_l,warnDev:kl,warnPublic:xl,_debug:Sl,debugDev:El,_trace:Fr,traceDev:_o,lazy:{_hmm:Se?wr(to):to,_todo:Te?wr(en):en,_error:Ve?wr(gr):gr,errorDev:at?wr(jn):jn,errorPublic:st?wr(wo):wo,_kapow:jt?wr(Vo):Vo,_warn:mt?wr(_l):_l,warnDev:Et?wr(kl):kl,warnPublic:G?wr(xl):xl,_debug:Re?wr(Sl):Sl,debugDev:Vt?wr(El):El,_trace:sr?wr(Fr):Fr,traceDev:On?wr(_o):_o},named:ue,utilFor:{internal(){return{debug:mr._debug,error:mr._error,warn:mr._warn,trace:mr._trace,named(da,fa){return mr.named(da,fa).utilFor.internal()}}},dev(){return{debug:mr.debugDev,error:mr.errorDev,warn:mr.warnDev,trace:mr.traceDev,named(da,fa){return mr.named(da,fa).utilFor.dev()}}},public(){return{error:mr.errorPublic,warn:mr.warnPublic,debug(da,fa){mr._warn('(public "debug" filtered out) '.concat(da),fa)},trace(da,fa){mr._warn('(public "trace" filtered out) '.concat(da),fa)},named(da,fa){return mr.named(da,fa).utilFor.public()}}}}};return mr}var n0=_h(console,{});n0.configureLogging({dev:!0,min:64});var kh=n0.getLogger().named("Theatre.js (default logger)").utilFor.dev(),o0=new WeakMap;function qI(l){const g=o0.get(l);if(g)return g;const S=new Map;return o0.set(l,S),wk([],l,S),S}function wk(l,g,S){for(const[A,V]of Object.entries(g.props))if(!wh(V)){const $=[...l,A];S.set(JSON.stringify($),S.size),i0($,V,S)}for(const[A,V]of Object.entries(g.props))if(wh(V)){const $=[...l,A];S.set(JSON.stringify($),S.size),i0($,V,S)}}function i0(l,g,S){if(g.type==="compound")wk(l,g,S);else{if(g.type==="enum")throw new Error("Enums aren't supported yet");S.set(JSON.stringify(l),S.size)}}function _k(l){return typeof l=="object"&&l!==null&&Object.keys(l).length===0}var $I=class{constructor(l,g,S,A,V){this.sheetTemplate=l,I(this,"address"),I(this,"type","Theatre_SheetObjectTemplate"),I(this,"_config"),I(this,"_temp_actions_atom"),I(this,"_cache",new Ka),I(this,"project"),I(this,"pointerToSheetState"),I(this,"pointerToStaticOverrides"),this.address=Ht(pt({},l.address),{objectKey:g}),this._config=new Qr.Atom(A),this._temp_actions_atom=new Qr.Atom(V),this.project=l.project,this.pointerToSheetState=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],this.pointerToStaticOverrides=this.pointerToSheetState.staticOverrides.byObject[this.address.objectKey]}get staticConfig(){return this._config.get()}get configPointer(){return this._config.pointer}get _temp_actions(){return this._temp_actions_atom.get()}get _temp_actionsPointer(){return this._temp_actions_atom.pointer}createInstance(l,g,S){return this._config.set(S),new vk(l,this,g)}reconfigure(l){this._config.set(l)}_temp_setActions(l){this._temp_actions_atom.set(l)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>(0,Qr.prism)(()=>{const l=(0,Qr.val)(this.configPointer);return Rm(l)}))}getStaticValues(){return this._cache.get("getStaticValues",()=>(0,Qr.prism)(()=>{var l;const g=(l=(0,Qr.val)(this.pointerToStaticOverrides))!=null?l:{};return(0,Qr.val)(this.configPointer).deserializeAndSanitize(g)||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>(0,Qr.prism)(()=>{const l=this.project.pointers.historic.sheetsById[this.address.sheetId],g=(0,Qr.val)(l.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!g)return ut;const S=[];if(!g)return ut;const A=(0,Qr.val)(this.configPointer),V=Object.entries(g);for(const[ue,Se]of V){const Te=kk(ue);if(!Te)continue;const Ve=r0(A,Te);Ve&&mk(Ve)&&S.push({pathToProp:Te,trackId:Se})}const $=qI(A);return S.sort((ue,Se)=>{const Te=ue.pathToProp,Ve=Se.pathToProp,at=$.get(JSON.stringify(Te)),st=$.get(JSON.stringify(Ve));return at>st?1:-1}),S.length===0?ut:S}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>(0,Qr.prism)(()=>{const l=(0,Qr.val)(this.getArrayOfValidSequenceTracks());let g={};for(const{pathToProp:S,trackId:A}of l)el(g,S,A);return g}))}getStaticButNotSequencedOverrides(){return this._cache.get("getStaticButNotSequencedOverrides",()=>(0,Qr.prism)(()=>{const l=(0,Qr.val)(this.getStaticValues()),g=(0,Qr.val)(this.getArrayOfValidSequenceTracks()),S=l_(l);for(const{pathToProp:A}of g){t0(S,A);let V=A.slice(0,-1);for(;V.length>0;){const $=td(S,V);if(!_k($))break;t0(S,V),V=V.slice(0,-1)}}if(!_k(S))return S}))}getDefaultsAtPointer(l){const{path:g}=(0,Qr.getPointerParts)(l),S=this.getDefaultValues().getValue();return td(S,g)}};function kk(l){try{return JSON.parse(l)}catch{kh.warn("property ".concat(JSON.stringify(l)," cannot be parsed. Skipping."));return}}var xk=rt(),GI=gk(l=>JSON.stringify(l));Pe(Bn());var Sk=class extends Error{},Cd=class extends Sk{},Ek=rt(),Pk=rt(),ZI=rt(),pn=rt();function sa(){let l,g;const S=new Promise((V,$)=>{l=ue=>{V(ue),A.status="resolved"},g=ue=>{$(ue),A.status="rejected"}}),A={resolve:l,reject:g,promise:S,status:"pending"};return A}var XI=()=>{},xh=XI,Ck=rt(),a0=class{constructor(){I(this,"_stopPlayCallback",xh),I(this,"_state",new Ck.Atom({position:0,playing:!1})),I(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=xh}gotoPosition(l){this._updatePositionInState(l)}_updatePositionInState(l){this._state.setByPointer(g=>g.position,l)}getCurrentPosition(){return this._state.get().position}get playing(){return this._state.get().playing}set playing(l){this._state.setByPointer(g=>g.playing,l)}play(l,g,S,A,V){this.playing&&this.pause(),this.playing=!0;const $=g[1]-g[0];{const mt=this.getCurrentPosition();mt<g[0]||mt>g[1]?A==="normal"||A==="alternate"?this._updatePositionInState(g[0]):(A==="reverse"||A==="alternateReverse")&&this._updatePositionInState(g[1]):A==="normal"||A==="alternate"?mt===g[1]&&this._updatePositionInState(g[0]):mt===g[0]&&this._updatePositionInState(g[1])}const ue=sa(),Se=V.time,Te=$*l;let Ve=this.getCurrentPosition()-g[0];(A==="reverse"||A==="alternateReverse")&&(Ve=g[1]-this.getCurrentPosition());const at=mt=>{const Et=Math.max(mt-Se,0)/1e3,G=Math.min(Et*S+Ve,Te);if(G!==Te){const Re=Math.floor(G/$);let Vt=G/$%1*$;if(A!=="normal")if(A==="reverse")Vt=$-Vt;else{const sr=Re%2===0;A==="alternate"?sr||(Vt=$-Vt):sr&&(Vt=$-Vt)}this._updatePositionInState(Vt+g[0]),st()}else{if(A==="normal")this._updatePositionInState(g[1]);else if(A==="reverse")this._updatePositionInState(g[0]);else{const Re=(l-1)%2===0;A==="alternate"?Re?this._updatePositionInState(g[1]):this._updatePositionInState(g[0]):Re?this._updatePositionInState(g[0]):this._updatePositionInState(g[1])}this.playing=!1,ue.resolve(!0)}};this._stopPlayCallback=()=>{V.offThisOrNextTick(at),V.offNextTick(at),this.playing&&ue.resolve(!1)};const st=()=>V.onNextTick(at);return V.onThisOrNextTick(at),ue.promise}playDynamicRange(l,g){this.playing&&this.pause(),this.playing=!0;const S=sa(),A=l.keepHot();S.promise.then(A,A);let V=g.time;const $=Se=>{const Te=Math.max(Se-V,0);V=Se;const Ve=Te/1e3,at=this.getCurrentPosition(),st=l.getValue();if(at<st[0]||at>st[1])this.gotoPosition(st[0]);else{let mt=at+Ve;mt>st[1]&&(mt=st[0]+(mt-st[1])),this.gotoPosition(mt)}ue()};this._stopPlayCallback=()=>{g.offThisOrNextTick($),g.offNextTick($),S.resolve(!1)};const ue=()=>g.onNextTick($);return g.onThisOrNextTick($),S.promise}},Ik=rt(),YI="__TheatreJS_StudioBundle",s0="__TheatreJS_CoreBundle",Ok="__TheatreJS_Notifications",Sh=l=>(...g)=>{var S;switch(l){case"success":{kh.debug(g.slice(0,2).join(`
`));break}case"info":{kh.debug(g.slice(0,2).join(`
`));break}case"warning":{kh.warn(g.slice(0,2).join(`
`));break}}return typeof window<"u"?(S=window[Ok])==null?void 0:S.notify[l](...g):void 0},fl={warning:Sh("warning"),success:Sh("success"),info:Sh("info"),error:Sh("error")};typeof window<"u"&&(window.addEventListener("error",l=>{fl.error("An error occurred","<pre>".concat(l.message,`</pre>

See **console** for details.`))}),window.addEventListener("unhandledrejection",l=>{fl.error("An error occurred","<pre>".concat(l.reason,`</pre>

See **console** for details.`))}));var jk=class{constructor(l,g,S){this._decodedBuffer=l,this._audioContext=g,this._nodeDestination=S,I(this,"_mainGain"),I(this,"_state",new Ik.Atom({position:0,playing:!1})),I(this,"statePointer"),I(this,"_stopPlayCallback",xh),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(l,g){const S=sa();this._playing&&this.pause(),this._playing=!0;let A;const V=()=>{A==null||A(),A=this._loopInRange(l.getValue(),g).stop},$=l.onStale(V);return V(),this._stopPlayCallback=()=>{A==null||A(),$(),S.resolve(!1)},S.promise}_loopInRange(l,g){let A=this.getCurrentPosition();const V=l[1]-l[0];A<l[0]||A>l[1]?this._updatePositionInState(l[0]):A===l[1]&&this._updatePositionInState(l[0]),A=this.getCurrentPosition();const $=this._audioContext.createBufferSource();$.buffer=this._decodedBuffer,$.connect(this._mainGain),$.playbackRate.value=1,$.loop=!0,$.loopStart=l[0],$.loopEnd=l[1];const ue=g.time;let Se=A-l[0];$.start(0,A);const Te=st=>{let G=(Math.max(st-ue,0)/1e3*1+Se)/V%1*V;this._updatePositionInState(G+l[0]),Ve()},Ve=()=>g.onNextTick(Te);return g.onThisOrNextTick(Te),{stop:()=>{$.stop(),$.disconnect(),g.offThisOrNextTick(Te),g.offNextTick(Te)}}}get _playing(){return this._state.get().playing}set _playing(l){this._state.setByPointer(g=>g.playing,l)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=xh}gotoPosition(l){this._updatePositionInState(l)}_updatePositionInState(l){this._state.reduce(g=>Ht(pt({},g),{position:l}))}getCurrentPosition(){return this._state.get().position}play(l,g,S,A,V){this._playing&&this.pause(),this._playing=!0;let $=this.getCurrentPosition();const ue=g[1]-g[0];if(A!=="normal")throw new Cd('Audio-controlled sequences can only be played in the "normal" direction. '+"'".concat(A,"' given."));$<g[0]||$>g[1]?this._updatePositionInState(g[0]):$===g[1]&&this._updatePositionInState(g[0]),$=this.getCurrentPosition();const Se=sa(),Te=this._audioContext.createBufferSource();Te.buffer=this._decodedBuffer,Te.connect(this._mainGain),Te.playbackRate.value=S,l>1e3&&(fl.warning("Can't play sequences with audio more than 1000 times","The sequence will still play, but only 1000 times. The `iterationCount: ".concat(l,"` provided to `sequence.play()`\nis too high for a sequence with audio.\n\nTo fix this, either set `iterationCount` to a lower value, or remove the audio from the sequence."),[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),l=1e3),l>1&&(Te.loop=!0,Te.loopStart=g[0],Te.loopEnd=g[1]);const Ve=V.time;let at=$-g[0];const st=ue*l;Te.start(0,$,st-at);const mt=G=>{const Vt=Math.max(G-Ve,0)/1e3,sr=Math.min(Vt*S+at,st);if(sr!==st){let On=sr/ue%1*ue;this._updatePositionInState(On+g[0]),Et()}else this._updatePositionInState(g[1]),this._playing=!1,jt(),Se.resolve(!0)},jt=()=>{Te.stop(),Te.disconnect()};this._stopPlayCallback=()=>{jt(),V.offThisOrNextTick(mt),V.offNextTick(mt),this._playing&&Se.resolve(!1)};const Et=()=>V.onNextTick(mt);return V.onThisOrNextTick(mt),Se.promise}},QI=rt(),l0=0;function Eh(l){var g;const S=ue=>{A.tick(ue)},A=new QI.Ticker({onActive(){var ue;(ue=l==null?void 0:l.start)==null||ue.call(l)},onDormant(){var ue;(ue=l==null?void 0:l.stop)==null||ue.call(l)}}),V={tick:S,id:l0++,name:(g=l==null?void 0:l.name)!=null?g:"CustomRafDriver-".concat(l0),type:"Theatre_RafDriver_PublicAPI"},$={type:"Theatre_RafDriver_PrivateAPI",publicApi:V,ticker:A,start:l==null?void 0:l.start,stop:l==null?void 0:l.stop};return nr(V,$),V}function JI(){let l=null;const A=Eh({name:"DefaultCoreRafDriver",start:()=>{if(typeof window<"u"){const V=$=>{A.tick($),l=window.requestAnimationFrame(V)};l=window.requestAnimationFrame(V)}else A.tick(0),setTimeout(()=>A.tick(1),0)},stop:()=>{typeof window<"u"&&l!==null&&window.cancelAnimationFrame(l)}});return A}var Ph;function pl(){return Ph||Tk(JI()),Ph}function Ch(){return pl().ticker}function Tk(l){if(Ph)throw new Error("`setCoreRafDriver()` is already called.");Ph=ve(l)}var Ak=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(l){nr(this,l)}play(l){const g=ve(this);if(g._project.isReady()){const S=l!=null&&l.rafDriver?ve(l.rafDriver).ticker:Ch();return g.play(l??{},S)}else{const S=sa();return S.resolve(!0),S.promise}}pause(){ve(this).pause()}get position(){return ve(this).position}set position(l){ve(this).position=l}__experimental_getKeyframes(l){return ve(this).getKeyframesOfSimpleProp(l)}async attachAudio(l){const{audioContext:g,destinationNode:S,decodedBuffer:A,gainNode:V}=await e5(l),$=new jk(A,g,V);return ve(this).replacePlaybackController($),{audioContext:g,destinationNode:S,decodedBuffer:A,gainNode:V}}get pointer(){return ve(this).pointer}};async function e5(l){function g(){if(l.audioContext)return Promise.resolve(l.audioContext);const Ve=new AudioContext;return Ve.state==="running"||typeof window>"u"?Promise.resolve(Ve):new Promise(at=>{const st=()=>{Ve.resume().catch(Et=>{console.error(Et)})},mt=["mousedown","keydown","touchstart"],jt={capture:!0,passive:!1};mt.forEach(Et=>{window.addEventListener(Et,st,jt)}),Ve.addEventListener("statechange",()=>{Ve.state==="running"&&(mt.forEach(Et=>{window.removeEventListener(Et,st,jt)}),at(Ve))})})}async function S(){if(l.source instanceof AudioBuffer)return l.source;const Ve=sa();if(typeof l.source!="string")throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let at;try{at=await fetch(l.source)}catch(Et){throw console.error(Et),new Error("Could not fetch '".concat(l.source,"'. Network error logged above."))}let st;try{st=await at.arrayBuffer()}catch(Et){throw console.error(Et),new Error("Could not read '".concat(l.source,"' as an arrayBuffer."))}(await A).decodeAudioData(st,Ve.resolve,Ve.reject);let jt;try{jt=await Ve.promise}catch(Et){throw console.error(Et),new Error("Could not decode ".concat(l.source," as an audio file."))}return jt}const A=g(),V=S(),[$,ue]=await Promise.all([A,V]),Se=l.destinationNode||$.destination,Te=$.createGain();return Te.connect(Se),{audioContext:$,decodedBuffer:ue,gainNode:Te,destinationNode:Se}}var Dk=zk("Theatre_SheetObject");function zk(l){return g=>typeof g=="object"&&!!g&&g.type===l}var Bk=class{constructor(l,g,S,A,V){this._project=l,this._sheet=g,this._lengthD=S,this._subUnitsPerUnitD=A,I(this,"address"),I(this,"publicApi"),I(this,"_playbackControllerBox"),I(this,"_prismOfStatePointer"),I(this,"_positionD"),I(this,"_positionFormatterD"),I(this,"_playableRangeD"),I(this,"pointer",(0,ZI.pointer)({root:this,path:[]})),I(this,"$$isPointerToPrismProvider",!0),I(this,"_logger"),I(this,"closestGridPosition",$=>{const Se=1/this.subUnitsPerUnit;return parseFloat((Math.round($/Se)*Se).toFixed(3))}),this._logger=l._logger.named("Sheet",g.address.sheetId).named("Instance",g.address.sheetInstanceId),this.address=Ht(pt({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new Ak(this),this._playbackControllerBox=new Pk.Atom(V??new a0),this._prismOfStatePointer=(0,pn.prism)(()=>this._playbackControllerBox.prism.getValue().statePointer),this._positionD=(0,pn.prism)(()=>{const $=this._prismOfStatePointer.getValue();return(0,pn.val)($.position)}),this._positionFormatterD=(0,pn.prism)(()=>{const $=(0,pn.val)(this._subUnitsPerUnitD);return new t5($)})}get type(){return"Theatre_Sequence"}pointerToPrism(l){const{path:g}=(0,Ek.getPointerParts)(l);if(g.length===0)return(0,pn.prism)(()=>({length:(0,pn.val)(this.pointer.length),playing:(0,pn.val)(this.pointer.playing),position:(0,pn.val)(this.pointer.position),subUnitsPerUnit:(0,pn.val)(this.pointer.subUnitsPerUnit)}));if(g.length>1)return(0,pn.prism)(()=>{});const[S]=g;return S==="length"?this._lengthD:S==="subUnitsPerUnit"?this._subUnitsPerUnitD:S==="position"?this._positionD:S==="playing"?(0,pn.prism)(()=>(0,pn.val)(this._prismOfStatePointer.getValue().playing)):(0,pn.prism)(()=>{})}getKeyframesOfSimpleProp(l){const{path:g,root:S}=(0,Ek.getPointerParts)(l);if(!Dk(S))throw new Cd("Argument prop must be a pointer to a SheetObject property");const A=(0,pn.val)(this._project.pointers.historic.sheetsById[this._sheet.address.sheetId].sequence.tracksByObject[S.address.objectKey]);if(!A)return[];const{trackData:V,trackIdByPropPath:$}=A,ue=GI(g),Se=$[ue];if(!Se)return[];const Te=V[Se];return Te?Te.keyframes:[]}get positionFormatter(){return this._positionFormatterD.getValue()}get prismOfStatePointer(){return this._prismOfStatePointer}get length(){return this._lengthD.getValue()}get positionPrism(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(l){let g=l;this.pause(),g>this.length&&(g=this.length);const S=this.length;this._playbackControllerBox.get().gotoPosition(g>S?S:g)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,pn.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,pn.prism)(()=>[0,(0,pn.val)(this._lengthD)])}playDynamicRange(l,g){return this._playbackControllerBox.get().playDynamicRange(l,g)}async play(l,g){const S=this.length,A=l&&l.range?l.range:[0,S],V=l&&typeof l.iterationCount=="number"?l.iterationCount:1,$=l&&typeof l.rate<"u"?l.rate:1,ue=l&&l.direction?l.direction:"normal";return await this._play(V,[A[0],A[1]],$,ue,g)}_play(l,g,S,A,V){return this._playbackControllerBox.get().play(l,g,S,A,V)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(l){this.pause();const g=this._playbackControllerBox.get();this._playbackControllerBox.set(l);const S=g.getCurrentPosition();g.destroy(),l.gotoPosition(S)}},t5=class{constructor(l){this._fps=l}formatSubUnitForGrid(l){const g=l%1,S=1/this._fps;return Math.round(g/S)+"f"}formatFullUnitForGrid(l){let g=l,S="";if(g>=gl){const V=Math.floor(g/gl);S+=V+"h",g=g%gl}if(g>=Xa){const V=Math.floor(g/Xa);S+=V+"m",g=g%Xa}if(g>=hl){const V=Math.floor(g/hl);S+=V+"s",g=g%hl}const A=1/this._fps;if(g>=A){const V=Math.floor(g/A);S+=V+"f",g=g%A}return S.length===0?"0s":S}formatForPlayhead(l){let g=l,S="";if(g>=gl){const V=Math.floor(g/gl);S+=zu(V.toString(),2,"0")+"h",g=g%gl}if(g>=Xa){const V=Math.floor(g/Xa);S+=zu(V.toString(),2,"0")+"m",g=g%Xa}else S.length>0&&(S+="00m");if(g>=hl){const V=Math.floor(g/hl);S+=zu(V.toString(),2,"0")+"s",g=g%hl}else S+="00s";const A=1/this._fps;if(g>=A){const V=Math.round(g/A);S+=zu(V.toString(),2,"0")+"f",g=g%A}else g/A>.98?(S+=zu("1",2,"0")+"f",g=g%A):S+="00f";return S.length===0?"00s00f":S}formatBasic(l){return l.toFixed(2)+"s"}},hl=1,Xa=hl*60,gl=Xa*60,u0={};jr(u0,{boolean:()=>f0,compound:()=>Id,file:()=>Ih,image:()=>Qa,number:()=>Ja,rgba:()=>Bu,string:()=>Kk,stringLiteral:()=>Wk});function Rk(l,g){return l.length<=g?l:l.substr(0,g-3)+"..."}var Ya=l=>typeof l=="string"?'string("'.concat(Rk(l,10),'")'):typeof l=="number"?"number(".concat(Rk(String(l),10),")"):l===null?"null":l===void 0?"undefined":typeof l=="boolean"?String(l):Array.isArray(l)?"array":typeof l=="object"?"object":"unknown",Nk=Ya;function nn(l,{removeAlphaIfOpaque:g=!1}={}){const S=(l.a*255|256).toString(16).slice(1),A=(l.r*255|256).toString(16).slice(1)+(l.g*255|256).toString(16).slice(1)+(l.b*255|256).toString(16).slice(1)+(g&&S==="ff"?"":S);return"#".concat(A)}function c0(l){return Ht(pt({},l),{toString(){return nn(this,{removeAlphaIfOpaque:!0})}})}function r5(l){return Object.fromEntries(Object.entries(l).map(([g,S])=>[g,sw(S,0,1)]))}function pe(l){function g(S){return S>=.0031308?1.055*S**(1/2.4)-.055:12.92*S}return r5({r:g(l.r),g:g(l.g),b:g(l.b),a:l.a})}function Fk(l){function g(S){return S>=.04045?((S+.055)/(1+.055))**2.4:S/12.92}return{r:g(l.r),g:g(l.g),b:g(l.b),a:l.a}}function Mk(l){let g=.4122214708*l.r+.5363325363*l.g+.0514459929*l.b,S=.2119034982*l.r+.6806995451*l.g+.1073969566*l.b,A=.0883024619*l.r+.2817188376*l.g+.6299787005*l.b,V=Math.cbrt(g),$=Math.cbrt(S),ue=Math.cbrt(A);return{L:.2104542553*V+.793617785*$-.0040720468*ue,a:1.9779984951*V-2.428592205*$+.4505937099*ue,b:.0259040371*V+.7827717662*$-.808675766*ue,alpha:l.a}}function n5(l){let g=l.L+.3963377774*l.a+.2158037573*l.b,S=l.L-.1055613458*l.a-.0638541728*l.b,A=l.L-.0894841775*l.a-1.291485548*l.b,V=g*g*g,$=S*S*S,ue=A*A*A;return{r:4.0767416621*V-3.3077115913*$+.2309699292*ue,g:-1.2684380046*V+2.6097574011*$-.3413193965*ue,b:-.0041960863*V-.7034186147*$+1.707614701*ue,a:l.alpha}}var kn=Symbol("TheatrePropType_Basic");function Uk(l){return typeof l=="object"&&!!l&&l[kn]==="TheatrePropType"}function Wt(l){if(typeof l=="number")return Ja(l);if(typeof l=="boolean")return f0(l);if(typeof l=="string")return Kk(l);if(typeof l=="object"&&l){if(Uk(l))return l;if(K2(l))return Id(l);throw new Cd("This value is not a valid prop type: ".concat(Nk(l)))}else throw new Cd("This value is not a valid prop type: ".concat(Nk(l)))}function o5(l){const g={};for(const S of Object.keys(l)){const A=l[S];Uk(A)?g[S]=A:g[S]=Wt(A)}return g}var Id=(l,g={})=>{const S=o5(l),A=new WeakMap;return{type:"compound",props:S,valueType:null,[kn]:"TheatrePropType",label:g.label,default:ek(S,$=>$.default),deserializeAndSanitize:$=>{if(typeof $!="object"||!$)return;if(A.has($))return A.get($);const ue={};let Se=!1;for(const[Te,Ve]of Object.entries(S))if(Object.prototype.hasOwnProperty.call($,Te)){const at=Ve.deserializeAndSanitize($[Te]);at!=null&&(Se=!0,ue[Te]=at)}if(A.set($,ue),Se)return ue}}},Ih=(l,g={})=>{const S=(A,V,$)=>{var ue;return{type:"file",id:((ue=g.interpolate)!=null?ue:xt)(A.id,V.id,$)}};return{type:"file",default:{type:"file",id:l},valueType:null,[kn]:"TheatrePropType",label:g.label,interpolate:S,deserializeAndSanitize:Vk}},Vk=l=>{if(!l)return;let g=!0;if(typeof l.id!="string"&&![null,void 0].includes(l.id)&&(g=!1),l.type!=="file"&&(g=!1),!!g)return l},Qa=(l,g={})=>{const S=(A,V,$)=>{var ue;return{type:"image",id:((ue=g.interpolate)!=null?ue:xt)(A.id,V.id,$)}};return{type:"image",default:{type:"image",id:l},valueType:null,[kn]:"TheatrePropType",label:g.label,interpolate:S,deserializeAndSanitize:Hk}},Hk=l=>{if(!l)return;let g=!0;if(typeof l.id!="string"&&![null,void 0].includes(l.id)&&(g=!1),l.type!=="image"&&(g=!1),!!g)return l},Ja=(l,g={})=>{var S;return Ht(pt({type:"number",valueType:0,default:l,[kn]:"TheatrePropType"},g||{}),{label:g.label,nudgeFn:(S=g.nudgeFn)!=null?S:a5,nudgeMultiplier:typeof g.nudgeMultiplier=="number"?g.nudgeMultiplier:void 0,interpolate:ti,deserializeAndSanitize:Gt(g.range)})},Gt=l=>l?g=>{if(typeof g=="number"&&isFinite(g))return sw(g,l[0],l[1])}:d0,d0=l=>typeof l=="number"&&isFinite(l)?l:void 0,ti=(l,g,S)=>l+S*(g-l),Bu=(l={r:0,g:0,b:0,a:1},g={})=>{const S={};for(const A of["r","g","b","a"])S[A]=Math.min(Math.max(l[A],0),1);return{type:"rgba",valueType:null,default:c0(S),[kn]:"TheatrePropType",label:g.label,interpolate:Lk,deserializeAndSanitize:Oh}},Oh=l=>{if(!l)return;let g=!0;for(const A of["r","g","b","a"])(!Object.prototype.hasOwnProperty.call(l,A)||typeof l[A]!="number")&&(g=!1);if(!g)return;const S={};for(const A of["r","g","b","a"])S[A]=Math.min(Math.max(l[A],0),1);return c0(S)},Lk=(l,g,S)=>{const A=Mk(Fk(l)),V=Mk(Fk(g)),$={L:(1-S)*A.L+S*V.L,a:(1-S)*A.a+S*V.a,b:(1-S)*A.b+S*V.b,alpha:(1-S)*A.alpha+S*V.alpha},ue=pe(n5($));return c0(ue)},f0=(l,g={})=>{var S;return{type:"boolean",default:l,valueType:null,[kn]:"TheatrePropType",label:g.label,interpolate:(S=g.interpolate)!=null?S:xt,deserializeAndSanitize:p0}},p0=l=>typeof l=="boolean"?l:void 0;function xt(l){return l}var Kk=(l,g={})=>{var S;return{type:"string",default:l,valueType:null,[kn]:"TheatrePropType",label:g.label,interpolate:(S=g.interpolate)!=null?S:xt,deserializeAndSanitize:i5}};function i5(l){return typeof l=="string"?l:void 0}function Wk(l,g,S={}){var A,V;return{type:"stringLiteral",default:l,valuesAndLabels:pt({},g),[kn]:"TheatrePropType",valueType:null,as:(A=S.as)!=null?A:"menu",label:S.label,interpolate:(V=S.interpolate)!=null?V:xt,deserializeAndSanitize($){if(typeof $=="string"&&Object.prototype.hasOwnProperty.call(g,$))return $}}}var a5=({config:l,deltaX:g,deltaFraction:S,magnitude:A})=>{var V;const{range:$}=l;return!l.nudgeMultiplier&&$&&!$.includes(1/0)&&!$.includes(-1/0)?S*($[1]-$[0])*A:g*A*((V=l.nudgeMultiplier)!=null?V:1)},qk=l=>l.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");function jh(l,g){return qk(l)}Pe(oe());var $k=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(l){nr(this,l)}object(l,g,S){const A=ve(this),V=jh(l),$=A.getObject(V),ue=null,Se=S==null?void 0:S.__actions__THIS_API_IS_UNSTABLE_AND_WILL_CHANGE_IN_THE_NEXT_VERSION;if($)return Se&&$.template._temp_setActions(Se),$.publicApi;{const Te=Id(g);return A.createObject(V,ue,Te,Se).publicApi}}__experimental_getExistingObject(l){const g=ve(this),S=jh(l),A=g.getObject(S);return A==null?void 0:A.publicApi}get sequence(){return ve(this).getSequence().publicApi}get project(){return ve(this).project.publicApi}get address(){return pt({},ve(this).address)}detachObject(l){const g=ve(this),S=jh(l);if(!g.getObject(S)){fl.warning(`Couldn't delete object "`.concat(S,'"'),'There is no object with key "'.concat(S,`".

To fix this, make sure you are calling \`sheet.deleteObject("`).concat(S,'")` with the correct key.')),console.warn('Object key "'.concat(S,'" does not exist.'));return}g.deleteObject(S)}},Ru=rt(),s5=class{constructor(l,g){this.template=l,this.instanceId=g,I(this,"_objects",new Ru.Atom({})),I(this,"_sequence"),I(this,"address"),I(this,"publicApi"),I(this,"project"),I(this,"objectsP",this._objects.pointer),I(this,"type","Theatre_Sheet"),I(this,"_logger"),this._logger=l.project._logger.named("Sheet",g),this._logger._trace("creating sheet"),this.project=l.project,this.address=Ht(pt({},l.address),{sheetInstanceId:this.instanceId}),this.publicApi=new $k(this)}createObject(l,g,S,A={}){const $=this.template.getObjectTemplate(l,g,S,A).createInstance(this,g,S);return this._objects.setByPointer(ue=>ue[l],$),$}getObject(l){return this._objects.get()[l]}deleteObject(l){this._objects.reduce(g=>{const S=pt({},g);return delete S[l],S})}getSequence(){if(!this._sequence){const l=(0,Ru.prism)(()=>{const S=(0,Ru.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length);return l5(S)}),g=(0,Ru.prism)(()=>{const S=(0,Ru.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit);return Gk(S)});this._sequence=new Bk(this.template.project,this,l,g)}return this._sequence}},l5=l=>typeof l=="number"&&isFinite(l)&&l>0?l:10,Gk=l=>typeof l=="number"&&jI(l)&&l>=1&&l<=1e3?l:30,u5=class{constructor(l,g){this.project=l,I(this,"type","Theatre_SheetTemplate"),I(this,"address"),I(this,"_instances",new xk.Atom({})),I(this,"instancesP",this._instances.pointer),I(this,"_objectTemplates",new xk.Atom({})),I(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=Ht(pt({},l.address),{sheetId:g})}getInstance(l){let g=this._instances.get()[l];return g||(g=new s5(this,l),this._instances.setByPointer(S=>S[l],g)),g}getObjectTemplate(l,g,S,A){let V=this._objectTemplates.get()[l];return V||(V=new $I(this,l,g,S,A),this._objectTemplates.setByPointer($=>$[l],V)),V}},Th=rt(),h0=rt(),g0=l=>new Promise(g=>setTimeout(g,l)),c5=g0;function Uo(l){for(var g=arguments.length,S=Array(g>1?g-1:0),A=1;A<g;A++)S[A-1]=arguments[A];throw Error("[Immer] minified error nr: "+l+(S.length?" "+S.map(function(V){return"'"+V+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ml(l){return!!l&&!!l[Un]}function vl(l){return!!l&&(function(g){if(!g||typeof g!="object")return!1;var S=Object.getPrototypeOf(g);if(S===null)return!0;var A=Object.hasOwnProperty.call(S,"constructor")&&S.constructor;return A===Object||typeof A=="function"&&Function.toString.call(A)===Yk}(l)||Array.isArray(l)||!!l[S0]||!!l.constructor[S0]||Dh(l)||jd(l))}function ri(l){return ml(l)||Uo(23,l),l[Un].t}function la(l,g,S){S===void 0&&(S=!1),yl(l)===0?(S?Object.keys:Nh)(l).forEach(function(A){S&&typeof A=="symbol"||g(A,l[A],l)}):l.forEach(function(A,V){return g(V,A,l)})}function yl(l){var g=l[Un];return g?g.i>3?g.i-4:g.i:Array.isArray(l)?1:Dh(l)?2:jd(l)?3:0}function Od(l,g){return yl(l)===2?l.has(g):Object.prototype.hasOwnProperty.call(l,g)}function ua(l,g){return yl(l)===2?l.get(g):l[g]}function Ah(l,g,S){var A=yl(l);A===2?l.set(g,S):A===3?(l.delete(g),l.add(S)):l[g]=S}function Zk(l,g){return l===g?l!==0||1/l==1/g:l!=l&&g!=g}function Dh(l){return Vu&&l instanceof Map}function jd(l){return zd&&l instanceof Set}function es(l){return l.o||l.t}function zh(l){if(Array.isArray(l))return Array.prototype.slice.call(l);var g=Fh(l);delete g[Un];for(var S=Nh(g),A=0;A<S.length;A++){var V=S[A],$=g[V];$.writable===!1&&($.writable=!0,$.configurable=!0),($.get||$.set)&&(g[V]={configurable:!0,writable:!0,enumerable:$.enumerable,value:l[V]})}return Object.create(Object.getPrototypeOf(l),g)}function Bh(l,g){return g===void 0&&(g=!1),Mn(l)||ml(l)||!vl(l)||(yl(l)>1&&(l.set=l.add=l.clear=l.delete=bl),Object.freeze(l),g&&la(l,function(S,A){return Bh(A,!0)},!0)),l}function bl(){Uo(2)}function Mn(l){return l==null||typeof l!="object"||Object.isFrozen(l)}function ni(l){var g=E0[l];return g||Uo(18,l),g}function Td(){return ca}function m0(l,g){g&&(ni("Patches"),l.u=[],l.s=[],l.v=g)}function Ad(l){Rh(l),l.p.forEach(y0),l.p=null}function Rh(l){l===ca&&(ca=l.l)}function v0(l){return ca={p:[],l:ca,h:l,m:!0,_:0}}function y0(l){var g=l[Un];g.i===0||g.i===1?g.j():g.O=!0}function Nr(l,g){g._=g.p.length;var S=g.p[0],A=l!==void 0&&l!==S;return g.h.g||ni("ES5").S(g,l,A),A?(S[Un].P&&(Ad(g),Uo(4)),vl(l)&&(l=Dd(g,l),g.l||Nu(g,l)),g.u&&ni("Patches").M(S[Un],l,g.u,g.s)):l=Dd(g,S,[]),Ad(g),g.u&&g.v(g.u,g.s),l!==x0?l:void 0}function Dd(l,g,S){if(Mn(g))return g;var A=g[Un];if(!A)return la(g,function($,ue){return b0(l,A,g,$,ue,S)},!0),g;if(A.A!==l)return g;if(!A.P)return Nu(l,A.t,!0),A.t;if(!A.I){A.I=!0,A.A._--;var V=A.i===4||A.i===5?A.o=zh(A.k):A.o;la(A.i===3?new Set(V):V,function($,ue){return b0(l,A,V,$,ue,S)}),Nu(l,V,!1),S&&l.u&&ni("Patches").R(A,S,l.u,l.s)}return A.o}function b0(l,g,S,A,V,$){if(ml(V)){var ue=Dd(l,V,$&&g&&g.i!==3&&!Od(g.D,A)?$.concat(A):void 0);if(Ah(S,A,ue),!ml(ue))return;l.m=!1}if(vl(V)&&!Mn(V)){if(!l.h.F&&l._<1)return;Dd(l,V),g&&g.A.l||Nu(l,V)}}function Nu(l,g,S){S===void 0&&(S=!1),l.h.F&&l.m&&Bh(g,S)}function Fu(l,g){var S=l[Un];return(S?es(S):l)[g]}function Mu(l,g){if(g in l)for(var S=Object.getPrototypeOf(l);S;){var A=Object.getOwnPropertyDescriptor(S,g);if(A)return A;S=Object.getPrototypeOf(S)}}function oi(l){l.P||(l.P=!0,l.l&&oi(l.l))}function ii(l){l.o||(l.o=zh(l.t))}function Uu(l,g,S){var A=Dh(g)?ni("MapSet").N(g,S):jd(g)?ni("MapSet").T(g,S):l.g?function(V,$){var ue=Array.isArray(V),Se={i:ue?1:0,A:$?$.A:Td(),P:!1,I:!1,D:{},l:$,t:V,k:null,o:null,j:null,C:!1},Te=Se,Ve=Bd;ue&&(Te=[Se],Ve=Rd);var at=Proxy.revocable(Te,Ve),st=at.revoke,mt=at.proxy;return Se.k=mt,Se.j=st,mt}(g,S):ni("ES5").J(g,S);return(S?S.A:Td()).p.push(A),A}function Xk(l){return ml(l)||Uo(22,l),function g(S){if(!vl(S))return S;var A,V=S[Un],$=yl(S);if(V){if(!V.P&&(V.i<4||!ni("ES5").K(V)))return V.t;V.I=!0,A=w0(S,$),V.I=!1}else A=w0(S,$);return la(A,function(ue,Se){V&&ua(V.t,ue)===Se||Ah(A,ue,g(Se))}),$===3?new Set(A):A}(l)}function w0(l,g){switch(g){case 2:return new Map(l);case 3:return Array.from(l)}return zh(l)}var _0,ca,wl=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Vu=typeof Map<"u",zd=typeof Set<"u",k0=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",x0=wl?Symbol.for("immer-nothing"):((_0={})["immer-nothing"]=!0,_0),S0=wl?Symbol.for("immer-draftable"):"__$immer_draftable",Un=wl?Symbol.for("immer-state"):"__$immer_state",Yk=""+Object.prototype.constructor,Nh=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:Object.getOwnPropertyNames,Fh=Object.getOwnPropertyDescriptors||function(l){var g={};return Nh(l).forEach(function(S){g[S]=Object.getOwnPropertyDescriptor(l,S)}),g},E0={},Bd={get:function(l,g){if(g===Un)return l;var S=es(l);if(!Od(S,g))return function(V,$,ue){var Se,Te=Mu($,ue);return Te?"value"in Te?Te.value:(Se=Te.get)===null||Se===void 0?void 0:Se.call(V.k):void 0}(l,S,g);var A=S[g];return l.I||!vl(A)?A:A===Fu(l.t,g)?(ii(l),l.o[g]=Uu(l.A.h,A,l)):A},has:function(l,g){return g in es(l)},ownKeys:function(l){return Reflect.ownKeys(es(l))},set:function(l,g,S){var A=Mu(es(l),g);if(A!=null&&A.set)return A.set.call(l.k,S),!0;if(!l.P){var V=Fu(es(l),g),$=V==null?void 0:V[Un];if($&&$.t===S)return l.o[g]=S,l.D[g]=!1,!0;if(Zk(S,V)&&(S!==void 0||Od(l.t,g)))return!0;ii(l),oi(l)}return l.o[g]===S&&typeof S!="number"&&(S!==void 0||g in l.o)||(l.o[g]=S,l.D[g]=!0,!0)},deleteProperty:function(l,g){return Fu(l.t,g)!==void 0||g in l.t?(l.D[g]=!1,ii(l),oi(l)):delete l.D[g],l.o&&delete l.o[g],!0},getOwnPropertyDescriptor:function(l,g){var S=es(l),A=Reflect.getOwnPropertyDescriptor(S,g);return A&&{writable:!0,configurable:l.i!==1||g!=="length",enumerable:A.enumerable,value:S[g]}},defineProperty:function(){Uo(11)},getPrototypeOf:function(l){return Object.getPrototypeOf(l.t)},setPrototypeOf:function(){Uo(12)}},Rd={};la(Bd,function(l,g){Rd[l]=function(){return arguments[0]=arguments[0][0],g.apply(this,arguments)}}),Rd.deleteProperty=function(l,g){return Bd.deleteProperty.call(this,l[0],g)},Rd.set=function(l,g,S){return Bd.set.call(this,l[0],g,S,l[0])};var Qk=function(){function l(S){var A=this;this.g=k0,this.F=!0,this.produce=function(V,$,ue){if(typeof V=="function"&&typeof $!="function"){var Se=$;$=V;var Te=A;return function(jt){var Et=this;jt===void 0&&(jt=Se);for(var G=arguments.length,Re=Array(G>1?G-1:0),Vt=1;Vt<G;Vt++)Re[Vt-1]=arguments[Vt];return Te.produce(jt,function(sr){var On;return(On=$).call.apply(On,[Et,sr].concat(Re))})}}var Ve;if(typeof $!="function"&&Uo(6),ue!==void 0&&typeof ue!="function"&&Uo(7),vl(V)){var at=v0(A),st=Uu(A,V,void 0),mt=!0;try{Ve=$(st),mt=!1}finally{mt?Ad(at):Rh(at)}return typeof Promise<"u"&&Ve instanceof Promise?Ve.then(function(jt){return m0(at,ue),Nr(jt,at)},function(jt){throw Ad(at),jt}):(m0(at,ue),Nr(Ve,at))}if(!V||typeof V!="object")return(Ve=$(V))===x0?void 0:(Ve===void 0&&(Ve=V),A.F&&Bh(Ve,!0),Ve);Uo(21,V)},this.produceWithPatches=function(V,$){return typeof V=="function"?function(Te){for(var Ve=arguments.length,at=Array(Ve>1?Ve-1:0),st=1;st<Ve;st++)at[st-1]=arguments[st];return A.produceWithPatches(Te,function(mt){return V.apply(void 0,[mt].concat(at))})}:[A.produce(V,$,function(Te,Ve){ue=Te,Se=Ve}),ue,Se];var ue,Se},typeof(S==null?void 0:S.useProxies)=="boolean"&&this.setUseProxies(S.useProxies),typeof(S==null?void 0:S.autoFreeze)=="boolean"&&this.setAutoFreeze(S.autoFreeze)}var g=l.prototype;return g.createDraft=function(S){vl(S)||Uo(8),ml(S)&&(S=Xk(S));var A=v0(this),V=Uu(this,S,void 0);return V[Un].C=!0,Rh(A),V},g.finishDraft=function(S,A){var V=S&&S[Un],$=V.A;return m0($,A),Nr(void 0,$)},g.setAutoFreeze=function(S){this.F=S},g.setUseProxies=function(S){S&&!k0&&Uo(20),this.g=S},g.applyPatches=function(S,A){var V;for(V=A.length-1;V>=0;V--){var $=A[V];if($.path.length===0&&$.op==="replace"){S=$.value;break}}var ue=ni("Patches").$;return ml(S)?ue(S,A):this.produce(S,function(Se){return ue(Se,A.slice(V+1))})},l}(),Vn=new Qk;Vn.produce,Vn.produceWithPatches.bind(Vn),Vn.setAutoFreeze.bind(Vn),Vn.setUseProxies.bind(Vn),Vn.applyPatches.bind(Vn),Vn.createDraft.bind(Vn),Vn.finishDraft.bind(Vn);var Jk={currentProjectStateDefinitionVersion:"0.4.0"},ts=Jk;async function ex(l,g,S){await c5(0),l.transaction(({drafts:A})=>{var V;const $=g.address.projectId;A.ephemeral.coreByProject[$]={lastExportedObject:null,loadingState:{type:"loading"}},A.ahistoric.coreByProject[$]={ahistoricStuff:""};function ue(){A.ephemeral.coreByProject[$].loadingState={type:"loaded"},A.historic.coreByProject[$]={sheetsById:{},definitionVersion:ts.currentProjectStateDefinitionVersion,revisionHistory:[]}}function Se(st){A.ephemeral.coreByProject[$].loadingState={type:"loaded"},A.historic.coreByProject[$]=st}function Te(){A.ephemeral.coreByProject[$].loadingState={type:"loaded"}}function Ve(st){A.ephemeral.coreByProject[$].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:st}}const at=(V=ri(A.historic))==null?void 0:V.coreByProject[g.address.projectId];at?S&&at.revisionHistory.indexOf(S.revisionHistory[0])==-1?Ve(S):Te():S?Se(S):ue()})}function Mh(){}function rs(l){var g,S;const A=(g=l==null?void 0:l.logging)!=null&&g.internal?(S=l.logging.min)!=null?S:256:1/0,V=A<=128,$=A<=512,ue=_h(void 0,{_debug:V?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):Mh,_error:$?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):Mh});if(l){const{logger:Se,logging:Te}=l;Se&&ue.configureLogger(Se),Te?ue.configureLogging(Te):ue.configureLogging({dev:!1})}return ue.getLogger().named("Theatre")}var P0=class{constructor(l,g={},S){this.config=g,this.publicApi=S,I(this,"pointers"),I(this,"_pointerProxies"),I(this,"address"),I(this,"_studioReadyDeferred"),I(this,"_assetStorageReadyDeferred"),I(this,"_readyPromise"),I(this,"_sheetTemplates",new h0.Atom({})),I(this,"sheetTemplatesP",this._sheetTemplates.pointer),I(this,"_studio"),I(this,"assetStorage"),I(this,"type","Theatre_Project"),I(this,"_logger");var A;this._logger=rs({logging:{dev:!0}}).named("Project",l),this._logger.traceDev("creating project"),this.address={projectId:l};const V=new h0.Atom({ahistoric:{ahistoricStuff:""},historic:(A=g.state)!=null?A:{sheetsById:{},definitionVersion:ts.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=sa(),this.assetStorage={getAssetUrl:$=>{var ue;return"".concat((ue=g.assets)==null?void 0:ue.baseUrl,"/").concat($)},createAsset:()=>{throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new Th.PointerProxy(V.pointer.historic),ahistoric:new Th.PointerProxy(V.pointer.ahistoric),ephemeral:new Th.PointerProxy(V.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},Wi.add(l,this),this._studioReadyDeferred=sa(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then(()=>{}),g.state?setTimeout(()=>{this._studio||(this._studioReadyDeferred.resolve(void 0),this._assetStorageReadyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))},0):typeof window>"u"?console.error('Argument config.state in Theatre.getProject("'.concat(l,'", config) is empty. ')+"You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state"):setTimeout(()=>{if(!this._studio)throw new Error('Argument config.state in Theatre.getProject("'.concat(l,'", config) is empty. This is fine ')+"while you are using @theatre/core along with @theatre/studio. But since @theatre/studio "+'is not loaded, the state of project "'.concat(l,`" will be empty.

`)+`To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state
`)},1e3)}attachToStudio(l){if(this._studio){if(this._studio!==l)throw new Error("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));console.warn("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));return}this._studio=l,l.initialized.then(async()=>{var g;await ex(l,this,this.config.state),this._pointerProxies.historic.setPointer(l.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(l.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(l.atomP.ephemeral.coreByProject[this.address.projectId]),await l.createAssetStorage(this,(g=this.config.assets)==null?void 0:g.baseUrl).then(S=>{this.assetStorage=S,this._assetStorageReadyDeferred.resolve(void 0)}),this._studioReadyDeferred.resolve(void 0)}).catch(g=>{throw console.error(g),g})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyPromise}isReady(){return this._studioReadyDeferred.status==="resolved"&&this._assetStorageReadyDeferred.status==="resolved"}getOrCreateSheet(l,g="default"){let S=this._sheetTemplates.get()[l];return S||(S=new u5(this,l),this._sheetTemplates.reduce(A=>Ht(pt({},A),{[l]:S}))),S.getInstance(g)}},tx=class{get type(){return"Theatre_Project_PublicAPI"}constructor(l,g={}){nr(this,new P0(l,g,this))}get ready(){return ve(this).ready}get isReady(){return ve(this).isReady()}get address(){return pt({},ve(this).address)}getAssetUrl(l){if(!this.isReady){console.error("Calling `project.getAssetUrl()` before `project.ready` is resolved, will always return `undefined`. Either use `project.ready.then(() => project.getAssetUrl())` or `await project.ready` before calling `project.getAssetUrl()`.");return}return l.id?ve(this).assetStorage.getAssetUrl(l.id):void 0}sheet(l,g="default"){const S=jh(l);return ve(this).getOrCreateSheet(S,g).publicApi}};Pe(oe());var C0=rt(),Uh=rt();function I0(l,g={}){const S=Wi.get(l);if(S)return S.publicApi;const V=rs().named("Project",l);return g.state?(Hh(l,g.state),V._debug("deep validated config.state on disk")):V._debug("no config.state"),new tx(l,g)}var Vh=(l,g)=>{if(Array.isArray(g)||g==null||g.definitionVersion!==ts.currentProjectStateDefinitionVersion)throw new Cd("Error validating conf.state in Theatre.getProject(".concat(JSON.stringify(l),", conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state"))},Hh=(l,g)=>{Vh(l,g)};function Lh(l,g,S){const A=S?ve(S).ticker:Ch();if((0,C0.isPointer)(l))return(0,Uh.pointerToPrism)(l).onChange(A,g,!0);if((0,Uh.isPrism)(l))return l.onChange(A,g,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function Nd(l){if((0,C0.isPointer)(l))return(0,Uh.pointerToPrism)(l).getValue();throw new Error("Called val(p) where p is not a pointer.")}var rx=class{constructor(){I(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.7.2"}getBitsForStudio(l,g){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=l;const S={projectsP:Wi.atom.pointer.projects,privateAPI:ve,coreExports:Kt,getCoreRafDriver:pl};g(S)}};nx();function nx(){if(typeof window>"u")return;const l=window[s0];if(typeof l<"u")throw typeof l=="object"&&l&&typeof l.version=="string"?new Error(`It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(s0," seems to be already set by a module other than @theatre/core."));const g=new rx;window[s0]=g;const S=window[YI];S&&S!==null&&S.type==="Theatre_StudioBundle"&&S.registerCoreBundle(g)}/*! Bundled license information:

		lodash-es/lodash.js:
		  (**
		   * @license
		   * Lodash (Custom Build) <https://lodash.com/>
		   * Build: `lodash modularize exports="es" -o ./`
		   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
		   * Released under MIT license <https://lodash.com/license>
		   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
		   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
		   *)
		*/}(Vb,Vb.exports)),Vb.exports}var yA=Qpe();function s2(p){throw new Error('Could not dynamically require "'+p+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hb={exports:{}};Hb.exports;var FJ;function Jpe(){return FJ||(FJ=1,function(p,b){var O={},B=Object.create,U=Object.freeze,q=Object.defineProperty,ne=Object.defineProperties,me=Object.getOwnPropertyDescriptor,Ee=Object.getOwnPropertyDescriptors,qe=Object.getOwnPropertyNames,Fe=Object.getOwnPropertySymbols,Ye=Object.getPrototypeOf,wt=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,Ht=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},Zt=Math.pow,jr=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,re=(e,t)=>{for(var r in t||(t={}))wt.call(t,r)&&jr(e,r,t[r]);if(Fe)for(var r of Fe(t))pt.call(t,r)&&jr(e,r,t[r]);return e},Pe=(e,t)=>ne(e,Ee(t)),fr=(e,t)=>{var r={};for(var o in e)wt.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Fe)for(var o of Fe(e))t.indexOf(o)<0&&pt.call(e,o)&&(r[o]=e[o]);return r},I=(e,t)=>()=>(e&&(t=e(e=0)),t),vt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ho=(e,t)=>{for(var r in t)q(e,r,{get:t[r],enumerable:!0})},Bn=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of qe(t))!wt.call(e,a)&&a!==r&&q(e,a,{get:()=>t[a],enumerable:!(o=me(t,a))||o.enumerable});return e},oe=(e,t,r)=>(r=e!=null?B(Ye(e)):{},Bn(t||!e||!e.__esModule?q(r,"default",{value:e,enumerable:!0}):r,e)),Ki=e=>Bn(q({},"__esModule",{value:!0}),e),Kt=(e,t,r)=>(jr(e,typeof t!="symbol"?t+"":t,r),r),Y=(e,t)=>U(q(e,"raw",{value:U(e.slice())})),Cr=(e,t,r)=>new Promise((o,a)=>{var s=f=>{try{c(r.next(f))}catch(h){a(h)}},u=f=>{try{c(r.throw(f))}catch(h){a(h)}},c=f=>f.done?o(f.value):Promise.resolve(f.value).then(s,u);c((r=r.apply(e,t)).next())}),Ua=function(e,t){this[0]=e,this[1]=t},Wi=e=>{var t=e[Ht("asyncIterator")],r=!1,o,a={};return t==null?(t=e[Ht("iterator")](),o=s=>a[s]=u=>t[s](u)):(t=t.call(e),o=s=>a[s]=u=>{if(r){if(r=!1,s==="throw")throw u;return u}return r=!0,{done:!1,value:new Ua(new Promise(c=>{var f=t[s](u);if(!(f instanceof Object))throw TypeError("Object expected");c(f)}),1)}}),a[Ht("iterator")]=()=>a,o("next"),"throw"in t?o("throw"):a.throw=s=>{throw s},"return"in t&&o("return"),a};function Vs(e){nr=e}function ve(){return nr}var nr,ut=I(()=>{});function Cn(e,t,r=[]){if(typeof e=="object"&&e){if(un(e)||go(e)){t(e,r);return}for(let[o,a]of Object.entries(e))Cn(a,t,[...r,o])}else{if(e==null)return;t(e,r)}}var un,go,yn=I(()=>{un=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"type")&&e.type==="image"&&Object.hasOwnProperty.call(e,"id")&&typeof e.id=="string"&&e.id!=="",go=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"r")&&Object.hasOwnProperty.call(e,"g")&&Object.hasOwnProperty.call(e,"b")&&Object.hasOwnProperty.call(e,"a")&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"&&typeof e.a=="number"});function mo(e){return t=>typeof t=="object"&&!!t&&t.type===e}var qi,cn,wi,yr,$i,Hs,Bo,_i,ce=I(()=>{qi=mo("Theatre_Project"),cn=mo("Theatre_Sheet"),wi=mo("Theatre_SheetTemplate"),yr=mo("Theatre_SheetObject"),$i=mo("Theatre_Sequence"),Hs=mo("Theatre_SheetObjectTemplate"),Bo=mo("Theatre_Sheet_PublicAPI"),_i=mo("Theatre_SheetObject_PublicAPI")}),ye,Le,it=I(()=>{ye=typeof Xr=="object"&&Xr&&Xr.Object===Object&&Xr,Le=ye}),Qe,nt,dt,ct=I(()=>{it(),Qe=typeof self=="object"&&self&&self.Object===Object&&self,nt=Le||Qe||Function("return this")(),dt=nt}),ht,Ze,Ct=I(()=>{ct(),ht=dt.Symbol,Ze=ht});function bt(e){var t=Nt.call(e,Jt),r=e[Jt];try{e[Jt]=void 0;var o=!0}catch{}var a=Yt.call(e);return o&&(t?e[Jt]=r:delete e[Jt]),a}var kt,Nt,Yt,Jt,tr,bn=I(()=>{Ct(),kt=Object.prototype,Nt=kt.hasOwnProperty,Yt=kt.toString,Jt=Ze?Ze.toStringTag:void 0,tr=bt});function dn(e){return Rn.call(e)}var wn,Rn,Yr,ou=I(()=>{wn=Object.prototype,Rn=wn.toString,Yr=dn});function _n(e){return e==null?e===void 0?Ls:Nn:iu&&iu in Object(e)?tr(e):Yr(e)}var Nn,Ls,iu,Yo,Ro=I(()=>{Ct(),bn(),ou(),Nn="[object Null]",Ls="[object Undefined]",iu=Ze?Ze.toStringTag:void 0,Yo=_n});function Lc(e){return e!=null&&typeof e=="object"}var Qo,Va=I(()=>{Qo=Lc});function bm(e){return typeof e=="symbol"||Qo(e)&&Yo(e)==Wf}var Wf,Gi,Ks=I(()=>{Ro(),Va(),Wf="[object Symbol]",Gi=bm});function Zi(e,t){for(var r=-1,o=e==null?0:e.length,a=Array(o);++r<o;)a[r]=t(e[r],r,e);return a}var Ha,Kc=I(()=>{Ha=Zi}),qf,Fn,vo=I(()=>{qf=Array.isArray,Fn=qf});function $f(e){if(typeof e=="string")return e;if(Fn(e))return Ha(e,$f)+"";if(Gi(e))return ki?ki.call(e):"";var t=e+"";return t=="0"&&1/e==-Gf?"-0":t}var Gf,Wc,ki,qc,wm=I(()=>{Ct(),Kc(),vo(),Ks(),Gf=1/0,Wc=Ze?Ze.prototype:void 0,ki=Wc?Wc.toString:void 0,qc=$f});function _m(e){for(var t=e.length;t--&&xi.test(e.charAt(t)););return t}var xi,Zf,Ws=I(()=>{xi=/\s/,Zf=_m});function au(e){return e&&e.slice(0,Zf(e)+1).replace(Xf,"")}var Xf,Yf,km=I(()=>{Ws(),Xf=/^\s+/,Yf=au});function xm(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var No,Xi=I(()=>{No=xm});function Sm(e){if(typeof e=="number")return e;if(Gi(e))return $c;if(No(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=No(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Yf(e);var r=Jf.test(e);return r||Yi.test(e)?ep(e.slice(2),r?2:8):Qf.test(e)?$c:+e}var $c,Qf,Jf,Yi,ep,Jo,qs=I(()=>{km(),Xi(),Ks(),$c=NaN,Qf=/^[-+]0x[0-9a-f]+$/i,Jf=/^0b[01]+$/i,Yi=/^0o[0-7]+$/i,ep=parseInt,Jo=Sm});function Em(e){if(!e)return e===0?e:0;if(e=Jo(e),e===Si||e===-Si){var t=e<0?-1:1;return t*Gc}return e===e?e:0}var Si,Gc,su,tp=I(()=>{qs(),Si=1/0,Gc=17976931348623157e292,su=Em});function lu(e){var t=su(e),r=t%1;return t===t?r?t-r:t:0}var Qi,uu=I(()=>{tp(),Qi=lu});function cu(e){return e}var $s,du=I(()=>{$s=cu});function Pm(e){if(!No(e))return!1;var t=Yo(e);return t==np||t==Ji||t==rp||t==Zc}var rp,np,Ji,Zc,Xc,fu=I(()=>{Ro(),Xi(),rp="[object AsyncFunction]",np="[object Function]",Ji="[object GeneratorFunction]",Zc="[object Proxy]",Xc=Pm}),op,ei,pu=I(()=>{ct(),op=dt["__core-js_shared__"],ei=op});function Cm(e){return!!ea&&ea in e}var ea,ip,Im=I(()=>{pu(),ea=function(){var e=/[^.]+$/.exec(ei&&ei.keys&&ei.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ip=Cm});function Om(e){if(e!=null){try{return sp.call(e)}catch{}try{return e+""}catch{}}return""}var ap,sp,eo,Yc=I(()=>{ap=Function.prototype,sp=ap.toString,eo=Om});function lp(e){if(!No(e)||ip(e))return!1;var t=Xc(e)?ta:cp;return t.test(eo(e))}var up,cp,dp,fp,pp,hp,ta,Gs,jm=I(()=>{fu(),Im(),Xi(),Yc(),up=/[\\^$.*+?()[\]{}|]/g,cp=/^\[object .+?Constructor\]$/,dp=Function.prototype,fp=Object.prototype,pp=dp.toString,hp=fp.hasOwnProperty,ta=RegExp("^"+pp.call(hp).replace(up,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gs=lp});function Qc(e,t){return e==null?void 0:e[t]}var gp,Tm=I(()=>{gp=Qc});function Am(e,t){var r=gp(e,t);return Gs(r)?r:void 0}var Ei,ra=I(()=>{jm(),Tm(),Ei=Am}),mp,hu,Dm=I(()=>{ra(),ct(),mp=Ei(dt,"WeakMap"),hu=mp});function vp(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var yp,bp=I(()=>{yp=vp});function wp(){}var Jc,_p=I(()=>{Jc=wp});function zm(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}var Zs,kp=I(()=>{Zs=zm});function Xs(e){var t=0,r=0;return function(){var o=La(),a=Fo-(o-r);if(r=o,a>0){if(++t>=xp)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var xp,Fo,La,Ys,ed=I(()=>{xp=800,Fo=16,La=Date.now,Ys=Xs});function na(e){return function(){return e}}var td,Ka=I(()=>{td=na}),Qr,Pi,gu=I(()=>{ra(),Qr=function(){try{var e=Ei(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Pi=Qr}),Sp,Ci,Qs=I(()=>{Ka(),gu(),du(),Sp=Pi?function(e,t){return Pi(e,"toString",{configurable:!0,enumerable:!1,value:td(t),writable:!0})}:$s,Ci=Sp}),Ep,Pp,rd=I(()=>{Qs(),ed(),Ep=Ys(Ci),Pp=Ep});function Bm(e,t,r,o){for(var a=e.length,s=r+(o?1:-1);o?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var Js,nd=I(()=>{Js=Bm});function od(e){return e!==e}var Cp,Ip=I(()=>{Cp=od});function Op(e,t,r){for(var o=r-1,a=e.length;++o<a;)if(e[o]===t)return o;return-1}var el,fn=I(()=>{el=Op});function Rm(e,t,r){return t===t?el(e,t,r):Js(e,Cp,r)}var tl,id=I(()=>{nd(),Ip(),fn(),tl=Rm});function jp(e,t){var r=e==null?0:e.length;return!!r&&tl(e,t,0)>-1}var In,Nm=I(()=>{id(),In=jp});function Fm(e,t){var r=typeof e;return t=t??Tp,!!t&&(r=="number"||r!="symbol"&&ad.test(e))&&e>-1&&e%1==0&&e<t}var Tp,ad,rl,Lr=I(()=>{Tp=9007199254740991,ad=/^(?:0|[1-9]\d*)$/,rl=Fm});function nl(e,t,r){t=="__proto__"&&Pi?Pi(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Ii,oa=I(()=>{gu(),Ii=nl});function Ap(e,t){return e===t||e!==e&&t!==t}var or,Wa=I(()=>{or=Ap});function Mm(e,t,r){var o=e[t];(!(ld.call(e,t)&&or(o,r))||r===void 0&&!(t in e))&&Ii(e,t,r)}var sd,ld,ud,Um=I(()=>{oa(),Wa(),sd=Object.prototype,ld=sd.hasOwnProperty,ud=Mm});function mu(e,t,r){return t=ol(t===void 0?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=ol(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=r(u),yp(e,this,c)}}var ol,Dp,Vm=I(()=>{bp(),ol=Math.max,Dp=mu});function zp(e,t){return Pp(Dp(e,t,$s),e+"")}var cd,Bp=I(()=>{du(),Vm(),rd(),cd=zp});function N(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Q}var Q,he,Ue=I(()=>{Q=9007199254740991,he=N});function Ft(e){return e!=null&&he(e.length)&&!Xc(e)}var er,Jr=I(()=>{fu(),Ue(),er=Ft});function Mo(e,t,r){if(!No(r))return!1;var o=typeof t;return(o=="number"?er(r)&&rl(t,r.length):o=="string"&&t in r)?or(r[t],e):!1}var vu,qa=I(()=>{Wa(),Jr(),Lr(),Xi(),vu=Mo});function il(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Hm;return e===r}var Hm,o1,E2=I(()=>{Hm=Object.prototype,o1=il});function P2(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var i1,C2=I(()=>{i1=P2});function I2(e){return Qo(e)&&Yo(e)==a1}var a1,yu,O2=I(()=>{Ro(),Va(),a1="[object Arguments]",yu=I2}),Lm,Rp,s1,Km,Np,Wm=I(()=>{O2(),Va(),Lm=Object.prototype,Rp=Lm.hasOwnProperty,s1=Lm.propertyIsEnumerable,Km=yu(function(){return arguments}())?yu:function(e){return Qo(e)&&Rp.call(e,"callee")&&!s1.call(e,"callee")},Np=Km});function qm(){return!1}var l1,j2=I(()=>{l1=qm}),$m,Gm,Zm,Fp,u1,c1,Mp,Xm=I(()=>{ct(),j2(),$m=b&&!b.nodeType&&b,Gm=$m&&!0&&p&&!p.nodeType&&p,Zm=Gm&&Gm.exports===$m,Fp=Zm?dt.Buffer:void 0,u1=Fp?Fp.isBuffer:void 0,c1=u1||l1,Mp=c1});function T2(e){return Qo(e)&&he(e.length)&&!!xr[Yo(e)]}var d1,Ym,Qm,f1,Jm,p1,h1,dd,g1,m1,v1,y1,b1,w1,_1,k1,x1,S1,E1,P1,C1,I1,O1,j1,xr,T1,A2=I(()=>{Ro(),Ue(),Va(),d1="[object Arguments]",Ym="[object Array]",Qm="[object Boolean]",f1="[object Date]",Jm="[object Error]",p1="[object Function]",h1="[object Map]",dd="[object Number]",g1="[object Object]",m1="[object RegExp]",v1="[object Set]",y1="[object String]",b1="[object WeakMap]",w1="[object ArrayBuffer]",_1="[object DataView]",k1="[object Float32Array]",x1="[object Float64Array]",S1="[object Int8Array]",E1="[object Int16Array]",P1="[object Int32Array]",C1="[object Uint8Array]",I1="[object Uint8ClampedArray]",O1="[object Uint16Array]",j1="[object Uint32Array]",xr={},xr[k1]=xr[x1]=xr[S1]=xr[E1]=xr[P1]=xr[C1]=xr[I1]=xr[O1]=xr[j1]=!0,xr[d1]=xr[Ym]=xr[w1]=xr[Qm]=xr[_1]=xr[f1]=xr[Jm]=xr[p1]=xr[h1]=xr[dd]=xr[g1]=xr[m1]=xr[v1]=xr[y1]=xr[b1]=!1,T1=T2});function D2(e){return function(t){return e(t)}}var Up,ev=I(()=>{Up=D2}),tv,bu,Sr,Vp,A1,rv,nv=I(()=>{it(),tv=b&&!b.nodeType&&b,bu=tv&&!0&&p&&!p.nodeType&&p,Sr=bu&&bu.exports===tv,Vp=Sr&&Le.process,A1=function(){try{var e=bu&&bu.require&&bu.require("util").types;return e||Vp&&Vp.binding&&Vp.binding("util")}catch{}}(),rv=A1}),Hp,wu,ov,Lp=I(()=>{A2(),ev(),nv(),Hp=rv&&rv.isTypedArray,wu=Hp?Up(Hp):T1,ov=wu});function z2(e,t){var r=Fn(e),o=!r&&Np(e),a=!r&&!o&&Mp(e),s=!r&&!o&&!a&&ov(e),u=r||o||a||s,c=u?i1(e.length,String):[],f=c.length;for(var h in e)(t||iv.call(e,h))&&!(u&&(h=="length"||a&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||rl(h,f)))&&c.push(h);return c}var al,iv,D1,z1=I(()=>{C2(),Wm(),vo(),Xm(),Lr(),Lp(),al=Object.prototype,iv=al.hasOwnProperty,D1=z2});function B2(e,t){return function(r){return e(t(r))}}var av,B1=I(()=>{av=B2}),sv,R1,N1=I(()=>{B1(),sv=av(Object.keys,Object),R1=sv});function R2(e){if(!o1(e))return R1(e);var t=[];for(var r in Object(e))M1.call(e,r)&&r!="constructor"&&t.push(r);return t}var F1,M1,U1,N2=I(()=>{E2(),N1(),F1=Object.prototype,M1=F1.hasOwnProperty,U1=R2});function F2(e){return er(e)?D1(e):U1(e)}var Kp,sl=I(()=>{z1(),N2(),Jr(),Kp=F2});function M2(e,t){if(Fn(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Gi(e)?!0:H1.test(e)||!V1.test(e)||t!=null&&e in Object(t)}var V1,H1,Wp,lv=I(()=>{vo(),Ks(),V1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H1=/^\w*$/,Wp=M2}),L1,_u,ku=I(()=>{ra(),L1=Ei(Object,"create"),_u=L1});function U2(){this.__data__=_u?_u(null):{},this.size=0}var uv,V2=I(()=>{ku(),uv=U2});function cv(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var K1,H2=I(()=>{K1=cv});function L2(e){var t=this.__data__;if(_u){var r=t[e];return r===dv?void 0:r}return q1.call(t,e)?t[e]:void 0}var dv,W1,q1,$1,K2=I(()=>{ku(),dv="__lodash_hash_undefined__",W1=Object.prototype,q1=W1.hasOwnProperty,$1=L2});function W2(e){var t=this.__data__;return _u?t[e]!==void 0:G1.call(t,e)}var fv,G1,Z1,q2=I(()=>{ku(),fv=Object.prototype,G1=fv.hasOwnProperty,Z1=W2});function $2(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_u&&t===void 0?X1:t,this}var X1,Y1,G2=I(()=>{ku(),X1="__lodash_hash_undefined__",Y1=$2});function xu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}var pv,Z2=I(()=>{V2(),H2(),K2(),q2(),G2(),xu.prototype.clear=uv,xu.prototype.delete=K1,xu.prototype.get=$1,xu.prototype.has=Z1,xu.prototype.set=Y1,pv=xu});function X2(){this.__data__=[],this.size=0}var qp,Y2=I(()=>{qp=X2});function Q2(e,t){for(var r=e.length;r--;)if(or(e[r][0],t))return r;return-1}var Su,$p=I(()=>{Wa(),Su=Q2});function J2(e){var t=this.__data__,r=Su(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():J1.call(t,r,1),--this.size,!0}var Q1,J1,ew,eC=I(()=>{$p(),Q1=Array.prototype,J1=Q1.splice,ew=J2});function hv(e){var t=this.__data__,r=Su(t,e);return r<0?void 0:t[r][1]}var Gp,tC=I(()=>{$p(),Gp=hv});function tw(e){return Su(this.__data__,e)>-1}var gv,rw=I(()=>{$p(),gv=tw});function rC(e,t){var r=this.__data__,o=Su(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}var mv,nw=I(()=>{$p(),mv=rC});function Eu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}var fd,Zp=I(()=>{Y2(),eC(),tC(),rw(),nw(),Eu.prototype.clear=qp,Eu.prototype.delete=ew,Eu.prototype.get=Gp,Eu.prototype.has=gv,Eu.prototype.set=mv,fd=Eu}),ow,Pu,vv=I(()=>{ra(),ct(),ow=Ei(dt,"Map"),Pu=ow});function nC(){this.size=0,this.__data__={hash:new pv,map:new(Pu||fd),string:new pv}}var iw,oC=I(()=>{Z2(),Zp(),vv(),iw=nC});function iC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var aw,sw=I(()=>{aw=iC});function aC(e,t){var r=e.__data__;return aw(t)?r[typeof t=="string"?"string":"hash"]:r.map}var pd,Xp=I(()=>{sw(),pd=aC});function sC(e){var t=pd(this,e).delete(e);return this.size-=t?1:0,t}var lw,lC=I(()=>{Xp(),lw=sC});function uC(e){return pd(this,e).get(e)}var uw,cC=I(()=>{Xp(),uw=uC});function dC(e){return pd(this,e).has(e)}var cw,Cu=I(()=>{Xp(),cw=dC});function hd(e,t){var r=pd(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}var dw,fC=I(()=>{Xp(),dw=hd});function Iu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}var gd,Yp=I(()=>{oC(),lC(),cC(),Cu(),fC(),Iu.prototype.clear=iw,Iu.prototype.delete=lw,Iu.prototype.get=uw,Iu.prototype.has=cw,Iu.prototype.set=dw,gd=Iu});function Qp(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fw);var r=function(){var o=arguments,a=t?t.apply(this,o):o[0],s=r.cache;if(s.has(a))return s.get(a);var u=e.apply(this,o);return r.cache=s.set(a,u)||s,u};return r.cache=new(Qp.Cache||gd),r}var fw,Jp,yv=I(()=>{Yp(),fw="Expected a function",Qp.Cache=gd,Jp=Qp});function pC(e){var t=Jp(e,function(o){return r.size===pw&&r.clear(),o}),r=t.cache;return t}var pw,hw,hC=I(()=>{yv(),pw=500,hw=pC}),gw,bv,mw,vw,yw=I(()=>{hC(),gw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bv=/\\(\\)?/g,mw=hw(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gw,function(r,o,a,s){t.push(a?s.replace(bv,"$1"):o||r)}),t}),vw=mw});function gC(e){return e==null?"":qc(e)}var Ou,bw=I(()=>{wm(),Ou=gC});function mC(e,t){return Fn(e)?e:Wp(e,t)?[e]:vw(Ou(e))}var eh,wv=I(()=>{vo(),lv(),yw(),bw(),eh=mC});function ww(e){if(typeof e=="string"||Gi(e))return e;var t=e+"";return t=="0"&&1/e==-_w?"-0":t}var _w,ju,md=I(()=>{Ks(),_w=1/0,ju=ww});function kw(e,t){t=eh(t,e);for(var r=0,o=t.length;e!=null&&r<o;)e=e[ju(t[r++])];return r&&r==o?e:void 0}var th,vd=I(()=>{wv(),md(),th=kw});function vC(e,t,r){var o=e==null?void 0:th(e,t);return o===void 0?r:o}var ll,yd=I(()=>{vd(),ll=vC});function _v(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}var kv,rh=I(()=>{kv=_v});function yC(e){return Fn(e)||Np(e)||!!(bd&&e&&e[bd])}var bd,xv,bC=I(()=>{Ct(),Wm(),vo(),bd=Ze?Ze.isConcatSpreadable:void 0,xv=yC});function Sv(e,t,r,o,a){var s=-1,u=e.length;for(r||(r=xv),a||(a=[]);++s<u;){var c=e[s];t>0&&r(c)?t>1?Sv(c,t-1,r,o,a):kv(a,c):o||(a[a.length]=c)}return a}var Ev,xw=I(()=>{rh(),bC(),Ev=Sv}),Pv,Sw,wC=I(()=>{B1(),Pv=av(Object.getPrototypeOf,Object),Sw=Pv});function _C(e){if(!Qo(e)||Yo(e)!=Ew)return!1;var t=Sw(e);if(t===null)return!0;var r=Cw.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ul.call(r)==Iw}var Ew,Pw,$a,ul,Cw,Iw,nh,Ow=I(()=>{Ro(),wC(),Va(),Ew="[object Object]",Pw=Function.prototype,$a=Object.prototype,ul=Pw.toString,Cw=$a.hasOwnProperty,Iw=ul.call(Object),nh=_C});function kC(e){var t=Math[e];return function(r,o){if(r=Jo(r),o=o==null?0:jw(Qi(o),292),o&&wd(r)){var a=(Ou(r)+"e").split("e"),s=t(a[0]+"e"+(+a[1]+o));return a=(Ou(s)+"e").split("e"),+(a[0]+"e"+(+a[1]-o))}return t(r)}}var wd,jw,oh,xC=I(()=>{ct(),uu(),qs(),bw(),wd=dt.isFinite,jw=Math.min,oh=kC});function SC(e,t,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),t!==void 0&&(e=e>=t?e:t)),e}var Tw,EC=I(()=>{Tw=SC});function PC(e,t,r){return r===void 0&&(r=t,t=void 0),r!==void 0&&(r=Jo(r),r=r===r?r:0),t!==void 0&&(t=Jo(t),t=t===t?t:0),Tw(Jo(e),t,r)}var Ir,_d=I(()=>{EC(),qs(),Ir=PC});function CC(){this.__data__=new fd,this.size=0}var Aw,IC=I(()=>{Zp(),Aw=CC});function OC(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Dw,jC=I(()=>{Dw=OC});function TC(e){return this.__data__.get(e)}var zw,AC=I(()=>{zw=TC});function DC(e){return this.__data__.has(e)}var Bw,zC=I(()=>{Bw=DC});function BC(e,t){var r=this.__data__;if(r instanceof fd){var o=r.__data__;if(!Pu||o.length<Rw-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new gd(o)}return r.set(e,t),this.size=r.size,this}var Rw,Nw,RC=I(()=>{Zp(),vv(),Yp(),Rw=200,Nw=BC});function Tu(e){var t=this.__data__=new fd(e);this.size=t.size}var kd,Fw=I(()=>{Zp(),IC(),jC(),AC(),zC(),RC(),Tu.prototype.clear=Aw,Tu.prototype.delete=Dw,Tu.prototype.get=zw,Tu.prototype.has=Bw,Tu.prototype.set=Nw,kd=Tu});function NC(e,t){for(var r=-1,o=e==null?0:e.length,a=0,s=[];++r<o;){var u=e[r];t(u,r,e)&&(s[a++]=u)}return s}var Mw,FC=I(()=>{Mw=NC});function MC(){return[]}var Uw,UC=I(()=>{Uw=MC}),Vw,Hw,Cv,Lw,Kw,Ww=I(()=>{FC(),UC(),Vw=Object.prototype,Hw=Vw.propertyIsEnumerable,Cv=Object.getOwnPropertySymbols,Lw=Cv?function(e){return e==null?[]:(e=Object(e),Mw(Cv(e),function(t){return Hw.call(e,t)}))}:Uw,Kw=Lw});function VC(e,t,r){var o=t(e);return Fn(e)?o:kv(o,r(e))}var qw,HC=I(()=>{rh(),vo(),qw=VC});function LC(e){return qw(e,Kp,Kw)}var Iv,$w=I(()=>{HC(),Ww(),sl(),Iv=LC}),Gw,ih,KC=I(()=>{ra(),ct(),Gw=Ei(dt,"DataView"),ih=Gw}),Zw,ah,Xw=I(()=>{ra(),ct(),Zw=Ei(dt,"Promise"),ah=Zw}),Yw,cl,Qw=I(()=>{ra(),ct(),Yw=Ei(dt,"Set"),cl=Yw}),Ov,jv,Tv,Av,Dv,sh,Jw,e_,t_,r_,n_,Ga,zv,WC=I(()=>{KC(),vv(),Xw(),Qw(),Dm(),Ro(),Yc(),Ov="[object Map]",jv="[object Object]",Tv="[object Promise]",Av="[object Set]",Dv="[object WeakMap]",sh="[object DataView]",Jw=eo(ih),e_=eo(Pu),t_=eo(ah),r_=eo(cl),n_=eo(hu),Ga=Yo,(ih&&Ga(new ih(new ArrayBuffer(1)))!=sh||Pu&&Ga(new Pu)!=Ov||ah&&Ga(ah.resolve())!=Tv||cl&&Ga(new cl)!=Av||hu&&Ga(new hu)!=Dv)&&(Ga=function(e){var t=Yo(e),r=t==jv?e.constructor:void 0,o=r?eo(r):"";if(o)switch(o){case Jw:return sh;case e_:return Ov;case t_:return Tv;case r_:return Av;case n_:return Dv}return t}),zv=Ga}),o_,Bv,qC=I(()=>{ct(),o_=dt.Uint8Array,Bv=o_});function $C(e){return this.__data__.set(e,i_),this}var i_,a_,GC=I(()=>{i_="__lodash_hash_undefined__",a_=$C});function ZC(e){return this.__data__.has(e)}var br,lh=I(()=>{br=ZC});function uh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new gd;++t<r;)this.add(e[t])}var Rv,s_=I(()=>{Yp(),GC(),lh(),uh.prototype.add=uh.prototype.push=a_,uh.prototype.has=br,Rv=uh});function XC(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}var l_,YC=I(()=>{l_=XC});function QC(e,t){return e.has(t)}var Nv,u_=I(()=>{Nv=QC});function JC(e,t,r,o,a,s){var u=r&xd,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var h=s.get(e),y=s.get(t);if(h&&y)return h==t&&y==e;var _=-1,w=!0,v=r&c_?new Rv:void 0;for(s.set(e,t),s.set(t,e);++_<c;){var x=e[_],k=t[_];if(o)var E=u?o(k,x,_,t,e,s):o(x,k,_,e,t,s);if(E!==void 0){if(E)continue;w=!1;break}if(v){if(!l_(t,function(C,j){if(!Nv(v,j)&&(x===C||a(x,C,r,o,s)))return v.push(j)})){w=!1;break}}else if(!(x===k||a(x,k,r,o,s))){w=!1;break}}return s.delete(e),s.delete(t),w}var xd,c_,Fv,d_=I(()=>{s_(),YC(),u_(),xd=1,c_=2,Fv=JC});function eI(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}var f_,tI=I(()=>{f_=eI});function rI(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var ch,dh=I(()=>{ch=rI});function nI(e,t,r,o,a,s,u){switch(r){case E_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S_:return!(e.byteLength!=t.byteLength||!s(new Bv(e),new Bv(t)));case g_:case m_:case b_:return or(+e,+t);case v_:return e.name==t.name&&e.message==t.message;case w_:case k_:return e==t+"";case y_:var c=f_;case __:var f=o&p_;if(c||(c=ch),e.size!=t.size&&!f)return!1;var h=u.get(e);if(h)return h==t;o|=h_,u.set(e,t);var y=Fv(c(e),c(t),o,a,s,u);return u.delete(e),y;case x_:if(fh)return fh.call(e)==fh.call(t)}return!1}var p_,h_,g_,m_,v_,y_,b_,w_,__,k_,x_,S_,E_,Mv,fh,P_,C_=I(()=>{Ct(),qC(),Wa(),d_(),tI(),dh(),p_=1,h_=2,g_="[object Boolean]",m_="[object Date]",v_="[object Error]",y_="[object Map]",b_="[object Number]",w_="[object RegExp]",__="[object Set]",k_="[object String]",x_="[object Symbol]",S_="[object ArrayBuffer]",E_="[object DataView]",Mv=Ze?Ze.prototype:void 0,fh=Mv?Mv.valueOf:void 0,P_=nI});function Uv(e,t,r,o,a,s){var u=r&I_,c=Iv(e),f=c.length,h=Iv(t),y=h.length;if(f!=y&&!u)return!1;for(var _=f;_--;){var w=c[_];if(!(u?w in t:j_.call(t,w)))return!1}var v=s.get(e),x=s.get(t);if(v&&x)return v==t&&x==e;var k=!0;s.set(e,t),s.set(t,e);for(var E=u;++_<f;){w=c[_];var C=e[w],j=t[w];if(o)var D=u?o(j,C,w,t,e,s):o(C,j,w,e,t,s);if(!(D===void 0?C===j||a(C,j,r,o,s):D)){k=!1;break}E||(E=w=="constructor")}if(k&&!E){var M=e.constructor,F=t.constructor;M!=F&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof F=="function"&&F instanceof F)&&(k=!1)}return s.delete(e),s.delete(t),k}var I_,O_,j_,T_,oI=I(()=>{$w(),I_=1,O_=Object.prototype,j_=O_.hasOwnProperty,T_=Uv});function iI(e,t,r,o,a,s){var u=Fn(e),c=Fn(t),f=u?ph:zv(e),h=c?ph:zv(t);f=f==Vv?Au:f,h=h==Vv?Au:h;var y=f==Au,_=h==Au,w=f==h;if(w&&Mp(e)){if(!Mp(t))return!1;u=!0,y=!1}if(w&&!y)return s||(s=new kd),u||ov(e)?Fv(e,t,r,o,a,s):P_(e,t,f,r,o,a,s);if(!(r&A_)){var v=y&&Hv.call(e,"__wrapped__"),x=_&&Hv.call(t,"__wrapped__");if(v||x){var k=v?e.value():e,E=x?t.value():t;return s||(s=new kd),a(k,E,r,o,s)}}return w?(s||(s=new kd),T_(e,t,r,o,a,s)):!1}var A_,Vv,ph,Au,Sd,Hv,Lv,aI=I(()=>{Fw(),d_(),C_(),oI(),WC(),vo(),Xm(),Lp(),A_=1,Vv="[object Arguments]",ph="[object Array]",Au="[object Object]",Sd=Object.prototype,Hv=Sd.hasOwnProperty,Lv=iI});function D_(e,t,r,o,a){return e===t?!0:e==null||t==null||!Qo(e)&&!Qo(t)?e!==e&&t!==t:Lv(e,t,r,o,D_,a)}var hh,Kv=I(()=>{aI(),Va(),hh=D_});function sI(e,t,r,o){var a=r.length,s=a,u=!o;if(e==null)return!s;for(e=Object(e);a--;){var c=r[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){c=r[a];var f=c[0],h=e[f],y=c[1];if(u&&c[2]){if(h===void 0&&!(f in e))return!1}else{var _=new kd;if(o)var w=o(h,y,f,e,t,_);if(!(w===void 0?hh(y,h,z_|B_,o,_):w))return!1}}return!0}var z_,B_,R_,lI=I(()=>{Fw(),Kv(),z_=1,B_=2,R_=sI});function N_(e){return e===e&&!No(e)}var Wv,F_=I(()=>{Xi(),Wv=N_});function uI(e){for(var t=Kp(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,Wv(a)]}return t}var qv,cI=I(()=>{F_(),sl(),qv=uI});function dI(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var $v,M_=I(()=>{$v=dI});function fI(e){var t=qv(e);return t.length==1&&t[0][2]?$v(t[0][0],t[0][1]):function(r){return r===e||R_(r,e,t)}}var U_,pI=I(()=>{lI(),cI(),M_(),U_=fI});function hI(e,t){return e!=null&&t in Object(e)}var V_,gI=I(()=>{V_=hI});function mI(e,t,r){t=eh(t,e);for(var o=-1,a=t.length,s=!1;++o<a;){var u=ju(t[o]);if(!(s=e!=null&&r(e,u)))break;e=e[u]}return s||++o!=a?s:(a=e==null?0:e.length,!!a&&he(a)&&rl(u,a)&&(Fn(e)||Np(e)))}var H_,vI=I(()=>{wv(),Wm(),vo(),Lr(),Ue(),md(),H_=mI});function L_(e,t){return e!=null&&H_(e,t,V_)}var K_,yI=I(()=>{gI(),vI(),K_=L_});function bI(e,t){return Wp(e)&&Wv(t)?$v(ju(e),t):function(r){var o=ll(r,e);return o===void 0&&o===t?K_(r,e):hh(t,o,W_|q_)}}var W_,q_,$_,wI=I(()=>{Kv(),yd(),yI(),lv(),F_(),M_(),md(),W_=1,q_=2,$_=bI});function _I(e){return function(t){return t==null?void 0:t[e]}}var G_,kI=I(()=>{G_=_I});function xI(e){return function(t){return th(t,e)}}var Z_,SI=I(()=>{vd(),Z_=xI});function Gv(e){return Wp(e)?G_(ju(e)):Z_(e)}var X_,EI=I(()=>{kI(),SI(),lv(),md(),X_=Gv});function PI(e){return typeof e=="function"?e:e==null?$s:typeof e=="object"?Fn(e)?$_(e[0],e[1]):U_(e):X_(e)}var Du,Ed=I(()=>{pI(),wI(),du(),vo(),EI(),Du=PI});function CI(e,t,r,o){for(var a=-1,s=e==null?0:e.length;++a<s;){var u=e[a];t(o,u,r(u),e)}return o}var Y_,II=I(()=>{Y_=CI});function OI(e){return function(t,r,o){for(var a=-1,s=Object(t),u=o(t),c=u.length;c--;){var f=u[e?c:++a];if(r(s[f],f,s)===!1)break}return t}}var Q_,jI=I(()=>{Q_=OI}),J_,ek,TI=I(()=>{jI(),J_=Q_(),ek=J_});function AI(e,t){return e&&ek(e,t,Kp)}var Zv,tk=I(()=>{TI(),sl(),Zv=AI});function DI(e,t){return function(r,o){if(r==null)return r;if(!er(r))return e(r,o);for(var a=r.length,s=t?a:-1,u=Object(r);(t?s--:++s<a)&&o(u[s],s,u)!==!1;);return r}}var Xv,zI=I(()=>{Jr(),Xv=DI}),rk,gh,nk=I(()=>{tk(),zI(),rk=Xv(Zv),gh=rk});function BI(e,t,r,o){return gh(e,function(a,s,u){t(o,a,r(a),u)}),o}var ok,RI=I(()=>{nk(),ok=BI});function NI(e,t){return function(r,o){var a=Fn(r)?Y_:ok,s=t?t():{};return a(r,e,Du(o,2),s)}}var ik,Yv=I(()=>{II(),RI(),Ed(),vo(),ik=NI}),mh,vh,ak=I(()=>{ct(),mh=function(){return dt.Date.now()},vh=mh});function sk(e,t,r){var o,a,s,u,c,f,h=0,y=!1,_=!1,w=!0;if(typeof e!="function")throw new TypeError(Qv);t=Jo(t)||0,No(r)&&(y=!!r.leading,_="maxWait"in r,s=_?lk(Jo(r.maxWait)||0,t):s,w="trailing"in r?!!r.trailing:w);function v(L){var te=o,se=a;return o=a=void 0,h=L,u=e.apply(se,te),u}function x(L){return h=L,c=setTimeout(C,t),y?v(L):u}function k(L){var te=L-f,se=L-h,Z=t-te;return _?Jv(Z,s-se):Z}function E(L){var te=L-f,se=L-h;return f===void 0||te>=t||te<0||_&&se>=s}function C(){var L=vh();if(E(L))return j(L);c=setTimeout(C,k(L))}function j(L){return c=void 0,w&&o?v(L):(o=a=void 0,u)}function D(){c!==void 0&&clearTimeout(c),h=0,o=f=a=c=void 0}function M(){return c===void 0?u:j(vh())}function F(){var L=vh(),te=E(L);if(o=arguments,a=this,f=L,te){if(c===void 0)return x(f);if(_)return clearTimeout(c),c=setTimeout(C,t),v(f)}return c===void 0&&(c=setTimeout(C,t)),u}return F.cancel=D,F.flush=M,F}var Qv,lk,Jv,yh,uk=I(()=>{Xi(),ak(),qs(),Qv="Expected a function",lk=Math.max,Jv=Math.min,yh=sk});function FI(e,t,r){for(var o=-1,a=e==null?0:e.length;++o<a;)if(r(t,e[o]))return!0;return!1}var ck,dk=I(()=>{ck=FI});function MI(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dl,bh=I(()=>{dl=MI});function fk(e,t,r){var o=e==null?0:e.length;if(!o)return-1;var a=r==null?0:Qi(r);return a<0&&(a=pk(o+a,0)),Js(e,Du(t,3),a)}var pk,e0,UI=I(()=>{nd(),Ed(),uu(),pk=Math.max,e0=fk});function VI(e,t,r){var o=e==null?0:e.length;if(!o)return-1;var a=o-1;return r!==void 0&&(a=Qi(r),a=r<0?zu(o+a,0):hk(a,o-1)),Js(e,Du(t,3),a,!0)}var zu,hk,t0,HI=I(()=>{nd(),Ed(),uu(),zu=Math.max,hk=Math.min,t0=VI});function LI(e,t){var r=-1,o=er(e)?Array(e.length):[];return gh(e,function(a,s,u){o[++r]=t(a,s,u)}),o}var gk,wh=I(()=>{nk(),Jr(),gk=LI});function r0(e,t,r){return e>=vk(t,r)&&e<mk(t,r)}var mk,vk,wr,yo=I(()=>{mk=Math.max,vk=Math.min,wr=r0});function bo(e,t,r){return t=su(t),r===void 0?(r=t,t=0):r=su(r),e=Jo(e),wr(e,t,r)}var ia,Er=I(()=>{yo(),tp(),qs(),ia=bo});function aa(e){return typeof e=="number"&&e==Qi(e)}var _h,yk=I(()=>{uu(),_h=aa}),bk,Pd,KI=I(()=>{oa(),Yv(),bk=ik(function(e,t,r){Ii(e,r,t)}),Pd=bk});function WI(e,t){var r={};return t=Du(t,3),Zv(e,function(o,a,s){Ii(r,a,t(o,a,s))}),r}var Za,n0=I(()=>{oa(),tk(),Ed(),Za=WI});function kh(e,t,r,o){if(!No(e))return e;t=eh(t,e);for(var a=-1,s=t.length,u=s-1,c=e;c!=null&&++a<s;){var f=ju(t[a]),h=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(a!=u){var y=c[f];h=o?o(y,f,c):void 0,h===void 0&&(h=No(y)?y:rl(t[a+1])?[]:{})}ud(c,f,h),c=c[f]}return e}var o0,qI=I(()=>{Um(),wv(),Lr(),Xi(),md(),o0=kh});function wk(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var i0,_k=I(()=>{i0=wk});function $I(e,t){if(e!==t){var r=e!==void 0,o=e===null,a=e===e,s=Gi(e),u=t!==void 0,c=t===null,f=t===t,h=Gi(t);if(!c&&!h&&!s&&e>t||s&&u&&f&&!c&&!h||o&&u&&f||!r&&f||!a)return 1;if(!o&&!s&&!h&&e<t||h&&r&&a&&!o&&!s||c&&r&&a||!u&&a||!f)return-1}return 0}var kk,xk=I(()=>{Ks(),kk=$I});function GI(e,t,r){for(var o=-1,a=e.criteria,s=t.criteria,u=a.length,c=r.length;++o<u;){var f=kk(a[o],s[o]);if(f){if(o>=c)return f;var h=r[o];return f*(h=="desc"?-1:1)}}return e.index-t.index}var Sk,Cd=I(()=>{xk(),Sk=GI});function Ek(e,t,r){t.length?t=Ha(t,function(s){return Fn(s)?function(u){return th(u,s.length===1?s[0]:s)}:s}):t=[$s];var o=-1;t=Ha(t,Up(Du));var a=gk(e,function(s,u,c){var f=Ha(t,function(h){return h(s)});return{criteria:f,index:++o,value:s}});return i0(a,function(s,u){return Sk(s,u,r)})}var Pk,ZI=I(()=>{Kc(),vd(),Ed(),wh(),_k(),ev(),Cd(),du(),vo(),Pk=Ek});function pn(e,t,r,o){for(var a=r-1,s=e.length;++a<s;)if(o(e[a],t))return a;return-1}var sa,XI=I(()=>{sa=pn});function xh(e,t,r,o){var a=o?sa:tl,s=-1,u=t.length,c=e;for(e===t&&(t=Zs(t)),r&&(c=Ha(e,Up(r)));++s<u;)for(var f=0,h=t[s],y=r?r(h):h;(f=a(c,y,f,o))>-1;)c!==e&&a0.call(c,f,1),a0.call(e,f,1);return e}var Ck,a0,Ik,YI=I(()=>{Kc(),id(),XI(),ev(),kp(),Ck=Array.prototype,a0=Ck.splice,Ik=xh});function s0(e,t){return e&&e.length&&t&&t.length?Ik(e,t):e}var Ok,Sh=I(()=>{YI(),Ok=s0}),fl,jk,QI=I(()=>{Bp(),Sh(),fl=cd(Ok),jk=fl}),l0,Eh,JI=I(()=>{xC(),l0=oh("round"),Eh=l0});function Ph(e,t,r){return e==null?e:o0(e,t,r)}var pl,Ch=I(()=>{qI(),pl=Ph}),Tk,Ak,e5=I(()=>{xw(),ZI(),Bp(),qa(),Tk=cd(function(e,t){if(e==null)return[];var r=t.length;return r>1&&vu(e,t[0],t[1])?t=[]:r>2&&vu(t[0],t[1],t[2])&&(t=[t[0]]),Pk(e,Ev(t,1),[])}),Ak=Tk}),Dk,zk,Bk,t5=I(()=>{Qw(),_p(),dh(),Dk=1/0,zk=cl&&1/ch(new cl([,-0]))[1]==Dk?function(e){return new cl(e)}:Jc,Bk=zk});function hl(e,t,r){var o=-1,a=In,s=e.length,u=!0,c=[],f=c;if(r)u=!1,a=ck;else if(s>=Xa){var h=t?null:Bk(e);if(h)return ch(h);u=!1,a=Nv,f=new Rv}else f=t?[]:c;e:for(;++o<s;){var y=e[o],_=t?t(y):y;if(y=r||y!==0?y:0,u&&_===_){for(var w=f.length;w--;)if(f[w]===_)continue e;t&&f.push(_),c.push(y)}else a(f,_,r)||(f!==c&&f.push(_),c.push(y))}return c}var Xa,gl,u0=I(()=>{s_(),Nm(),dk(),u_(),t5(),dh(),Xa=200,gl=hl});function Rk(e){return e&&e.length?gl(e):[]}var Ya,Nk=I(()=>{u0(),Ya=Rk}),nn=I(()=>{_d(),uk(),UI(),Er(),yk(),Ow(),bh(),n0(),yv(),JI(),Nk()}),c0=vt((e,t)=>{var r;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Xr):o=>(r||(r=Promise.resolve())).then(o).catch(a=>setTimeout(()=>{throw a},0))}),r5=vt(e=>{var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=w&&W[w]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function C(W,X,Ie){this.props=W,this.context=X,this.refs=E,this.updater=Ie||x}C.prototype.isReactComponent={},C.prototype.setState=function(W,X){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,X,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function j(){}j.prototype=C.prototype;function D(W,X,Ie){this.props=W,this.context=X,this.refs=E,this.updater=Ie||x}var M=D.prototype=new j;M.constructor=D,k(M,C.prototype),M.isPureReactComponent=!0;var F=Array.isArray,L=Object.prototype.hasOwnProperty,te={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function Z(W,X,Ie){var Ae,ze={},ke=null,yt=null;if(X!=null)for(Ae in X.ref!==void 0&&(yt=X.ref),X.key!==void 0&&(ke=""+X.key),X)L.call(X,Ae)&&!se.hasOwnProperty(Ae)&&(ze[Ae]=X[Ae]);var He=arguments.length-2;if(He===1)ze.children=Ie;else if(1<He){for(var gt=Array(He),It=0;It<He;It++)gt[It]=arguments[It+2];ze.children=gt}if(W&&W.defaultProps)for(Ae in He=W.defaultProps,He)ze[Ae]===void 0&&(ze[Ae]=He[Ae]);return{$$typeof:t,type:W,key:ke,ref:yt,props:ze,_owner:te.current}}function de(W,X){return{$$typeof:t,type:W.type,key:X,ref:W.ref,props:W.props,_owner:W._owner}}function Ce(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function K(W){var X={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Ie){return X[Ie]})}var fe=/\/+/g;function z(W,X){return typeof W=="object"&&W!==null&&W.key!=null?K(""+W.key):X.toString(36)}function be(W,X,Ie,Ae,ze){var ke=typeof W;(ke==="undefined"||ke==="boolean")&&(W=null);var yt=!1;if(W===null)yt=!0;else switch(ke){case"string":case"number":yt=!0;break;case"object":switch(W.$$typeof){case t:case r:yt=!0}}if(yt)return yt=W,ze=ze(yt),W=Ae===""?"."+z(yt,0):Ae,F(ze)?(Ie="",W!=null&&(Ie=W.replace(fe,"$&/")+"/"),be(ze,X,Ie,"",function(It){return It})):ze!=null&&(Ce(ze)&&(ze=de(ze,Ie+(!ze.key||yt&&yt.key===ze.key?"":(""+ze.key).replace(fe,"$&/")+"/")+W)),X.push(ze)),1;if(yt=0,Ae=Ae===""?".":Ae+":",F(W))for(var He=0;He<W.length;He++){ke=W[He];var gt=Ae+z(ke,He);yt+=be(ke,X,Ie,gt,ze)}else if(gt=v(W),typeof gt=="function")for(W=gt.call(W),He=0;!(ke=W.next()).done;)ke=ke.value,gt=Ae+z(ke,He++),yt+=be(ke,X,Ie,gt,ze);else if(ke==="object")throw X=String(W),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return yt}function Je(W,X,Ie){if(W==null)return W;var Ae=[],ze=0;return be(W,Ae,"","",function(ke){return X.call(Ie,ke,ze++)}),Ae}function le(W){if(W._status===-1){var X=W._result;X=X(),X.then(function(Ie){(W._status===0||W._status===-1)&&(W._status=1,W._result=Ie)},function(Ie){(W._status===0||W._status===-1)&&(W._status=2,W._result=Ie)}),W._status===-1&&(W._status=0,W._result=X)}if(W._status===1)return W._result.default;throw W._result}var ae={current:null},_e={transition:null},Ke={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:_e,ReactCurrentOwner:te};e.Children={map:Je,forEach:function(W,X,Ie){Je(W,function(){X.apply(this,arguments)},Ie)},count:function(W){var X=0;return Je(W,function(){X++}),X},toArray:function(W){return Je(W,function(X){return X})||[]},only:function(W){if(!Ce(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},e.Component=C,e.Fragment=o,e.Profiler=s,e.PureComponent=D,e.StrictMode=a,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ke,e.cloneElement=function(W,X,Ie){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Ae=k({},W.props),ze=W.key,ke=W.ref,yt=W._owner;if(X!=null){if(X.ref!==void 0&&(ke=X.ref,yt=te.current),X.key!==void 0&&(ze=""+X.key),W.type&&W.type.defaultProps)var He=W.type.defaultProps;for(gt in X)L.call(X,gt)&&!se.hasOwnProperty(gt)&&(Ae[gt]=X[gt]===void 0&&He!==void 0?He[gt]:X[gt])}var gt=arguments.length-2;if(gt===1)Ae.children=Ie;else if(1<gt){He=Array(gt);for(var It=0;It<gt;It++)He[It]=arguments[It+2];Ae.children=He}return{$$typeof:t,type:W.type,key:ze,ref:ke,props:Ae,_owner:yt}},e.createContext=function(W){return W={$$typeof:c,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:u,_context:W},W.Consumer=W},e.createElement=Z,e.createFactory=function(W){var X=Z.bind(null,W);return X.type=W,X},e.createRef=function(){return{current:null}},e.forwardRef=function(W){return{$$typeof:f,render:W}},e.isValidElement=Ce,e.lazy=function(W){return{$$typeof:_,_payload:{_status:-1,_result:W},_init:le}},e.memo=function(W,X){return{$$typeof:y,type:W,compare:X===void 0?null:X}},e.startTransition=function(W){var X=_e.transition;_e.transition={};try{W()}finally{_e.transition=X}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(W,X){return ae.current.useCallback(W,X)},e.useContext=function(W){return ae.current.useContext(W)},e.useDebugValue=function(){},e.useDeferredValue=function(W){return ae.current.useDeferredValue(W)},e.useEffect=function(W,X){return ae.current.useEffect(W,X)},e.useId=function(){return ae.current.useId()},e.useImperativeHandle=function(W,X,Ie){return ae.current.useImperativeHandle(W,X,Ie)},e.useInsertionEffect=function(W,X){return ae.current.useInsertionEffect(W,X)},e.useLayoutEffect=function(W,X){return ae.current.useLayoutEffect(W,X)},e.useMemo=function(W,X){return ae.current.useMemo(W,X)},e.useReducer=function(W,X,Ie){return ae.current.useReducer(W,X,Ie)},e.useRef=function(W){return ae.current.useRef(W)},e.useState=function(W){return ae.current.useState(W)},e.useSyncExternalStore=function(W,X,Ie){return ae.current.useSyncExternalStore(W,X,Ie)},e.useTransition=function(){return ae.current.useTransition()},e.version="18.2.0"}),pe=vt((e,t)=>{t.exports=r5()}),Fk=vt(e=>{function t(ae,_e){var Ke=ae.length;ae.push(_e);e:for(;0<Ke;){var W=Ke-1>>>1,X=ae[W];if(0<a(X,_e))ae[W]=_e,ae[Ke]=X,Ke=W;else break e}}function r(ae){return ae.length===0?null:ae[0]}function o(ae){if(ae.length===0)return null;var _e=ae[0],Ke=ae.pop();if(Ke!==_e){ae[0]=Ke;e:for(var W=0,X=ae.length,Ie=X>>>1;W<Ie;){var Ae=2*(W+1)-1,ze=ae[Ae],ke=Ae+1,yt=ae[ke];if(0>a(ze,Ke))ke<X&&0>a(yt,ze)?(ae[W]=yt,ae[ke]=Ke,W=ke):(ae[W]=ze,ae[Ae]=Ke,W=Ae);else if(ke<X&&0>a(yt,Ke))ae[W]=yt,ae[ke]=Ke,W=ke;else break e}}return _e}function a(ae,_e){var Ke=ae.sortIndex-_e.sortIndex;return Ke!==0?Ke:ae.id-_e.id}typeof performance=="object"&&typeof performance.now=="function"?(s=performance,e.unstable_now=function(){return s.now()}):(u=Date,c=u.now(),e.unstable_now=function(){return u.now()-c});var s,u,c,f=[],h=[],y=1,_=null,w=3,v=!1,x=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ae){for(var _e=r(h);_e!==null;){if(_e.callback===null)o(h);else if(_e.startTime<=ae)o(h),_e.sortIndex=_e.expirationTime,t(f,_e);else break;_e=r(h)}}function M(ae){if(k=!1,D(ae),!x)if(r(f)!==null)x=!0,Je(F);else{var _e=r(h);_e!==null&&le(M,_e.startTime-ae)}}function F(ae,_e){x=!1,k&&(k=!1,C(se),se=-1),v=!0;var Ke=w;try{for(D(_e),_=r(f);_!==null&&(!(_.expirationTime>_e)||ae&&!Ce());){var W=_.callback;if(typeof W=="function"){_.callback=null,w=_.priorityLevel;var X=W(_.expirationTime<=_e);_e=e.unstable_now(),typeof X=="function"?_.callback=X:_===r(f)&&o(f),D(_e)}else o(f);_=r(f)}if(_!==null)var Ie=!0;else{var Ae=r(h);Ae!==null&&le(M,Ae.startTime-_e),Ie=!1}return Ie}finally{_=null,w=Ke,v=!1}}var L=!1,te=null,se=-1,Z=5,de=-1;function Ce(){return!(e.unstable_now()-de<Z)}function K(){if(te!==null){var ae=e.unstable_now();de=ae;var _e=!0;try{_e=te(!0,ae)}finally{_e?fe():(L=!1,te=null)}}else L=!1}var fe;typeof j=="function"?fe=function(){j(K)}:typeof MessageChannel<"u"?(z=new MessageChannel,be=z.port2,z.port1.onmessage=K,fe=function(){be.postMessage(null)}):fe=function(){E(K,0)};var z,be;function Je(ae){te=ae,L||(L=!0,fe())}function le(ae,_e){se=E(function(){ae(e.unstable_now())},_e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,Je(F))},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var _e=3;break;default:_e=w}var Ke=w;w=_e;try{return ae()}finally{w=Ke}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ae,_e){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Ke=w;w=ae;try{return _e()}finally{w=Ke}},e.unstable_scheduleCallback=function(ae,_e,Ke){var W=e.unstable_now();switch(typeof Ke=="object"&&Ke!==null?(Ke=Ke.delay,Ke=typeof Ke=="number"&&0<Ke?W+Ke:W):Ke=W,ae){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Ke+X,ae={id:y++,callback:_e,priorityLevel:ae,startTime:Ke,expirationTime:X,sortIndex:-1},Ke>W?(ae.sortIndex=Ke,t(h,ae),r(f)===null&&ae===r(h)&&(k?(C(se),se=-1):k=!0,le(M,Ke-W))):(ae.sortIndex=X,t(f,ae),x||v||(x=!0,Je(F))),ae},e.unstable_shouldYield=Ce,e.unstable_wrapCallback=function(ae){var _e=w;return function(){var Ke=w;w=_e;try{return ae.apply(this,arguments)}finally{w=Ke}}}}),Mk=vt((e,t)=>{t.exports=Fk()}),n5=vt(e=>{var t=pe(),r=Mk();function o(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,d=1;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(n,i){c(n,i),c(n+"Capture",i)}function c(n,i){for(s[n]=i,n=0;n<i.length;n++)a.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function v(n){return h.call(w,n)?!0:h.call(_,n)?!1:y.test(n)?w[n]=!0:(_[n]=!0,!1)}function x(n,i,d,m){if(d!==null&&d.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,i,d,m){if(i===null||typeof i>"u"||x(n,i,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function E(n,i,d,m,P,T,H){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=P,this.mustUseProperty=d,this.propertyName=n,this.type=i,this.sanitizeURL=T,this.removeEmptyString=H}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new E(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];C[i]=new E(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new E(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new E(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new E(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new E(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new E(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new E(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new E(n,5,!1,n.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function D(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(j,D);C[i]=new E(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(j,D);C[i]=new E(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(j,D);C[i]=new E(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!0,!0)});function M(n,i,d,m){var P=C.hasOwnProperty(i)?C[i]:null;(P!==null?P.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,d,P,m)&&(d=null),m||P===null?v(i)&&(d===null?n.removeAttribute(i):n.setAttribute(i,""+d)):P.mustUseProperty?n[P.propertyName]=d===null?P.type===3?!1:"":d:(i=P.attributeName,m=P.attributeNamespace,d===null?n.removeAttribute(i):(P=P.type,d=P===3||P===4&&d===!0?"":""+d,m?n.setAttributeNS(m,i,d):n.setAttribute(i,d))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),te=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Ce=Symbol.for("react.provider"),K=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Je=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),_e=Symbol.iterator;function Ke(n){return n===null||typeof n!="object"?null:(n=_e&&n[_e]||n["@@iterator"],typeof n=="function"?n:null)}var W=Object.assign,X;function Ie(n){if(X===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);X=i&&i[1]||""}return`
`+X+n}var Ae=!1;function ze(n,i){if(!n||Ae)return"";Ae=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Me){var m=Me}Reflect.construct(n,[],i)}else{try{i.call()}catch(Me){m=Me}n.call(i.prototype)}else{try{throw Error()}catch(Me){m=Me}n()}}catch(Me){if(Me&&m&&typeof Me.stack=="string"){for(var P=Me.stack.split(`
`),T=m.stack.split(`
`),H=P.length-1,ie=T.length-1;1<=H&&0<=ie&&P[H]!==T[ie];)ie--;for(;1<=H&&0<=ie;H--,ie--)if(P[H]!==T[ie]){if(H!==1||ie!==1)do if(H--,ie--,0>ie||P[H]!==T[ie]){var ge=`
`+P[H].replace(" at new "," at ");return n.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",n.displayName)),ge}while(1<=H&&0<=ie);break}}}finally{Ae=!1,Error.prepareStackTrace=d}return(n=n?n.displayName||n.name:"")?Ie(n):""}function ke(n){switch(n.tag){case 5:return Ie(n.type);case 16:return Ie("Lazy");case 13:return Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 2:case 15:return n=ze(n.type,!1),n;case 11:return n=ze(n.type.render,!1),n;case 1:return n=ze(n.type,!0),n;default:return""}}function yt(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case se:return"Fragment";case te:return"Portal";case de:return"Profiler";case Z:return"StrictMode";case z:return"Suspense";case be:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case K:return(n.displayName||"Context")+".Consumer";case Ce:return(n._context.displayName||"Context")+".Provider";case fe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Je:return i=n.displayName||null,i!==null?i:yt(n.type)||"Memo";case le:i=n._payload,n=n._init;try{return yt(n(i))}catch{}}return null}function He(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yt(i);case 8:return i===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function gt(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function It(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rt(n){var i=It(n)?"checked":"value",d=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),m=""+n[i];if(!n.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var P=d.get,T=d.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return P.call(this)},set:function(H){m=""+H,T.call(this,H)}}),Object.defineProperty(n,i,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(H){m=""+H},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function zt(n){n._valueTracker||(n._valueTracker=Rt(n))}function pr(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var d=i.getValue(),m="";return n&&(m=It(n)?n.checked?"true":"false":n.value),n=m,n!==d?(i.setValue(n),!0):!1}function R(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ne(n,i){var d=i.checked;return W({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??n._wrapperState.initialChecked})}function Be(n,i){var d=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;d=gt(i.value!=null?i.value:d),n._wrapperState={initialChecked:m,initialValue:d,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ee(n,i){i=i.checked,i!=null&&M(n,"checked",i,!1)}function J(n,i){ee(n,i);var d=gt(i.value),m=i.type;if(d!=null)m==="number"?(d===0&&n.value===""||n.value!=d)&&(n.value=""+d):n.value!==""+d&&(n.value=""+d);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?We(n,i.type,d):i.hasOwnProperty("defaultValue")&&We(n,i.type,gt(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function xe(n,i,d){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,d||i===n.value||(n.value=i),n.defaultValue=i}d=n.name,d!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,d!==""&&(n.name=d)}function We(n,i,d){(i!=="number"||R(n.ownerDocument)!==n)&&(d==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+d&&(n.defaultValue=""+d))}var Ge=Array.isArray;function Oe(n,i,d,m){if(n=n.options,i){i={};for(var P=0;P<d.length;P++)i["$"+d[P]]=!0;for(d=0;d<n.length;d++)P=i.hasOwnProperty("$"+n[d].value),n[d].selected!==P&&(n[d].selected=P),P&&m&&(n[d].defaultSelected=!0)}else{for(d=""+gt(d),i=null,P=0;P<n.length;P++){if(n[P].value===d){n[P].selected=!0,m&&(n[P].defaultSelected=!0);return}i!==null||n[P].disabled||(i=n[P])}i!==null&&(i.selected=!0)}}function et(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(o(91));return W({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function $e(n,i){var d=i.value;if(d==null){if(d=i.children,i=i.defaultValue,d!=null){if(i!=null)throw Error(o(92));if(Ge(d)){if(1<d.length)throw Error(o(93));d=d[0]}i=d}i==null&&(i=""),d=i}n._wrapperState={initialValue:gt(d)}}function Xe(n,i){var d=gt(i.value),m=gt(i.defaultValue);d!=null&&(d=""+d,d!==n.value&&(n.value=d),i.defaultValue==null&&n.defaultValue!==d&&(n.defaultValue=d)),m!=null&&(n.defaultValue=""+m)}function Dt(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function cr(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?cr(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Yn,gc=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,d,m,P){MSApp.execUnsafeLocalFunction(function(){return n(i,d,m,P)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Yn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function ao(n,i){if(i){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=i;return}}n.textContent=i}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$r=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(n){$r.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Ia[i]=Ia[n]})});function Ef(n,i,d){return i==null||typeof i=="boolean"||i===""?"":d||typeof i!="number"||i===0||Ia.hasOwnProperty(n)&&Ia[n]?(""+i).trim():i+"px"}function Mg(n,i){n=n.style;for(var d in i)if(i.hasOwnProperty(d)){var m=d.indexOf("--")===0,P=Ef(d,i[d],m);d==="float"&&(d="cssFloat"),m?n.setProperty(d,P):n[d]=P}}var Oa=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ug(n,i){if(i){if(Oa[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(o(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(o(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(o(61))}if(i.style!=null&&typeof i.style!="object")throw Error(o(62))}}function Jy(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eb=null;function tb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Vg=null,Ni=null,ja=null;function xX(n){if(n=kb(n)){if(typeof Vg!="function")throw Error(o(280));var i=n.stateNode;i&&(i=wP(i),Vg(n.stateNode,n.type,i))}}function SX(n){Ni?ja?ja.push(n):ja=[n]:Ni=n}function EX(){if(Ni){var n=Ni,i=ja;if(ja=Ni=null,xX(n),i)for(n=0;n<i.length;n++)xX(i[n])}}function PX(n,i){return n(i)}function CX(){}var p4=!1;function IX(n,i,d){if(p4)return n(i,d);p4=!0;try{return PX(n,i,d)}finally{p4=!1,(Ni!==null||ja!==null)&&(CX(),EX())}}function rb(n,i){var d=n.stateNode;if(d===null)return null;var m=wP(d);if(m===null)return null;d=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(o(231,i,typeof d));return d}var h4=!1;if(f)try{Hg={},Object.defineProperty(Hg,"passive",{get:function(){h4=!0}}),window.addEventListener("test",Hg,Hg),window.removeEventListener("test",Hg,Hg)}catch{h4=!1}var Hg;function Bue(n,i,d,m,P,T,H,ie,ge){var Me=Array.prototype.slice.call(arguments,3);try{i.apply(d,Me)}catch(ot){this.onError(ot)}}var nb=!1,ZE=null,XE=!1,g4=null,Rue={onError:function(n){nb=!0,ZE=n}};function Nue(n,i,d,m,P,T,H,ie,ge){nb=!1,ZE=null,Bue.apply(Rue,arguments)}function Fue(n,i,d,m,P,T,H,ie,ge){if(Nue.apply(this,arguments),nb){if(nb){var Me=ZE;nb=!1,ZE=null}else throw Error(o(198));XE||(XE=!0,g4=Me)}}function Pf(n){var i=n,d=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(d=i.return),n=i.return;while(n)}return i.tag===3?d:null}function OX(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function jX(n){if(Pf(n)!==n)throw Error(o(188))}function Mue(n){var i=n.alternate;if(!i){if(i=Pf(n),i===null)throw Error(o(188));return i!==n?null:n}for(var d=n,m=i;;){var P=d.return;if(P===null)break;var T=P.alternate;if(T===null){if(m=P.return,m!==null){d=m;continue}break}if(P.child===T.child){for(T=P.child;T;){if(T===d)return jX(P),n;if(T===m)return jX(P),i;T=T.sibling}throw Error(o(188))}if(d.return!==m.return)d=P,m=T;else{for(var H=!1,ie=P.child;ie;){if(ie===d){H=!0,d=P,m=T;break}if(ie===m){H=!0,m=P,d=T;break}ie=ie.sibling}if(!H){for(ie=T.child;ie;){if(ie===d){H=!0,d=T,m=P;break}if(ie===m){H=!0,m=T,d=P;break}ie=ie.sibling}if(!H)throw Error(o(189))}}if(d.alternate!==m)throw Error(o(190))}if(d.tag!==3)throw Error(o(188));return d.stateNode.current===d?n:i}function TX(n){return n=Mue(n),n!==null?AX(n):null}function AX(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=AX(n);if(i!==null)return i;n=n.sibling}return null}var DX=r.unstable_scheduleCallback,zX=r.unstable_cancelCallback,Uue=r.unstable_shouldYield,Vue=r.unstable_requestPaint,sn=r.unstable_now,Hue=r.unstable_getCurrentPriorityLevel,m4=r.unstable_ImmediatePriority,BX=r.unstable_UserBlockingPriority,YE=r.unstable_NormalPriority,Lue=r.unstable_LowPriority,RX=r.unstable_IdlePriority,QE=null,Is=null;function Kue(n){if(Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(QE,n,void 0,(n.current.flags&128)===128)}catch{}}var Ta=Math.clz32?Math.clz32:$ue,Wue=Math.log,que=Math.LN2;function $ue(n){return n>>>=0,n===0?32:31-(Wue(n)/que|0)|0}var JE=64,eP=4194304;function ob(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function tP(n,i){var d=n.pendingLanes;if(d===0)return 0;var m=0,P=n.suspendedLanes,T=n.pingedLanes,H=d&268435455;if(H!==0){var ie=H&~P;ie!==0?m=ob(ie):(T&=H,T!==0&&(m=ob(T)))}else H=d&~P,H!==0?m=ob(H):T!==0&&(m=ob(T));if(m===0)return 0;if(i!==0&&i!==m&&!(i&P)&&(P=m&-m,T=i&-i,P>=T||P===16&&(T&4194240)!==0))return i;if(m&4&&(m|=d&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=m;0<i;)d=31-Ta(i),P=1<<d,m|=n[d],i&=~P;return m}function Gue(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zue(n,i){for(var d=n.suspendedLanes,m=n.pingedLanes,P=n.expirationTimes,T=n.pendingLanes;0<T;){var H=31-Ta(T),ie=1<<H,ge=P[H];ge===-1?(!(ie&d)||ie&m)&&(P[H]=Gue(ie,i)):ge<=i&&(n.expiredLanes|=ie),T&=~ie}}function v4(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function NX(){var n=JE;return JE<<=1,!(JE&4194240)&&(JE=64),n}function y4(n){for(var i=[],d=0;31>d;d++)i.push(n);return i}function ib(n,i,d){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Ta(i),n[i]=d}function Xue(n,i){var d=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<d;){var P=31-Ta(d),T=1<<P;i[P]=0,m[P]=-1,n[P]=-1,d&=~T}}function b4(n,i){var d=n.entangledLanes|=i;for(n=n.entanglements;d;){var m=31-Ta(d),P=1<<m;P&i|n[m]&i&&(n[m]|=i),d&=~P}}var kr=0;function FX(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var MX,w4,UX,VX,HX,_4=!1,rP=[],mc=null,vc=null,yc=null,ab=new Map,sb=new Map,bc=[],Yue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function LX(n,i){switch(n){case"focusin":case"focusout":mc=null;break;case"dragenter":case"dragleave":vc=null;break;case"mouseover":case"mouseout":yc=null;break;case"pointerover":case"pointerout":ab.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sb.delete(i.pointerId)}}function lb(n,i,d,m,P,T){return n===null||n.nativeEvent!==T?(n={blockedOn:i,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[P]},i!==null&&(i=kb(i),i!==null&&w4(i)),n):(n.eventSystemFlags|=m,i=n.targetContainers,P!==null&&i.indexOf(P)===-1&&i.push(P),n)}function Que(n,i,d,m,P){switch(i){case"focusin":return mc=lb(mc,n,i,d,m,P),!0;case"dragenter":return vc=lb(vc,n,i,d,m,P),!0;case"mouseover":return yc=lb(yc,n,i,d,m,P),!0;case"pointerover":var T=P.pointerId;return ab.set(T,lb(ab.get(T)||null,n,i,d,m,P)),!0;case"gotpointercapture":return T=P.pointerId,sb.set(T,lb(sb.get(T)||null,n,i,d,m,P)),!0}return!1}function KX(n){var i=Cf(n.target);if(i!==null){var d=Pf(i);if(d!==null){if(i=d.tag,i===13){if(i=OX(d),i!==null){n.blockedOn=i,HX(n.priority,function(){UX(d)});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nP(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var d=x4(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(d===null){d=n.nativeEvent;var m=new d.constructor(d.type,d);eb=m,d.target.dispatchEvent(m),eb=null}else return i=kb(d),i!==null&&w4(i),n.blockedOn=d,!1;i.shift()}return!0}function WX(n,i,d){nP(n)&&d.delete(i)}function Jue(){_4=!1,mc!==null&&nP(mc)&&(mc=null),vc!==null&&nP(vc)&&(vc=null),yc!==null&&nP(yc)&&(yc=null),ab.forEach(WX),sb.forEach(WX)}function ub(n,i){n.blockedOn===i&&(n.blockedOn=null,_4||(_4=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Jue)))}function cb(n){function i(P){return ub(P,n)}if(0<rP.length){ub(rP[0],n);for(var d=1;d<rP.length;d++){var m=rP[d];m.blockedOn===n&&(m.blockedOn=null)}}for(mc!==null&&ub(mc,n),vc!==null&&ub(vc,n),yc!==null&&ub(yc,n),ab.forEach(i),sb.forEach(i),d=0;d<bc.length;d++)m=bc[d],m.blockedOn===n&&(m.blockedOn=null);for(;0<bc.length&&(d=bc[0],d.blockedOn===null);)KX(d),d.blockedOn===null&&bc.shift()}var Lg=F.ReactCurrentBatchConfig,oP=!0;function ece(n,i,d,m){var P=kr,T=Lg.transition;Lg.transition=null;try{kr=1,k4(n,i,d,m)}finally{kr=P,Lg.transition=T}}function tce(n,i,d,m){var P=kr,T=Lg.transition;Lg.transition=null;try{kr=4,k4(n,i,d,m)}finally{kr=P,Lg.transition=T}}function k4(n,i,d,m){if(oP){var P=x4(n,i,d,m);if(P===null)F4(n,i,m,iP,d),LX(n,m);else if(Que(P,n,i,d,m))m.stopPropagation();else if(LX(n,m),i&4&&-1<Yue.indexOf(n)){for(;P!==null;){var T=kb(P);if(T!==null&&MX(T),T=x4(n,i,d,m),T===null&&F4(n,i,m,iP,d),T===P)break;P=T}P!==null&&m.stopPropagation()}else F4(n,i,m,null,d)}}var iP=null;function x4(n,i,d,m){if(iP=null,n=tb(m),n=Cf(n),n!==null)if(i=Pf(n),i===null)n=null;else if(d=i.tag,d===13){if(n=OX(i),n!==null)return n;n=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return iP=n,null}function qX(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hue()){case m4:return 1;case BX:return 4;case YE:case Lue:return 16;case RX:return 536870912;default:return 16}default:return 16}}var wc=null,S4=null,aP=null;function $X(){if(aP)return aP;var n,i=S4,d=i.length,m,P="value"in wc?wc.value:wc.textContent,T=P.length;for(n=0;n<d&&i[n]===P[n];n++);var H=d-n;for(m=1;m<=H&&i[d-m]===P[T-m];m++);return aP=P.slice(n,1<m?1-m:void 0)}function sP(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function lP(){return!0}function GX(){return!1}function fi(n){function i(d,m,P,T,H){this._reactName=d,this._targetInst=P,this.type=m,this.nativeEvent=T,this.target=H,this.currentTarget=null;for(var ie in n)n.hasOwnProperty(ie)&&(d=n[ie],this[ie]=d?d(T):T[ie]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?lP:GX,this.isPropagationStopped=GX,this}return W(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=lP)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=lP)},persist:function(){},isPersistent:lP}),i}var Kg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E4=fi(Kg),db=W({},Kg,{view:0,detail:0}),rce=fi(db),P4,C4,fb,uP=W({},db,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O4,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fb&&(fb&&n.type==="mousemove"?(P4=n.screenX-fb.screenX,C4=n.screenY-fb.screenY):C4=P4=0,fb=n),P4)},movementY:function(n){return"movementY"in n?n.movementY:C4}}),ZX=fi(uP),nce=W({},uP,{dataTransfer:0}),oce=fi(nce),ice=W({},db,{relatedTarget:0}),I4=fi(ice),ace=W({},Kg,{animationName:0,elapsedTime:0,pseudoElement:0}),sce=fi(ace),lce=W({},Kg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),uce=fi(lce),cce=W({},Kg,{data:0}),XX=fi(cce),dce={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fce={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pce={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hce(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=pce[n])?!!i[n]:!1}function O4(){return hce}var gce=W({},db,{key:function(n){if(n.key){var i=dce[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=sP(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fce[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O4,charCode:function(n){return n.type==="keypress"?sP(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sP(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),mce=fi(gce),vce=W({},uP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YX=fi(vce),yce=W({},db,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O4}),bce=fi(yce),wce=W({},Kg,{propertyName:0,elapsedTime:0,pseudoElement:0}),_ce=fi(wce),kce=W({},uP,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xce=fi(kce),Sce=[9,13,27,32],j4=f&&"CompositionEvent"in window,pb=null;f&&"documentMode"in document&&(pb=document.documentMode);var Ece=f&&"TextEvent"in window&&!pb,QX=f&&(!j4||pb&&8<pb&&11>=pb),JX=" ",eY=!1;function tY(n,i){switch(n){case"keyup":return Sce.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rY(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wg=!1;function Pce(n,i){switch(n){case"compositionend":return rY(i);case"keypress":return i.which!==32?null:(eY=!0,JX);case"textInput":return n=i.data,n===JX&&eY?null:n;default:return null}}function Cce(n,i){if(Wg)return n==="compositionend"||!j4&&tY(n,i)?(n=$X(),aP=S4=wc=null,Wg=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return QX&&i.locale!=="ko"?null:i.data;default:return null}}var Ice={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nY(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ice[n.type]:i==="textarea"}function oY(n,i,d,m){SX(m),i=vP(i,"onChange"),0<i.length&&(d=new E4("onChange","change",null,d,m),n.push({event:d,listeners:i}))}var hb=null,gb=null;function Oce(n){xY(n,0)}function cP(n){var i=Xg(n);if(pr(i))return n}function jce(n,i){if(n==="change")return i}var iY=!1;f&&(f?(dP="oninput"in document,dP||(A4=document.createElement("div"),A4.setAttribute("oninput","return;"),dP=typeof A4.oninput=="function"),T4=dP):T4=!1,iY=T4&&(!document.documentMode||9<document.documentMode));var T4,dP,A4;function aY(){hb&&(hb.detachEvent("onpropertychange",sY),gb=hb=null)}function sY(n){if(n.propertyName==="value"&&cP(gb)){var i=[];oY(i,gb,n,tb(n)),IX(Oce,i)}}function Tce(n,i,d){n==="focusin"?(aY(),hb=i,gb=d,hb.attachEvent("onpropertychange",sY)):n==="focusout"&&aY()}function Ace(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cP(gb)}function Dce(n,i){if(n==="click")return cP(i)}function zce(n,i){if(n==="input"||n==="change")return cP(i)}function Bce(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Aa=typeof Object.is=="function"?Object.is:Bce;function mb(n,i){if(Aa(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var d=Object.keys(n),m=Object.keys(i);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var P=d[m];if(!h.call(i,P)||!Aa(n[P],i[P]))return!1}return!0}function lY(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function uY(n,i){var d=lY(n);n=0;for(var m;d;){if(d.nodeType===3){if(m=n+d.textContent.length,n<=i&&m>=i)return{node:d,offset:i-n};n=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=lY(d)}}function cY(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?cY(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function dY(){for(var n=window,i=R();i instanceof n.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)n=i.contentWindow;else break;i=R(n.document)}return i}function D4(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Rce(n){var i=dY(),d=n.focusedElem,m=n.selectionRange;if(i!==d&&d&&d.ownerDocument&&cY(d.ownerDocument.documentElement,d)){if(m!==null&&D4(d)){if(i=m.start,n=m.end,n===void 0&&(n=i),"selectionStart"in d)d.selectionStart=i,d.selectionEnd=Math.min(n,d.value.length);else if(n=(i=d.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var P=d.textContent.length,T=Math.min(m.start,P);m=m.end===void 0?T:Math.min(m.end,P),!n.extend&&T>m&&(P=m,m=T,T=P),P=uY(d,T);var H=uY(d,m);P&&H&&(n.rangeCount!==1||n.anchorNode!==P.node||n.anchorOffset!==P.offset||n.focusNode!==H.node||n.focusOffset!==H.offset)&&(i=i.createRange(),i.setStart(P.node,P.offset),n.removeAllRanges(),T>m?(n.addRange(i),n.extend(H.node,H.offset)):(i.setEnd(H.node,H.offset),n.addRange(i)))}}for(i=[],n=d;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<i.length;d++)n=i[d],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Nce=f&&"documentMode"in document&&11>=document.documentMode,qg=null,z4=null,vb=null,B4=!1;function fY(n,i,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;B4||qg==null||qg!==R(m)||(m=qg,"selectionStart"in m&&D4(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),vb&&mb(vb,m)||(vb=m,m=vP(z4,"onSelect"),0<m.length&&(i=new E4("onSelect","select",null,i,d),n.push({event:i,listeners:m}),i.target=qg)))}function fP(n,i){var d={};return d[n.toLowerCase()]=i.toLowerCase(),d["Webkit"+n]="webkit"+i,d["Moz"+n]="moz"+i,d}var $g={animationend:fP("Animation","AnimationEnd"),animationiteration:fP("Animation","AnimationIteration"),animationstart:fP("Animation","AnimationStart"),transitionend:fP("Transition","TransitionEnd")},R4={},pY={};f&&(pY=document.createElement("div").style,"AnimationEvent"in window||(delete $g.animationend.animation,delete $g.animationiteration.animation,delete $g.animationstart.animation),"TransitionEvent"in window||delete $g.transitionend.transition);function pP(n){if(R4[n])return R4[n];if(!$g[n])return n;var i=$g[n],d;for(d in i)if(i.hasOwnProperty(d)&&d in pY)return R4[n]=i[d];return n}var hY=pP("animationend"),gY=pP("animationiteration"),mY=pP("animationstart"),vY=pP("transitionend"),yY=new Map,bY="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _c(n,i){yY.set(n,i),u(i,[n])}for(gP=0;gP<bY.length;gP++)hP=bY[gP],wY=hP.toLowerCase(),_Y=hP[0].toUpperCase()+hP.slice(1),_c(wY,"on"+_Y);var hP,wY,_Y,gP;_c(hY,"onAnimationEnd"),_c(gY,"onAnimationIteration"),_c(mY,"onAnimationStart"),_c("dblclick","onDoubleClick"),_c("focusin","onFocus"),_c("focusout","onBlur"),_c(vY,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fce=new Set("cancel close invalid load scroll toggle".split(" ").concat(yb));function kY(n,i,d){var m=n.type||"unknown-event";n.currentTarget=d,Fue(m,i,void 0,n),n.currentTarget=null}function xY(n,i){i=(i&4)!==0;for(var d=0;d<n.length;d++){var m=n[d],P=m.event;m=m.listeners;e:{var T=void 0;if(i)for(var H=m.length-1;0<=H;H--){var ie=m[H],ge=ie.instance,Me=ie.currentTarget;if(ie=ie.listener,ge!==T&&P.isPropagationStopped())break e;kY(P,ie,Me),T=ge}else for(H=0;H<m.length;H++){if(ie=m[H],ge=ie.instance,Me=ie.currentTarget,ie=ie.listener,ge!==T&&P.isPropagationStopped())break e;kY(P,ie,Me),T=ge}}}if(XE)throw n=g4,XE=!1,g4=null,n}function Vr(n,i){var d=i[K4];d===void 0&&(d=i[K4]=new Set);var m=n+"__bubble";d.has(m)||(SY(i,n,2,!1),d.add(m))}function N4(n,i,d){var m=0;i&&(m|=4),SY(d,n,m,i)}var mP="_reactListening"+Math.random().toString(36).slice(2);function bb(n){if(!n[mP]){n[mP]=!0,a.forEach(function(d){d!=="selectionchange"&&(Fce.has(d)||N4(d,!1,n),N4(d,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[mP]||(i[mP]=!0,N4("selectionchange",!1,i))}}function SY(n,i,d,m){switch(qX(i)){case 1:var P=ece;break;case 4:P=tce;break;default:P=k4}d=P.bind(null,i,d,n),P=void 0,!h4||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(P=!0),m?P!==void 0?n.addEventListener(i,d,{capture:!0,passive:P}):n.addEventListener(i,d,!0):P!==void 0?n.addEventListener(i,d,{passive:P}):n.addEventListener(i,d,!1)}function F4(n,i,d,m,P){var T=m;if(!(i&1)&&!(i&2)&&m!==null)e:for(;;){if(m===null)return;var H=m.tag;if(H===3||H===4){var ie=m.stateNode.containerInfo;if(ie===P||ie.nodeType===8&&ie.parentNode===P)break;if(H===4)for(H=m.return;H!==null;){var ge=H.tag;if((ge===3||ge===4)&&(ge=H.stateNode.containerInfo,ge===P||ge.nodeType===8&&ge.parentNode===P))return;H=H.return}for(;ie!==null;){if(H=Cf(ie),H===null)return;if(ge=H.tag,ge===5||ge===6){m=T=H;continue e}ie=ie.parentNode}}m=m.return}IX(function(){var Me=T,ot=tb(d),lt=[];e:{var tt=yY.get(n);if(tt!==void 0){var _t=E4,Ot=n;switch(n){case"keypress":if(sP(d)===0)break e;case"keydown":case"keyup":_t=mce;break;case"focusin":Ot="focus",_t=I4;break;case"focusout":Ot="blur",_t=I4;break;case"beforeblur":case"afterblur":_t=I4;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=ZX;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=oce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=bce;break;case hY:case gY:case mY:_t=sce;break;case vY:_t=_ce;break;case"scroll":_t=rce;break;case"wheel":_t=xce;break;case"copy":case"cut":case"paste":_t=uce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=YX}var Tt=(i&4)!==0,ln=!Tt&&n==="scroll",je=Tt?tt!==null?tt+"Capture":null:tt;Tt=[];for(var we=Me,De;we!==null;){De=we;var ft=De.stateNode;if(De.tag===5&&ft!==null&&(De=ft,je!==null&&(ft=rb(we,je),ft!=null&&Tt.push(wb(we,ft,De)))),ln)break;we=we.return}0<Tt.length&&(tt=new _t(tt,Ot,null,d,ot),lt.push({event:tt,listeners:Tt}))}}if(!(i&7)){e:{if(tt=n==="mouseover"||n==="pointerover",_t=n==="mouseout"||n==="pointerout",tt&&d!==eb&&(Ot=d.relatedTarget||d.fromElement)&&(Cf(Ot)||Ot[ql]))break e;if((_t||tt)&&(tt=ot.window===ot?ot:(tt=ot.ownerDocument)?tt.defaultView||tt.parentWindow:window,_t?(Ot=d.relatedTarget||d.toElement,_t=Me,Ot=Ot?Cf(Ot):null,Ot!==null&&(ln=Pf(Ot),Ot!==ln||Ot.tag!==5&&Ot.tag!==6)&&(Ot=null)):(_t=null,Ot=Me),_t!==Ot)){if(Tt=ZX,ft="onMouseLeave",je="onMouseEnter",we="mouse",(n==="pointerout"||n==="pointerover")&&(Tt=YX,ft="onPointerLeave",je="onPointerEnter",we="pointer"),ln=_t==null?tt:Xg(_t),De=Ot==null?tt:Xg(Ot),tt=new Tt(ft,we+"leave",_t,d,ot),tt.target=ln,tt.relatedTarget=De,ft=null,Cf(ot)===Me&&(Tt=new Tt(je,we+"enter",Ot,d,ot),Tt.target=De,Tt.relatedTarget=ln,ft=Tt),ln=ft,_t&&Ot)t:{for(Tt=_t,je=Ot,we=0,De=Tt;De;De=Gg(De))we++;for(De=0,ft=je;ft;ft=Gg(ft))De++;for(;0<we-De;)Tt=Gg(Tt),we--;for(;0<De-we;)je=Gg(je),De--;for(;we--;){if(Tt===je||je!==null&&Tt===je.alternate)break t;Tt=Gg(Tt),je=Gg(je)}Tt=null}else Tt=null;_t!==null&&EY(lt,tt,_t,Tt,!1),Ot!==null&&ln!==null&&EY(lt,ln,Ot,Tt,!0)}}e:{if(tt=Me?Xg(Me):window,_t=tt.nodeName&&tt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&tt.type==="file")var At=jce;else if(nY(tt))if(iY)At=zce;else{At=Ace;var Mt=Tce}else(_t=tt.nodeName)&&_t.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(At=Dce);if(At&&(At=At(n,Me))){oY(lt,At,d,ot);break e}Mt&&Mt(n,tt,Me),n==="focusout"&&(Mt=tt._wrapperState)&&Mt.controlled&&tt.type==="number"&&We(tt,"number",tt.value)}switch(Mt=Me?Xg(Me):window,n){case"focusin":(nY(Mt)||Mt.contentEditable==="true")&&(qg=Mt,z4=Me,vb=null);break;case"focusout":vb=z4=qg=null;break;case"mousedown":B4=!0;break;case"contextmenu":case"mouseup":case"dragend":B4=!1,fY(lt,d,ot);break;case"selectionchange":if(Nce)break;case"keydown":case"keyup":fY(lt,d,ot)}var Ut;if(j4)e:{switch(n){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Wg?tY(n,d)&&($t="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&($t="onCompositionStart");$t&&(QX&&d.locale!=="ko"&&(Wg||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Wg&&(Ut=$X()):(wc=ot,S4="value"in wc?wc.value:wc.textContent,Wg=!0)),Mt=vP(Me,$t),0<Mt.length&&($t=new XX($t,n,null,d,ot),lt.push({event:$t,listeners:Mt}),Ut?$t.data=Ut:(Ut=rY(d),Ut!==null&&($t.data=Ut)))),(Ut=Ece?Pce(n,d):Cce(n,d))&&(Me=vP(Me,"onBeforeInput"),0<Me.length&&(ot=new XX("onBeforeInput","beforeinput",null,d,ot),lt.push({event:ot,listeners:Me}),ot.data=Ut))}xY(lt,i)})}function wb(n,i,d){return{instance:n,listener:i,currentTarget:d}}function vP(n,i){for(var d=i+"Capture",m=[];n!==null;){var P=n,T=P.stateNode;P.tag===5&&T!==null&&(P=T,T=rb(n,d),T!=null&&m.unshift(wb(n,T,P)),T=rb(n,i),T!=null&&m.push(wb(n,T,P))),n=n.return}return m}function Gg(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function EY(n,i,d,m,P){for(var T=i._reactName,H=[];d!==null&&d!==m;){var ie=d,ge=ie.alternate,Me=ie.stateNode;if(ge!==null&&ge===m)break;ie.tag===5&&Me!==null&&(ie=Me,P?(ge=rb(d,T),ge!=null&&H.unshift(wb(d,ge,ie))):P||(ge=rb(d,T),ge!=null&&H.push(wb(d,ge,ie)))),d=d.return}H.length!==0&&n.push({event:i,listeners:H})}var Mce=/\r\n?/g,Uce=/\u0000|\uFFFD/g;function PY(n){return(typeof n=="string"?n:""+n).replace(Mce,`
`).replace(Uce,"")}function yP(n,i,d){if(i=PY(i),PY(n)!==i&&d)throw Error(o(425))}function bP(){}var M4=null,U4=null;function V4(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var H4=typeof setTimeout=="function"?setTimeout:void 0,Vce=typeof clearTimeout=="function"?clearTimeout:void 0,CY=typeof Promise=="function"?Promise:void 0,Hce=typeof queueMicrotask=="function"?queueMicrotask:typeof CY<"u"?function(n){return CY.resolve(null).then(n).catch(Lce)}:H4;function Lce(n){setTimeout(function(){throw n})}function L4(n,i){var d=i,m=0;do{var P=d.nextSibling;if(n.removeChild(d),P&&P.nodeType===8)if(d=P.data,d==="/$"){if(m===0){n.removeChild(P),cb(i);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=P}while(d);cb(i)}function kc(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function IY(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"){if(i===0)return n;i--}else d==="/$"&&i++}n=n.previousSibling}return null}var Zg=Math.random().toString(36).slice(2),Os="__reactFiber$"+Zg,_b="__reactProps$"+Zg,ql="__reactContainer$"+Zg,K4="__reactEvents$"+Zg,Kce="__reactListeners$"+Zg,Wce="__reactHandles$"+Zg;function Cf(n){var i=n[Os];if(i)return i;for(var d=n.parentNode;d;){if(i=d[ql]||d[Os]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(n=IY(n);n!==null;){if(d=n[Os])return d;n=IY(n)}return i}n=d,d=n.parentNode}return null}function kb(n){return n=n[Os]||n[ql],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Xg(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(o(33))}function wP(n){return n[_b]||null}var W4=[],Yg=-1;function xc(n){return{current:n}}function Hr(n){0>Yg||(n.current=W4[Yg],W4[Yg]=null,Yg--)}function zr(n,i){Yg++,W4[Yg]=n.current,n.current=i}var Sc={},so=xc(Sc),qo=xc(!1),If=Sc;function Qg(n,i){var d=n.type.contextTypes;if(!d)return Sc;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var P={},T;for(T in d)P[T]=i[T];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=P),P}function $o(n){return n=n.childContextTypes,n!=null}function _P(){Hr(qo),Hr(so)}function OY(n,i,d){if(so.current!==Sc)throw Error(o(168));zr(so,i),zr(qo,d)}function jY(n,i,d){var m=n.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var P in m)if(!(P in i))throw Error(o(108,He(n)||"Unknown",P));return W({},d,m)}function kP(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Sc,If=so.current,zr(so,n),zr(qo,qo.current),!0}function TY(n,i,d){var m=n.stateNode;if(!m)throw Error(o(169));d?(n=jY(n,i,If),m.__reactInternalMemoizedMergedChildContext=n,Hr(qo),Hr(so),zr(so,n)):Hr(qo),zr(qo,d)}var $l=null,xP=!1,q4=!1;function AY(n){$l===null?$l=[n]:$l.push(n)}function qce(n){xP=!0,AY(n)}function Ec(){if(!q4&&$l!==null){q4=!0;var n=0,i=kr;try{var d=$l;for(kr=1;n<d.length;n++){var m=d[n];do m=m(!0);while(m!==null)}$l=null,xP=!1}catch(P){throw $l!==null&&($l=$l.slice(n+1)),DX(m4,Ec),P}finally{kr=i,q4=!1}}return null}var Jg=[],em=0,SP=null,EP=0,Fi=[],Mi=0,Of=null,Gl=1,Zl="";function jf(n,i){Jg[em++]=EP,Jg[em++]=SP,SP=n,EP=i}function DY(n,i,d){Fi[Mi++]=Gl,Fi[Mi++]=Zl,Fi[Mi++]=Of,Of=n;var m=Gl;n=Zl;var P=32-Ta(m)-1;m&=~(1<<P),d+=1;var T=32-Ta(i)+P;if(30<T){var H=P-P%5;T=(m&(1<<H)-1).toString(32),m>>=H,P-=H,Gl=1<<32-Ta(i)+P|d<<P|m,Zl=T+n}else Gl=1<<T|d<<P|m,Zl=n}function $4(n){n.return!==null&&(jf(n,1),DY(n,1,0))}function G4(n){for(;n===SP;)SP=Jg[--em],Jg[em]=null,EP=Jg[--em],Jg[em]=null;for(;n===Of;)Of=Fi[--Mi],Fi[Mi]=null,Zl=Fi[--Mi],Fi[Mi]=null,Gl=Fi[--Mi],Fi[Mi]=null}var pi=null,hi=null,Kr=!1,Da=null;function zY(n,i){var d=Li(5,null,null,0);d.elementType="DELETED",d.stateNode=i,d.return=n,i=n.deletions,i===null?(n.deletions=[d],n.flags|=16):i.push(d)}function BY(n,i){switch(n.tag){case 5:var d=n.type;return i=i.nodeType!==1||d.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,pi=n,hi=kc(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,pi=n,hi=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(d=Of!==null?{id:Gl,overflow:Zl}:null,n.memoizedState={dehydrated:i,treeContext:d,retryLane:1073741824},d=Li(18,null,null,0),d.stateNode=i,d.return=n,n.child=d,pi=n,hi=null,!0):!1;default:return!1}}function Z4(n){return(n.mode&1)!==0&&(n.flags&128)===0}function X4(n){if(Kr){var i=hi;if(i){var d=i;if(!BY(n,i)){if(Z4(n))throw Error(o(418));i=kc(d.nextSibling);var m=pi;i&&BY(n,i)?zY(m,d):(n.flags=n.flags&-4097|2,Kr=!1,pi=n)}}else{if(Z4(n))throw Error(o(418));n.flags=n.flags&-4097|2,Kr=!1,pi=n}}}function RY(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;pi=n}function PP(n){if(n!==pi)return!1;if(!Kr)return RY(n),Kr=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!V4(n.type,n.memoizedProps)),i&&(i=hi)){if(Z4(n))throw NY(),Error(o(418));for(;i;)zY(n,i),i=kc(i.nextSibling)}if(RY(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"){if(i===0){hi=kc(n.nextSibling);break e}i--}else d!=="$"&&d!=="$!"&&d!=="$?"||i++}n=n.nextSibling}hi=null}}else hi=pi?kc(n.stateNode.nextSibling):null;return!0}function NY(){for(var n=hi;n;)n=kc(n.nextSibling)}function tm(){hi=pi=null,Kr=!1}function Y4(n){Da===null?Da=[n]:Da.push(n)}var $ce=F.ReactCurrentBatchConfig;function za(n,i){if(n&&n.defaultProps){i=W({},i),n=n.defaultProps;for(var d in n)i[d]===void 0&&(i[d]=n[d]);return i}return i}var CP=xc(null),IP=null,rm=null,Q4=null;function J4(){Q4=rm=IP=null}function e6(n){var i=CP.current;Hr(CP),n._currentValue=i}function t6(n,i,d){for(;n!==null;){var m=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),n===d)break;n=n.return}}function nm(n,i){IP=n,Q4=rm=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Go=!0),n.firstContext=null)}function Ui(n){var i=n._currentValue;if(Q4!==n)if(n={context:n,memoizedValue:i,next:null},rm===null){if(IP===null)throw Error(o(308));rm=n,IP.dependencies={lanes:0,firstContext:n}}else rm=rm.next=n;return i}var Tf=null;function r6(n){Tf===null?Tf=[n]:Tf.push(n)}function FY(n,i,d,m){var P=i.interleaved;return P===null?(d.next=d,r6(i)):(d.next=P.next,P.next=d),i.interleaved=d,Xl(n,m)}function Xl(n,i){n.lanes|=i;var d=n.alternate;for(d!==null&&(d.lanes|=i),d=n,n=n.return;n!==null;)n.childLanes|=i,d=n.alternate,d!==null&&(d.childLanes|=i),d=n,n=n.return;return d.tag===3?d.stateNode:null}var Pc=!1;function n6(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MY(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Yl(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Cc(n,i,d){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,dr&2){var P=m.pending;return P===null?i.next=i:(i.next=P.next,P.next=i),m.pending=i,Xl(n,d)}return P=m.interleaved,P===null?(i.next=i,r6(m)):(i.next=P.next,P.next=i),m.interleaved=i,Xl(n,d)}function OP(n,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194240)!==0)){var m=i.lanes;m&=n.pendingLanes,d|=m,i.lanes=d,b4(n,d)}}function UY(n,i){var d=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var P=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var H={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?P=T=H:T=T.next=H,d=d.next}while(d!==null);T===null?P=T=i:T=T.next=i}else P=T=i;d={baseState:m.baseState,firstBaseUpdate:P,lastBaseUpdate:T,shared:m.shared,effects:m.effects},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=i:n.next=i,d.lastBaseUpdate=i}function jP(n,i,d,m){var P=n.updateQueue;Pc=!1;var T=P.firstBaseUpdate,H=P.lastBaseUpdate,ie=P.shared.pending;if(ie!==null){P.shared.pending=null;var ge=ie,Me=ge.next;ge.next=null,H===null?T=Me:H.next=Me,H=ge;var ot=n.alternate;ot!==null&&(ot=ot.updateQueue,ie=ot.lastBaseUpdate,ie!==H&&(ie===null?ot.firstBaseUpdate=Me:ie.next=Me,ot.lastBaseUpdate=ge))}if(T!==null){var lt=P.baseState;H=0,ot=Me=ge=null,ie=T;do{var tt=ie.lane,_t=ie.eventTime;if((m&tt)===tt){ot!==null&&(ot=ot.next={eventTime:_t,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var Ot=n,Tt=ie;switch(tt=i,_t=d,Tt.tag){case 1:if(Ot=Tt.payload,typeof Ot=="function"){lt=Ot.call(_t,lt,tt);break e}lt=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Tt.payload,tt=typeof Ot=="function"?Ot.call(_t,lt,tt):Ot,tt==null)break e;lt=W({},lt,tt);break e;case 2:Pc=!0}}ie.callback!==null&&ie.lane!==0&&(n.flags|=64,tt=P.effects,tt===null?P.effects=[ie]:tt.push(ie))}else _t={eventTime:_t,lane:tt,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},ot===null?(Me=ot=_t,ge=lt):ot=ot.next=_t,H|=tt;if(ie=ie.next,ie===null){if(ie=P.shared.pending,ie===null)break;tt=ie,ie=tt.next,tt.next=null,P.lastBaseUpdate=tt,P.shared.pending=null}}while(!0);if(ot===null&&(ge=lt),P.baseState=ge,P.firstBaseUpdate=Me,P.lastBaseUpdate=ot,i=P.shared.interleaved,i!==null){P=i;do H|=P.lane,P=P.next;while(P!==i)}else T===null&&(P.shared.lanes=0);zf|=H,n.lanes=H,n.memoizedState=lt}}function VY(n,i,d){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var m=n[i],P=m.callback;if(P!==null){if(m.callback=null,m=d,typeof P!="function")throw Error(o(191,P));P.call(m)}}}var HY=new t.Component().refs;function o6(n,i,d,m){i=n.memoizedState,d=d(m,i),d=d==null?i:W({},i,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var TP={isMounted:function(n){return(n=n._reactInternals)?Pf(n)===n:!1},enqueueSetState:function(n,i,d){n=n._reactInternals;var m=jo(),P=Tc(n),T=Yl(m,P);T.payload=i,d!=null&&(T.callback=d),i=Cc(n,T,P),i!==null&&(Na(i,n,P,m),OP(i,n,P))},enqueueReplaceState:function(n,i,d){n=n._reactInternals;var m=jo(),P=Tc(n),T=Yl(m,P);T.tag=1,T.payload=i,d!=null&&(T.callback=d),i=Cc(n,T,P),i!==null&&(Na(i,n,P,m),OP(i,n,P))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var d=jo(),m=Tc(n),P=Yl(d,m);P.tag=2,i!=null&&(P.callback=i),i=Cc(n,P,m),i!==null&&(Na(i,n,m,d),OP(i,n,m))}};function LY(n,i,d,m,P,T,H){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,T,H):i.prototype&&i.prototype.isPureReactComponent?!mb(d,m)||!mb(P,T):!0}function KY(n,i,d){var m=!1,P=Sc,T=i.contextType;return typeof T=="object"&&T!==null?T=Ui(T):(P=$o(i)?If:so.current,m=i.contextTypes,T=(m=m!=null)?Qg(n,P):Sc),i=new i(d,T),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=TP,n.stateNode=i,i._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=P,n.__reactInternalMemoizedMaskedChildContext=T),i}function WY(n,i,d,m){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,m),i.state!==n&&TP.enqueueReplaceState(i,i.state,null)}function i6(n,i,d,m){var P=n.stateNode;P.props=d,P.state=n.memoizedState,P.refs=HY,n6(n);var T=i.contextType;typeof T=="object"&&T!==null?P.context=Ui(T):(T=$o(i)?If:so.current,P.context=Qg(n,T)),P.state=n.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(o6(n,i,T,d),P.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(i=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),i!==P.state&&TP.enqueueReplaceState(P,P.state,null),jP(n,d,P,m),P.state=n.memoizedState),typeof P.componentDidMount=="function"&&(n.flags|=4194308)}function xb(n,i,d){if(n=d.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(o(309));var m=d.stateNode}if(!m)throw Error(o(147,n));var P=m,T=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===T?i.ref:(i=function(H){var ie=P.refs;ie===HY&&(ie=P.refs={}),H===null?delete ie[T]:ie[T]=H},i._stringRef=T,i)}if(typeof n!="string")throw Error(o(284));if(!d._owner)throw Error(o(290,n))}return n}function AP(n,i){throw n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function qY(n){var i=n._init;return i(n._payload)}function $Y(n){function i(je,we){if(n){var De=je.deletions;De===null?(je.deletions=[we],je.flags|=16):De.push(we)}}function d(je,we){if(!n)return null;for(;we!==null;)i(je,we),we=we.sibling;return null}function m(je,we){for(je=new Map;we!==null;)we.key!==null?je.set(we.key,we):je.set(we.index,we),we=we.sibling;return je}function P(je,we){return je=Dc(je,we),je.index=0,je.sibling=null,je}function T(je,we,De){return je.index=De,n?(De=je.alternate,De!==null?(De=De.index,De<we?(je.flags|=2,we):De):(je.flags|=2,we)):(je.flags|=1048576,we)}function H(je){return n&&je.alternate===null&&(je.flags|=2),je}function ie(je,we,De,ft){return we===null||we.tag!==6?(we=V6(De,je.mode,ft),we.return=je,we):(we=P(we,De),we.return=je,we)}function ge(je,we,De,ft){var At=De.type;return At===se?ot(je,we,De.props.children,ft,De.key):we!==null&&(we.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===le&&qY(At)===we.type)?(ft=P(we,De.props),ft.ref=xb(je,we,De),ft.return=je,ft):(ft=YP(De.type,De.key,De.props,null,je.mode,ft),ft.ref=xb(je,we,De),ft.return=je,ft)}function Me(je,we,De,ft){return we===null||we.tag!==4||we.stateNode.containerInfo!==De.containerInfo||we.stateNode.implementation!==De.implementation?(we=H6(De,je.mode,ft),we.return=je,we):(we=P(we,De.children||[]),we.return=je,we)}function ot(je,we,De,ft,At){return we===null||we.tag!==7?(we=Ff(De,je.mode,ft,At),we.return=je,we):(we=P(we,De),we.return=je,we)}function lt(je,we,De){if(typeof we=="string"&&we!==""||typeof we=="number")return we=V6(""+we,je.mode,De),we.return=je,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case L:return De=YP(we.type,we.key,we.props,null,je.mode,De),De.ref=xb(je,null,we),De.return=je,De;case te:return we=H6(we,je.mode,De),we.return=je,we;case le:var ft=we._init;return lt(je,ft(we._payload),De)}if(Ge(we)||Ke(we))return we=Ff(we,je.mode,De,null),we.return=je,we;AP(je,we)}return null}function tt(je,we,De,ft){var At=we!==null?we.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return At!==null?null:ie(je,we,""+De,ft);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case L:return De.key===At?ge(je,we,De,ft):null;case te:return De.key===At?Me(je,we,De,ft):null;case le:return At=De._init,tt(je,we,At(De._payload),ft)}if(Ge(De)||Ke(De))return At!==null?null:ot(je,we,De,ft,null);AP(je,De)}return null}function _t(je,we,De,ft,At){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return je=je.get(De)||null,ie(we,je,""+ft,At);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case L:return je=je.get(ft.key===null?De:ft.key)||null,ge(we,je,ft,At);case te:return je=je.get(ft.key===null?De:ft.key)||null,Me(we,je,ft,At);case le:var Mt=ft._init;return _t(je,we,De,Mt(ft._payload),At)}if(Ge(ft)||Ke(ft))return je=je.get(De)||null,ot(we,je,ft,At,null);AP(we,ft)}return null}function Ot(je,we,De,ft){for(var At=null,Mt=null,Ut=we,$t=we=0,zn=null;Ut!==null&&$t<De.length;$t++){Ut.index>$t?(zn=Ut,Ut=null):zn=Ut.sibling;var hr=tt(je,Ut,De[$t],ft);if(hr===null){Ut===null&&(Ut=zn);break}n&&Ut&&hr.alternate===null&&i(je,Ut),we=T(hr,we,$t),Mt===null?At=hr:Mt.sibling=hr,Mt=hr,Ut=zn}if($t===De.length)return d(je,Ut),Kr&&jf(je,$t),At;if(Ut===null){for(;$t<De.length;$t++)Ut=lt(je,De[$t],ft),Ut!==null&&(we=T(Ut,we,$t),Mt===null?At=Ut:Mt.sibling=Ut,Mt=Ut);return Kr&&jf(je,$t),At}for(Ut=m(je,Ut);$t<De.length;$t++)zn=_t(Ut,je,$t,De[$t],ft),zn!==null&&(n&&zn.alternate!==null&&Ut.delete(zn.key===null?$t:zn.key),we=T(zn,we,$t),Mt===null?At=zn:Mt.sibling=zn,Mt=zn);return n&&Ut.forEach(function(zc){return i(je,zc)}),Kr&&jf(je,$t),At}function Tt(je,we,De,ft){var At=Ke(De);if(typeof At!="function")throw Error(o(150));if(De=At.call(De),De==null)throw Error(o(151));for(var Mt=At=null,Ut=we,$t=we=0,zn=null,hr=De.next();Ut!==null&&!hr.done;$t++,hr=De.next()){Ut.index>$t?(zn=Ut,Ut=null):zn=Ut.sibling;var zc=tt(je,Ut,hr.value,ft);if(zc===null){Ut===null&&(Ut=zn);break}n&&Ut&&zc.alternate===null&&i(je,Ut),we=T(zc,we,$t),Mt===null?At=zc:Mt.sibling=zc,Mt=zc,Ut=zn}if(hr.done)return d(je,Ut),Kr&&jf(je,$t),At;if(Ut===null){for(;!hr.done;$t++,hr=De.next())hr=lt(je,hr.value,ft),hr!==null&&(we=T(hr,we,$t),Mt===null?At=hr:Mt.sibling=hr,Mt=hr);return Kr&&jf(je,$t),At}for(Ut=m(je,Ut);!hr.done;$t++,hr=De.next())hr=_t(Ut,je,$t,hr.value,ft),hr!==null&&(n&&hr.alternate!==null&&Ut.delete(hr.key===null?$t:hr.key),we=T(hr,we,$t),Mt===null?At=hr:Mt.sibling=hr,Mt=hr);return n&&Ut.forEach(function(Pde){return i(je,Pde)}),Kr&&jf(je,$t),At}function ln(je,we,De,ft){if(typeof De=="object"&&De!==null&&De.type===se&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case L:e:{for(var At=De.key,Mt=we;Mt!==null;){if(Mt.key===At){if(At=De.type,At===se){if(Mt.tag===7){d(je,Mt.sibling),we=P(Mt,De.props.children),we.return=je,je=we;break e}}else if(Mt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===le&&qY(At)===Mt.type){d(je,Mt.sibling),we=P(Mt,De.props),we.ref=xb(je,Mt,De),we.return=je,je=we;break e}d(je,Mt);break}else i(je,Mt);Mt=Mt.sibling}De.type===se?(we=Ff(De.props.children,je.mode,ft,De.key),we.return=je,je=we):(ft=YP(De.type,De.key,De.props,null,je.mode,ft),ft.ref=xb(je,we,De),ft.return=je,je=ft)}return H(je);case te:e:{for(Mt=De.key;we!==null;){if(we.key===Mt)if(we.tag===4&&we.stateNode.containerInfo===De.containerInfo&&we.stateNode.implementation===De.implementation){d(je,we.sibling),we=P(we,De.children||[]),we.return=je,je=we;break e}else{d(je,we);break}else i(je,we);we=we.sibling}we=H6(De,je.mode,ft),we.return=je,je=we}return H(je);case le:return Mt=De._init,ln(je,we,Mt(De._payload),ft)}if(Ge(De))return Ot(je,we,De,ft);if(Ke(De))return Tt(je,we,De,ft);AP(je,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,we!==null&&we.tag===6?(d(je,we.sibling),we=P(we,De),we.return=je,je=we):(d(je,we),we=V6(De,je.mode,ft),we.return=je,je=we),H(je)):d(je,we)}return ln}var om=$Y(!0),GY=$Y(!1),Sb={},js=xc(Sb),Eb=xc(Sb),Pb=xc(Sb);function Af(n){if(n===Sb)throw Error(o(174));return n}function a6(n,i){switch(zr(Pb,i),zr(Eb,n),zr(js,Sb),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:qt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=qt(i,n)}Hr(js),zr(js,i)}function im(){Hr(js),Hr(Eb),Hr(Pb)}function ZY(n){Af(Pb.current);var i=Af(js.current),d=qt(i,n.type);i!==d&&(zr(Eb,n),zr(js,d))}function s6(n){Eb.current===n&&(Hr(js),Hr(Eb))}var Gr=xc(0);function DP(n){for(var i=n;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var l6=[];function u6(){for(var n=0;n<l6.length;n++)l6[n]._workInProgressVersionPrimary=null;l6.length=0}var zP=F.ReactCurrentDispatcher,c6=F.ReactCurrentBatchConfig,Df=0,Zr=null,Sn=null,An=null,BP=!1,Cb=!1,Ib=0,Gce=0;function lo(){throw Error(o(321))}function d6(n,i){if(i===null)return!1;for(var d=0;d<i.length&&d<n.length;d++)if(!Aa(n[d],i[d]))return!1;return!0}function f6(n,i,d,m,P,T){if(Df=T,Zr=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,zP.current=n===null||n.memoizedState===null?Qce:Jce,n=d(m,P),Cb){T=0;do{if(Cb=!1,Ib=0,25<=T)throw Error(o(301));T+=1,An=Sn=null,i.updateQueue=null,zP.current=ede,n=d(m,P)}while(Cb)}if(zP.current=FP,i=Sn!==null&&Sn.next!==null,Df=0,An=Sn=Zr=null,BP=!1,i)throw Error(o(300));return n}function p6(){var n=Ib!==0;return Ib=0,n}function Ts(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Zr.memoizedState=An=n:An=An.next=n,An}function Vi(){if(Sn===null){var n=Zr.alternate;n=n!==null?n.memoizedState:null}else n=Sn.next;var i=An===null?Zr.memoizedState:An.next;if(i!==null)An=i,Sn=n;else{if(n===null)throw Error(o(310));Sn=n,n={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},An===null?Zr.memoizedState=An=n:An=An.next=n}return An}function Ob(n,i){return typeof i=="function"?i(n):i}function h6(n){var i=Vi(),d=i.queue;if(d===null)throw Error(o(311));d.lastRenderedReducer=n;var m=Sn,P=m.baseQueue,T=d.pending;if(T!==null){if(P!==null){var H=P.next;P.next=T.next,T.next=H}m.baseQueue=P=T,d.pending=null}if(P!==null){T=P.next,m=m.baseState;var ie=H=null,ge=null,Me=T;do{var ot=Me.lane;if((Df&ot)===ot)ge!==null&&(ge=ge.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),m=Me.hasEagerState?Me.eagerState:n(m,Me.action);else{var lt={lane:ot,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};ge===null?(ie=ge=lt,H=m):ge=ge.next=lt,Zr.lanes|=ot,zf|=ot}Me=Me.next}while(Me!==null&&Me!==T);ge===null?H=m:ge.next=ie,Aa(m,i.memoizedState)||(Go=!0),i.memoizedState=m,i.baseState=H,i.baseQueue=ge,d.lastRenderedState=m}if(n=d.interleaved,n!==null){P=n;do T=P.lane,Zr.lanes|=T,zf|=T,P=P.next;while(P!==n)}else P===null&&(d.lanes=0);return[i.memoizedState,d.dispatch]}function g6(n){var i=Vi(),d=i.queue;if(d===null)throw Error(o(311));d.lastRenderedReducer=n;var m=d.dispatch,P=d.pending,T=i.memoizedState;if(P!==null){d.pending=null;var H=P=P.next;do T=n(T,H.action),H=H.next;while(H!==P);Aa(T,i.memoizedState)||(Go=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),d.lastRenderedState=T}return[T,m]}function XY(){}function YY(n,i){var d=Zr,m=Vi(),P=i(),T=!Aa(m.memoizedState,P);if(T&&(m.memoizedState=P,Go=!0),m=m.queue,m6(eQ.bind(null,d,m,n),[n]),m.getSnapshot!==i||T||An!==null&&An.memoizedState.tag&1){if(d.flags|=2048,jb(9,JY.bind(null,d,m,P,i),void 0,null),Dn===null)throw Error(o(349));Df&30||QY(d,i,P)}return P}function QY(n,i,d){n.flags|=16384,n={getSnapshot:i,value:d},i=Zr.updateQueue,i===null?(i={lastEffect:null,stores:null},Zr.updateQueue=i,i.stores=[n]):(d=i.stores,d===null?i.stores=[n]:d.push(n))}function JY(n,i,d,m){i.value=d,i.getSnapshot=m,tQ(i)&&rQ(n)}function eQ(n,i,d){return d(function(){tQ(i)&&rQ(n)})}function tQ(n){var i=n.getSnapshot;n=n.value;try{var d=i();return!Aa(n,d)}catch{return!0}}function rQ(n){var i=Xl(n,1);i!==null&&Na(i,n,1,-1)}function nQ(n){var i=Ts();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ob,lastRenderedState:n},i.queue=n,n=n.dispatch=Yce.bind(null,Zr,n),[i.memoizedState,n]}function jb(n,i,d,m){return n={tag:n,create:i,destroy:d,deps:m,next:null},i=Zr.updateQueue,i===null?(i={lastEffect:null,stores:null},Zr.updateQueue=i,i.lastEffect=n.next=n):(d=i.lastEffect,d===null?i.lastEffect=n.next=n:(m=d.next,d.next=n,n.next=m,i.lastEffect=n)),n}function oQ(){return Vi().memoizedState}function RP(n,i,d,m){var P=Ts();Zr.flags|=n,P.memoizedState=jb(1|i,d,void 0,m===void 0?null:m)}function NP(n,i,d,m){var P=Vi();m=m===void 0?null:m;var T=void 0;if(Sn!==null){var H=Sn.memoizedState;if(T=H.destroy,m!==null&&d6(m,H.deps)){P.memoizedState=jb(i,d,T,m);return}}Zr.flags|=n,P.memoizedState=jb(1|i,d,T,m)}function iQ(n,i){return RP(8390656,8,n,i)}function m6(n,i){return NP(2048,8,n,i)}function aQ(n,i){return NP(4,2,n,i)}function sQ(n,i){return NP(4,4,n,i)}function lQ(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function uQ(n,i,d){return d=d!=null?d.concat([n]):null,NP(4,4,lQ.bind(null,i,n),d)}function v6(){}function cQ(n,i){var d=Vi();i=i===void 0?null:i;var m=d.memoizedState;return m!==null&&i!==null&&d6(i,m[1])?m[0]:(d.memoizedState=[n,i],n)}function dQ(n,i){var d=Vi();i=i===void 0?null:i;var m=d.memoizedState;return m!==null&&i!==null&&d6(i,m[1])?m[0]:(n=n(),d.memoizedState=[n,i],n)}function fQ(n,i,d){return Df&21?(Aa(d,i)||(d=NX(),Zr.lanes|=d,zf|=d,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Go=!0),n.memoizedState=d)}function Zce(n,i){var d=kr;kr=d!==0&&4>d?d:4,n(!0);var m=c6.transition;c6.transition={};try{n(!1),i()}finally{kr=d,c6.transition=m}}function pQ(){return Vi().memoizedState}function Xce(n,i,d){var m=Tc(n);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},hQ(n))gQ(i,d);else if(d=FY(n,i,d,m),d!==null){var P=jo();Na(d,n,m,P),mQ(d,i,m)}}function Yce(n,i,d){var m=Tc(n),P={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(hQ(n))gQ(i,P);else{var T=n.alternate;if(n.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var H=i.lastRenderedState,ie=T(H,d);if(P.hasEagerState=!0,P.eagerState=ie,Aa(ie,H)){var ge=i.interleaved;ge===null?(P.next=P,r6(i)):(P.next=ge.next,ge.next=P),i.interleaved=P;return}}catch{}finally{}d=FY(n,i,P,m),d!==null&&(P=jo(),Na(d,n,m,P),mQ(d,i,m))}}function hQ(n){var i=n.alternate;return n===Zr||i!==null&&i===Zr}function gQ(n,i){Cb=BP=!0;var d=n.pending;d===null?i.next=i:(i.next=d.next,d.next=i),n.pending=i}function mQ(n,i,d){if(d&4194240){var m=i.lanes;m&=n.pendingLanes,d|=m,i.lanes=d,b4(n,d)}}var FP={readContext:Ui,useCallback:lo,useContext:lo,useEffect:lo,useImperativeHandle:lo,useInsertionEffect:lo,useLayoutEffect:lo,useMemo:lo,useReducer:lo,useRef:lo,useState:lo,useDebugValue:lo,useDeferredValue:lo,useTransition:lo,useMutableSource:lo,useSyncExternalStore:lo,useId:lo,unstable_isNewReconciler:!1},Qce={readContext:Ui,useCallback:function(n,i){return Ts().memoizedState=[n,i===void 0?null:i],n},useContext:Ui,useEffect:iQ,useImperativeHandle:function(n,i,d){return d=d!=null?d.concat([n]):null,RP(4194308,4,lQ.bind(null,i,n),d)},useLayoutEffect:function(n,i){return RP(4194308,4,n,i)},useInsertionEffect:function(n,i){return RP(4,2,n,i)},useMemo:function(n,i){var d=Ts();return i=i===void 0?null:i,n=n(),d.memoizedState=[n,i],n},useReducer:function(n,i,d){var m=Ts();return i=d!==void 0?d(i):i,m.memoizedState=m.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},m.queue=n,n=n.dispatch=Xce.bind(null,Zr,n),[m.memoizedState,n]},useRef:function(n){var i=Ts();return n={current:n},i.memoizedState=n},useState:nQ,useDebugValue:v6,useDeferredValue:function(n){return Ts().memoizedState=n},useTransition:function(){var n=nQ(!1),i=n[0];return n=Zce.bind(null,n[1]),Ts().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,d){var m=Zr,P=Ts();if(Kr){if(d===void 0)throw Error(o(407));d=d()}else{if(d=i(),Dn===null)throw Error(o(349));Df&30||QY(m,i,d)}P.memoizedState=d;var T={value:d,getSnapshot:i};return P.queue=T,iQ(eQ.bind(null,m,T,n),[n]),m.flags|=2048,jb(9,JY.bind(null,m,T,d,i),void 0,null),d},useId:function(){var n=Ts(),i=Dn.identifierPrefix;if(Kr){var d=Zl,m=Gl;d=(m&~(1<<32-Ta(m)-1)).toString(32)+d,i=":"+i+"R"+d,d=Ib++,0<d&&(i+="H"+d.toString(32)),i+=":"}else d=Gce++,i=":"+i+"r"+d.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},Jce={readContext:Ui,useCallback:cQ,useContext:Ui,useEffect:m6,useImperativeHandle:uQ,useInsertionEffect:aQ,useLayoutEffect:sQ,useMemo:dQ,useReducer:h6,useRef:oQ,useState:function(){return h6(Ob)},useDebugValue:v6,useDeferredValue:function(n){var i=Vi();return fQ(i,Sn.memoizedState,n)},useTransition:function(){var n=h6(Ob)[0],i=Vi().memoizedState;return[n,i]},useMutableSource:XY,useSyncExternalStore:YY,useId:pQ,unstable_isNewReconciler:!1},ede={readContext:Ui,useCallback:cQ,useContext:Ui,useEffect:m6,useImperativeHandle:uQ,useInsertionEffect:aQ,useLayoutEffect:sQ,useMemo:dQ,useReducer:g6,useRef:oQ,useState:function(){return g6(Ob)},useDebugValue:v6,useDeferredValue:function(n){var i=Vi();return Sn===null?i.memoizedState=n:fQ(i,Sn.memoizedState,n)},useTransition:function(){var n=g6(Ob)[0],i=Vi().memoizedState;return[n,i]},useMutableSource:XY,useSyncExternalStore:YY,useId:pQ,unstable_isNewReconciler:!1};function am(n,i){try{var d="",m=i;do d+=ke(m),m=m.return;while(m);var P=d}catch(T){P=`
Error generating stack: `+T.message+`
`+T.stack}return{value:n,source:i,stack:P,digest:null}}function y6(n,i,d){return{value:n,source:null,stack:d??null,digest:i??null}}function b6(n,i){try{console.error(i.value)}catch(d){setTimeout(function(){throw d})}}var tde=typeof WeakMap=="function"?WeakMap:Map;function vQ(n,i,d){d=Yl(-1,d),d.tag=3,d.payload={element:null};var m=i.value;return d.callback=function(){WP||(WP=!0,D6=m),b6(n,i)},d}function yQ(n,i,d){d=Yl(-1,d),d.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var P=i.value;d.payload=function(){return m(P)},d.callback=function(){b6(n,i)}}var T=n.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){b6(n,i),typeof m!="function"&&(Oc===null?Oc=new Set([this]):Oc.add(this));var H=i.stack;this.componentDidCatch(i.value,{componentStack:H!==null?H:""})}),d}function bQ(n,i,d){var m=n.pingCache;if(m===null){m=n.pingCache=new tde;var P=new Set;m.set(i,P)}else P=m.get(i),P===void 0&&(P=new Set,m.set(i,P));P.has(d)||(P.add(d),n=gde.bind(null,n,i,d),i.then(n,n))}function wQ(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function _Q(n,i,d,m,P){return n.mode&1?(n.flags|=65536,n.lanes=P,n):(n===i?n.flags|=65536:(n.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(i=Yl(-1,1),i.tag=2,Cc(d,i,1))),d.lanes|=1),n)}var rde=F.ReactCurrentOwner,Go=!1;function Oo(n,i,d,m){i.child=n===null?GY(i,null,d,m):om(i,n.child,d,m)}function kQ(n,i,d,m,P){d=d.render;var T=i.ref;return nm(i,P),m=f6(n,i,d,m,T,P),d=p6(),n!==null&&!Go?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~P,Ql(n,i,P)):(Kr&&d&&$4(i),i.flags|=1,Oo(n,i,m,P),i.child)}function xQ(n,i,d,m,P){if(n===null){var T=d.type;return typeof T=="function"&&!U6(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(i.tag=15,i.type=T,SQ(n,i,T,m,P)):(n=YP(d.type,null,m,i,i.mode,P),n.ref=i.ref,n.return=i,i.child=n)}if(T=n.child,!(n.lanes&P)){var H=T.memoizedProps;if(d=d.compare,d=d!==null?d:mb,d(H,m)&&n.ref===i.ref)return Ql(n,i,P)}return i.flags|=1,n=Dc(T,m),n.ref=i.ref,n.return=i,i.child=n}function SQ(n,i,d,m,P){if(n!==null){var T=n.memoizedProps;if(mb(T,m)&&n.ref===i.ref)if(Go=!1,i.pendingProps=m=T,(n.lanes&P)!==0)n.flags&131072&&(Go=!0);else return i.lanes=n.lanes,Ql(n,i,P)}return w6(n,i,d,m,P)}function EQ(n,i,d){var m=i.pendingProps,P=m.children,T=n!==null?n.memoizedState:null;if(m.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(lm,gi),gi|=d;else{if(!(d&1073741824))return n=T!==null?T.baseLanes|d:d,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,zr(lm,gi),gi|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=T!==null?T.baseLanes:d,zr(lm,gi),gi|=m}else T!==null?(m=T.baseLanes|d,i.memoizedState=null):m=d,zr(lm,gi),gi|=m;return Oo(n,i,P,d),i.child}function PQ(n,i){var d=i.ref;(n===null&&d!==null||n!==null&&n.ref!==d)&&(i.flags|=512,i.flags|=2097152)}function w6(n,i,d,m,P){var T=$o(d)?If:so.current;return T=Qg(i,T),nm(i,P),d=f6(n,i,d,m,T,P),m=p6(),n!==null&&!Go?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~P,Ql(n,i,P)):(Kr&&m&&$4(i),i.flags|=1,Oo(n,i,d,P),i.child)}function CQ(n,i,d,m,P){if($o(d)){var T=!0;kP(i)}else T=!1;if(nm(i,P),i.stateNode===null)UP(n,i),KY(i,d,m),i6(i,d,m,P),m=!0;else if(n===null){var H=i.stateNode,ie=i.memoizedProps;H.props=ie;var ge=H.context,Me=d.contextType;typeof Me=="object"&&Me!==null?Me=Ui(Me):(Me=$o(d)?If:so.current,Me=Qg(i,Me));var ot=d.getDerivedStateFromProps,lt=typeof ot=="function"||typeof H.getSnapshotBeforeUpdate=="function";lt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ie!==m||ge!==Me)&&WY(i,H,m,Me),Pc=!1;var tt=i.memoizedState;H.state=tt,jP(i,m,H,P),ge=i.memoizedState,ie!==m||tt!==ge||qo.current||Pc?(typeof ot=="function"&&(o6(i,d,ot,m),ge=i.memoizedState),(ie=Pc||LY(i,d,ie,m,tt,ge,Me))?(lt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(i.flags|=4194308)):(typeof H.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=ge),H.props=m,H.state=ge,H.context=Me,m=ie):(typeof H.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{H=i.stateNode,MY(n,i),ie=i.memoizedProps,Me=i.type===i.elementType?ie:za(i.type,ie),H.props=Me,lt=i.pendingProps,tt=H.context,ge=d.contextType,typeof ge=="object"&&ge!==null?ge=Ui(ge):(ge=$o(d)?If:so.current,ge=Qg(i,ge));var _t=d.getDerivedStateFromProps;(ot=typeof _t=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ie!==lt||tt!==ge)&&WY(i,H,m,ge),Pc=!1,tt=i.memoizedState,H.state=tt,jP(i,m,H,P);var Ot=i.memoizedState;ie!==lt||tt!==Ot||qo.current||Pc?(typeof _t=="function"&&(o6(i,d,_t,m),Ot=i.memoizedState),(Me=Pc||LY(i,d,Me,m,tt,Ot,ge)||!1)?(ot||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(m,Ot,ge),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(m,Ot,ge)),typeof H.componentDidUpdate=="function"&&(i.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof H.componentDidUpdate!="function"||ie===n.memoizedProps&&tt===n.memoizedState||(i.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ie===n.memoizedProps&&tt===n.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=Ot),H.props=m,H.state=Ot,H.context=ge,m=Me):(typeof H.componentDidUpdate!="function"||ie===n.memoizedProps&&tt===n.memoizedState||(i.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ie===n.memoizedProps&&tt===n.memoizedState||(i.flags|=1024),m=!1)}return _6(n,i,d,m,T,P)}function _6(n,i,d,m,P,T){PQ(n,i);var H=(i.flags&128)!==0;if(!m&&!H)return P&&TY(i,d,!1),Ql(n,i,T);m=i.stateNode,rde.current=i;var ie=H&&typeof d.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,n!==null&&H?(i.child=om(i,n.child,null,T),i.child=om(i,null,ie,T)):Oo(n,i,ie,T),i.memoizedState=m.state,P&&TY(i,d,!0),i.child}function IQ(n){var i=n.stateNode;i.pendingContext?OY(n,i.pendingContext,i.pendingContext!==i.context):i.context&&OY(n,i.context,!1),a6(n,i.containerInfo)}function OQ(n,i,d,m,P){return tm(),Y4(P),i.flags|=256,Oo(n,i,d,m),i.child}var k6={dehydrated:null,treeContext:null,retryLane:0};function x6(n){return{baseLanes:n,cachePool:null,transitions:null}}function jQ(n,i,d){var m=i.pendingProps,P=Gr.current,T=!1,H=(i.flags&128)!==0,ie;if((ie=H)||(ie=n!==null&&n.memoizedState===null?!1:(P&2)!==0),ie?(T=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(P|=1),zr(Gr,P&1),n===null)return X4(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(H=m.children,n=m.fallback,T?(m=i.mode,T=i.child,H={mode:"hidden",children:H},!(m&1)&&T!==null?(T.childLanes=0,T.pendingProps=H):T=QP(H,m,0,null),n=Ff(n,m,d,null),T.return=i,n.return=i,T.sibling=n,i.child=T,i.child.memoizedState=x6(d),i.memoizedState=k6,n):S6(i,H));if(P=n.memoizedState,P!==null&&(ie=P.dehydrated,ie!==null))return nde(n,i,H,m,ie,P,d);if(T){T=m.fallback,H=i.mode,P=n.child,ie=P.sibling;var ge={mode:"hidden",children:m.children};return!(H&1)&&i.child!==P?(m=i.child,m.childLanes=0,m.pendingProps=ge,i.deletions=null):(m=Dc(P,ge),m.subtreeFlags=P.subtreeFlags&14680064),ie!==null?T=Dc(ie,T):(T=Ff(T,H,d,null),T.flags|=2),T.return=i,m.return=i,m.sibling=T,i.child=m,m=T,T=i.child,H=n.child.memoizedState,H=H===null?x6(d):{baseLanes:H.baseLanes|d,cachePool:null,transitions:H.transitions},T.memoizedState=H,T.childLanes=n.childLanes&~d,i.memoizedState=k6,m}return T=n.child,n=T.sibling,m=Dc(T,{mode:"visible",children:m.children}),!(i.mode&1)&&(m.lanes=d),m.return=i,m.sibling=null,n!==null&&(d=i.deletions,d===null?(i.deletions=[n],i.flags|=16):d.push(n)),i.child=m,i.memoizedState=null,m}function S6(n,i){return i=QP({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function MP(n,i,d,m){return m!==null&&Y4(m),om(i,n.child,null,d),n=S6(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function nde(n,i,d,m,P,T,H){if(d)return i.flags&256?(i.flags&=-257,m=y6(Error(o(422))),MP(n,i,H,m)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(T=m.fallback,P=i.mode,m=QP({mode:"visible",children:m.children},P,0,null),T=Ff(T,P,H,null),T.flags|=2,m.return=i,T.return=i,m.sibling=T,i.child=m,i.mode&1&&om(i,n.child,null,H),i.child.memoizedState=x6(H),i.memoizedState=k6,T);if(!(i.mode&1))return MP(n,i,H,null);if(P.data==="$!"){if(m=P.nextSibling&&P.nextSibling.dataset,m)var ie=m.dgst;return m=ie,T=Error(o(419)),m=y6(T,m,void 0),MP(n,i,H,m)}if(ie=(H&n.childLanes)!==0,Go||ie){if(m=Dn,m!==null){switch(H&-H){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=P&(m.suspendedLanes|H)?0:P,P!==0&&P!==T.retryLane&&(T.retryLane=P,Xl(n,P),Na(m,n,P,-1))}return M6(),m=y6(Error(o(421))),MP(n,i,H,m)}return P.data==="$?"?(i.flags|=128,i.child=n.child,i=mde.bind(null,n),P._reactRetry=i,null):(n=T.treeContext,hi=kc(P.nextSibling),pi=i,Kr=!0,Da=null,n!==null&&(Fi[Mi++]=Gl,Fi[Mi++]=Zl,Fi[Mi++]=Of,Gl=n.id,Zl=n.overflow,Of=i),i=S6(i,m.children),i.flags|=4096,i)}function TQ(n,i,d){n.lanes|=i;var m=n.alternate;m!==null&&(m.lanes|=i),t6(n.return,i,d)}function E6(n,i,d,m,P){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:P}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=d,T.tailMode=P)}function AQ(n,i,d){var m=i.pendingProps,P=m.revealOrder,T=m.tail;if(Oo(n,i,m.children,d),m=Gr.current,m&2)m=m&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&TQ(n,d,i);else if(n.tag===19)TQ(n,d,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(zr(Gr,m),!(i.mode&1))i.memoizedState=null;else switch(P){case"forwards":for(d=i.child,P=null;d!==null;)n=d.alternate,n!==null&&DP(n)===null&&(P=d),d=d.sibling;d=P,d===null?(P=i.child,i.child=null):(P=d.sibling,d.sibling=null),E6(i,!1,P,d,T);break;case"backwards":for(d=null,P=i.child,i.child=null;P!==null;){if(n=P.alternate,n!==null&&DP(n)===null){i.child=P;break}n=P.sibling,P.sibling=d,d=P,P=n}E6(i,!0,d,null,T);break;case"together":E6(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function UP(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Ql(n,i,d){if(n!==null&&(i.dependencies=n.dependencies),zf|=i.lanes,!(d&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,d=Dc(n,n.pendingProps),i.child=d,d.return=i;n.sibling!==null;)n=n.sibling,d=d.sibling=Dc(n,n.pendingProps),d.return=i;d.sibling=null}return i.child}function ode(n,i,d){switch(i.tag){case 3:IQ(i),tm();break;case 5:ZY(i);break;case 1:$o(i.type)&&kP(i);break;case 4:a6(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,P=i.memoizedProps.value;zr(CP,m._currentValue),m._currentValue=P;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(zr(Gr,Gr.current&1),i.flags|=128,null):d&i.child.childLanes?jQ(n,i,d):(zr(Gr,Gr.current&1),n=Ql(n,i,d),n!==null?n.sibling:null);zr(Gr,Gr.current&1);break;case 19:if(m=(d&i.childLanes)!==0,n.flags&128){if(m)return AQ(n,i,d);i.flags|=128}if(P=i.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),zr(Gr,Gr.current),m)break;return null;case 22:case 23:return i.lanes=0,EQ(n,i,d)}return Ql(n,i,d)}var DQ,P6,zQ,BQ;DQ=function(n,i){for(var d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break;for(;d.sibling===null;){if(d.return===null||d.return===i)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},P6=function(){},zQ=function(n,i,d,m){var P=n.memoizedProps;if(P!==m){n=i.stateNode,Af(js.current);var T=null;switch(d){case"input":P=Ne(n,P),m=Ne(n,m),T=[];break;case"select":P=W({},P,{value:void 0}),m=W({},m,{value:void 0}),T=[];break;case"textarea":P=et(n,P),m=et(n,m),T=[];break;default:typeof P.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=bP)}Ug(d,m);var H;d=null;for(Me in P)if(!m.hasOwnProperty(Me)&&P.hasOwnProperty(Me)&&P[Me]!=null)if(Me==="style"){var ie=P[Me];for(H in ie)ie.hasOwnProperty(H)&&(d||(d={}),d[H]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(s.hasOwnProperty(Me)?T||(T=[]):(T=T||[]).push(Me,null));for(Me in m){var ge=m[Me];if(ie=P!=null?P[Me]:void 0,m.hasOwnProperty(Me)&&ge!==ie&&(ge!=null||ie!=null))if(Me==="style")if(ie){for(H in ie)!ie.hasOwnProperty(H)||ge&&ge.hasOwnProperty(H)||(d||(d={}),d[H]="");for(H in ge)ge.hasOwnProperty(H)&&ie[H]!==ge[H]&&(d||(d={}),d[H]=ge[H])}else d||(T||(T=[]),T.push(Me,d)),d=ge;else Me==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ie=ie?ie.__html:void 0,ge!=null&&ie!==ge&&(T=T||[]).push(Me,ge)):Me==="children"?typeof ge!="string"&&typeof ge!="number"||(T=T||[]).push(Me,""+ge):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(s.hasOwnProperty(Me)?(ge!=null&&Me==="onScroll"&&Vr("scroll",n),T||ie===ge||(T=[])):(T=T||[]).push(Me,ge))}d&&(T=T||[]).push("style",d);var Me=T;(i.updateQueue=Me)&&(i.flags|=4)}},BQ=function(n,i,d,m){d!==m&&(i.flags|=4)};function Tb(n,i){if(!Kr)switch(n.tailMode){case"hidden":i=n.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function uo(n){var i=n.alternate!==null&&n.alternate.child===n.child,d=0,m=0;if(i)for(var P=n.child;P!==null;)d|=P.lanes|P.childLanes,m|=P.subtreeFlags&14680064,m|=P.flags&14680064,P.return=n,P=P.sibling;else for(P=n.child;P!==null;)d|=P.lanes|P.childLanes,m|=P.subtreeFlags,m|=P.flags,P.return=n,P=P.sibling;return n.subtreeFlags|=m,n.childLanes=d,i}function ide(n,i,d){var m=i.pendingProps;switch(G4(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return uo(i),null;case 1:return $o(i.type)&&_P(),uo(i),null;case 3:return m=i.stateNode,im(),Hr(qo),Hr(so),u6(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(PP(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Da!==null&&(R6(Da),Da=null))),P6(n,i),uo(i),null;case 5:s6(i);var P=Af(Pb.current);if(d=i.type,n!==null&&i.stateNode!=null)zQ(n,i,d,m,P),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(o(166));return uo(i),null}if(n=Af(js.current),PP(i)){m=i.stateNode,d=i.type;var T=i.memoizedProps;switch(m[Os]=i,m[_b]=T,n=(i.mode&1)!==0,d){case"dialog":Vr("cancel",m),Vr("close",m);break;case"iframe":case"object":case"embed":Vr("load",m);break;case"video":case"audio":for(P=0;P<yb.length;P++)Vr(yb[P],m);break;case"source":Vr("error",m);break;case"img":case"image":case"link":Vr("error",m),Vr("load",m);break;case"details":Vr("toggle",m);break;case"input":Be(m,T),Vr("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!T.multiple},Vr("invalid",m);break;case"textarea":$e(m,T),Vr("invalid",m)}Ug(d,T),P=null;for(var H in T)if(T.hasOwnProperty(H)){var ie=T[H];H==="children"?typeof ie=="string"?m.textContent!==ie&&(T.suppressHydrationWarning!==!0&&yP(m.textContent,ie,n),P=["children",ie]):typeof ie=="number"&&m.textContent!==""+ie&&(T.suppressHydrationWarning!==!0&&yP(m.textContent,ie,n),P=["children",""+ie]):s.hasOwnProperty(H)&&ie!=null&&H==="onScroll"&&Vr("scroll",m)}switch(d){case"input":zt(m),xe(m,T,!0);break;case"textarea":zt(m),Dt(m);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(m.onclick=bP)}m=P,i.updateQueue=m,m!==null&&(i.flags|=4)}else{H=P.nodeType===9?P:P.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=cr(d)),n==="http://www.w3.org/1999/xhtml"?d==="script"?(n=H.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=H.createElement(d,{is:m.is}):(n=H.createElement(d),d==="select"&&(H=n,m.multiple?H.multiple=!0:m.size&&(H.size=m.size))):n=H.createElementNS(n,d),n[Os]=i,n[_b]=m,DQ(n,i,!1,!1),i.stateNode=n;e:{switch(H=Jy(d,m),d){case"dialog":Vr("cancel",n),Vr("close",n),P=m;break;case"iframe":case"object":case"embed":Vr("load",n),P=m;break;case"video":case"audio":for(P=0;P<yb.length;P++)Vr(yb[P],n);P=m;break;case"source":Vr("error",n),P=m;break;case"img":case"image":case"link":Vr("error",n),Vr("load",n),P=m;break;case"details":Vr("toggle",n),P=m;break;case"input":Be(n,m),P=Ne(n,m),Vr("invalid",n);break;case"option":P=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},P=W({},m,{value:void 0}),Vr("invalid",n);break;case"textarea":$e(n,m),P=et(n,m),Vr("invalid",n);break;default:P=m}Ug(d,P),ie=P;for(T in ie)if(ie.hasOwnProperty(T)){var ge=ie[T];T==="style"?Mg(n,ge):T==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&gc(n,ge)):T==="children"?typeof ge=="string"?(d!=="textarea"||ge!=="")&&ao(n,ge):typeof ge=="number"&&ao(n,""+ge):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(s.hasOwnProperty(T)?ge!=null&&T==="onScroll"&&Vr("scroll",n):ge!=null&&M(n,T,ge,H))}switch(d){case"input":zt(n),xe(n,m,!1);break;case"textarea":zt(n),Dt(n);break;case"option":m.value!=null&&n.setAttribute("value",""+gt(m.value));break;case"select":n.multiple=!!m.multiple,T=m.value,T!=null?Oe(n,!!m.multiple,T,!1):m.defaultValue!=null&&Oe(n,!!m.multiple,m.defaultValue,!0);break;default:typeof P.onClick=="function"&&(n.onclick=bP)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return uo(i),null;case 6:if(n&&i.stateNode!=null)BQ(n,i,n.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(o(166));if(d=Af(Pb.current),Af(js.current),PP(i)){if(m=i.stateNode,d=i.memoizedProps,m[Os]=i,(T=m.nodeValue!==d)&&(n=pi,n!==null))switch(n.tag){case 3:yP(m.nodeValue,d,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&yP(m.nodeValue,d,(n.mode&1)!==0)}T&&(i.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Os]=i,i.stateNode=m}return uo(i),null;case 13:if(Hr(Gr),m=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Kr&&hi!==null&&i.mode&1&&!(i.flags&128))NY(),tm(),i.flags|=98560,T=!1;else if(T=PP(i),m!==null&&m.dehydrated!==null){if(n===null){if(!T)throw Error(o(318));if(T=i.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(o(317));T[Os]=i}else tm(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;uo(i),T=!1}else Da!==null&&(R6(Da),Da=null),T=!0;if(!T)return i.flags&65536?i:null}return i.flags&128?(i.lanes=d,i):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(i.child.flags|=8192,i.mode&1&&(n===null||Gr.current&1?En===0&&(En=3):M6())),i.updateQueue!==null&&(i.flags|=4),uo(i),null);case 4:return im(),P6(n,i),n===null&&bb(i.stateNode.containerInfo),uo(i),null;case 10:return e6(i.type._context),uo(i),null;case 17:return $o(i.type)&&_P(),uo(i),null;case 19:if(Hr(Gr),T=i.memoizedState,T===null)return uo(i),null;if(m=(i.flags&128)!==0,H=T.rendering,H===null)if(m)Tb(T,!1);else{if(En!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(H=DP(n),H!==null){for(i.flags|=128,Tb(T,!1),m=H.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=d,d=i.child;d!==null;)T=d,n=m,T.flags&=14680066,H=T.alternate,H===null?(T.childLanes=0,T.lanes=n,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=H.childLanes,T.lanes=H.lanes,T.child=H.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=H.memoizedProps,T.memoizedState=H.memoizedState,T.updateQueue=H.updateQueue,T.type=H.type,n=H.dependencies,T.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),d=d.sibling;return zr(Gr,Gr.current&1|2),i.child}n=n.sibling}T.tail!==null&&sn()>um&&(i.flags|=128,m=!0,Tb(T,!1),i.lanes=4194304)}else{if(!m)if(n=DP(H),n!==null){if(i.flags|=128,m=!0,d=n.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),Tb(T,!0),T.tail===null&&T.tailMode==="hidden"&&!H.alternate&&!Kr)return uo(i),null}else 2*sn()-T.renderingStartTime>um&&d!==1073741824&&(i.flags|=128,m=!0,Tb(T,!1),i.lanes=4194304);T.isBackwards?(H.sibling=i.child,i.child=H):(d=T.last,d!==null?d.sibling=H:i.child=H,T.last=H)}return T.tail!==null?(i=T.tail,T.rendering=i,T.tail=i.sibling,T.renderingStartTime=sn(),i.sibling=null,d=Gr.current,zr(Gr,m?d&1|2:d&1),i):(uo(i),null);case 22:case 23:return F6(),m=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(i.flags|=8192),m&&i.mode&1?gi&1073741824&&(uo(i),i.subtreeFlags&6&&(i.flags|=8192)):uo(i),null;case 24:return null;case 25:return null}throw Error(o(156,i.tag))}function ade(n,i){switch(G4(i),i.tag){case 1:return $o(i.type)&&_P(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return im(),Hr(qo),Hr(so),u6(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return s6(i),null;case 13:if(Hr(Gr),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));tm()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Hr(Gr),null;case 4:return im(),null;case 10:return e6(i.type._context),null;case 22:case 23:return F6(),null;case 24:return null;default:return null}}var VP=!1,co=!1,sde=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function sm(n,i){var d=n.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){tn(n,i,m)}else d.current=null}function RQ(n,i,d){try{d()}catch(m){tn(n,i,m)}}var NQ=!1;function lde(n,i){if(M4=oP,n=dY(),D4(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var P=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var H=0,ie=-1,ge=-1,Me=0,ot=0,lt=n,tt=null;t:for(;;){for(var _t;lt!==d||P!==0&&lt.nodeType!==3||(ie=H+P),lt!==T||m!==0&&lt.nodeType!==3||(ge=H+m),lt.nodeType===3&&(H+=lt.nodeValue.length),(_t=lt.firstChild)!==null;)tt=lt,lt=_t;for(;;){if(lt===n)break t;if(tt===d&&++Me===P&&(ie=H),tt===T&&++ot===m&&(ge=H),(_t=lt.nextSibling)!==null)break;lt=tt,tt=lt.parentNode}lt=_t}d=ie===-1||ge===-1?null:{start:ie,end:ge}}else d=null}d=d||{start:0,end:0}}else d=null;for(U4={focusedElem:n,selectionRange:d},oP=!1,Pt=i;Pt!==null;)if(i=Pt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Pt=n;else for(;Pt!==null;){i=Pt;try{var Ot=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ot!==null){var Tt=Ot.memoizedProps,ln=Ot.memoizedState,je=i.stateNode,we=je.getSnapshotBeforeUpdate(i.elementType===i.type?Tt:za(i.type,Tt),ln);je.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var De=i.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ft){tn(i,i.return,ft)}if(n=i.sibling,n!==null){n.return=i.return,Pt=n;break}Pt=i.return}return Ot=NQ,NQ=!1,Ot}function Ab(n,i,d){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var P=m=m.next;do{if((P.tag&n)===n){var T=P.destroy;P.destroy=void 0,T!==void 0&&RQ(i,d,T)}P=P.next}while(P!==m)}}function HP(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var d=i=i.next;do{if((d.tag&n)===n){var m=d.create;d.destroy=m()}d=d.next}while(d!==i)}}function C6(n){var i=n.ref;if(i!==null){var d=n.stateNode;switch(n.tag){case 5:n=d;break;default:n=d}typeof i=="function"?i(n):i.current=n}}function FQ(n){var i=n.alternate;i!==null&&(n.alternate=null,FQ(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Os],delete i[_b],delete i[K4],delete i[Kce],delete i[Wce])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function MQ(n){return n.tag===5||n.tag===3||n.tag===4}function UQ(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||MQ(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function I6(n,i,d){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?d.nodeType===8?d.parentNode.insertBefore(n,i):d.insertBefore(n,i):(d.nodeType===8?(i=d.parentNode,i.insertBefore(n,d)):(i=d,i.appendChild(n)),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=bP));else if(m!==4&&(n=n.child,n!==null))for(I6(n,i,d),n=n.sibling;n!==null;)I6(n,i,d),n=n.sibling}function O6(n,i,d){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?d.insertBefore(n,i):d.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(O6(n,i,d),n=n.sibling;n!==null;)O6(n,i,d),n=n.sibling}var Qn=null,Ba=!1;function Ic(n,i,d){for(d=d.child;d!==null;)VQ(n,i,d),d=d.sibling}function VQ(n,i,d){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(QE,d)}catch{}switch(d.tag){case 5:co||sm(d,i);case 6:var m=Qn,P=Ba;Qn=null,Ic(n,i,d),Qn=m,Ba=P,Qn!==null&&(Ba?(n=Qn,d=d.stateNode,n.nodeType===8?n.parentNode.removeChild(d):n.removeChild(d)):Qn.removeChild(d.stateNode));break;case 18:Qn!==null&&(Ba?(n=Qn,d=d.stateNode,n.nodeType===8?L4(n.parentNode,d):n.nodeType===1&&L4(n,d),cb(n)):L4(Qn,d.stateNode));break;case 4:m=Qn,P=Ba,Qn=d.stateNode.containerInfo,Ba=!0,Ic(n,i,d),Qn=m,Ba=P;break;case 0:case 11:case 14:case 15:if(!co&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){P=m=m.next;do{var T=P,H=T.destroy;T=T.tag,H!==void 0&&(T&2||T&4)&&RQ(d,i,H),P=P.next}while(P!==m)}Ic(n,i,d);break;case 1:if(!co&&(sm(d,i),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(ie){tn(d,i,ie)}Ic(n,i,d);break;case 21:Ic(n,i,d);break;case 22:d.mode&1?(co=(m=co)||d.memoizedState!==null,Ic(n,i,d),co=m):Ic(n,i,d);break;default:Ic(n,i,d)}}function HQ(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var d=n.stateNode;d===null&&(d=n.stateNode=new sde),i.forEach(function(m){var P=vde.bind(null,n,m);d.has(m)||(d.add(m),m.then(P,P))})}}function Ra(n,i){var d=i.deletions;if(d!==null)for(var m=0;m<d.length;m++){var P=d[m];try{var T=n,H=i,ie=H;e:for(;ie!==null;){switch(ie.tag){case 5:Qn=ie.stateNode,Ba=!1;break e;case 3:Qn=ie.stateNode.containerInfo,Ba=!0;break e;case 4:Qn=ie.stateNode.containerInfo,Ba=!0;break e}ie=ie.return}if(Qn===null)throw Error(o(160));VQ(T,H,P),Qn=null,Ba=!1;var ge=P.alternate;ge!==null&&(ge.return=null),P.return=null}catch(Me){tn(P,i,Me)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)LQ(i,n),i=i.sibling}function LQ(n,i){var d=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ra(i,n),As(n),m&4){try{Ab(3,n,n.return),HP(3,n)}catch(Tt){tn(n,n.return,Tt)}try{Ab(5,n,n.return)}catch(Tt){tn(n,n.return,Tt)}}break;case 1:Ra(i,n),As(n),m&512&&d!==null&&sm(d,d.return);break;case 5:if(Ra(i,n),As(n),m&512&&d!==null&&sm(d,d.return),n.flags&32){var P=n.stateNode;try{ao(P,"")}catch(Tt){tn(n,n.return,Tt)}}if(m&4&&(P=n.stateNode,P!=null)){var T=n.memoizedProps,H=d!==null?d.memoizedProps:T,ie=n.type,ge=n.updateQueue;if(n.updateQueue=null,ge!==null)try{ie==="input"&&T.type==="radio"&&T.name!=null&&ee(P,T),Jy(ie,H);var Me=Jy(ie,T);for(H=0;H<ge.length;H+=2){var ot=ge[H],lt=ge[H+1];ot==="style"?Mg(P,lt):ot==="dangerouslySetInnerHTML"?gc(P,lt):ot==="children"?ao(P,lt):M(P,ot,lt,Me)}switch(ie){case"input":J(P,T);break;case"textarea":Xe(P,T);break;case"select":var tt=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!T.multiple;var _t=T.value;_t!=null?Oe(P,!!T.multiple,_t,!1):tt!==!!T.multiple&&(T.defaultValue!=null?Oe(P,!!T.multiple,T.defaultValue,!0):Oe(P,!!T.multiple,T.multiple?[]:"",!1))}P[_b]=T}catch(Tt){tn(n,n.return,Tt)}}break;case 6:if(Ra(i,n),As(n),m&4){if(n.stateNode===null)throw Error(o(162));P=n.stateNode,T=n.memoizedProps;try{P.nodeValue=T}catch(Tt){tn(n,n.return,Tt)}}break;case 3:if(Ra(i,n),As(n),m&4&&d!==null&&d.memoizedState.isDehydrated)try{cb(i.containerInfo)}catch(Tt){tn(n,n.return,Tt)}break;case 4:Ra(i,n),As(n);break;case 13:Ra(i,n),As(n),P=n.child,P.flags&8192&&(T=P.memoizedState!==null,P.stateNode.isHidden=T,!T||P.alternate!==null&&P.alternate.memoizedState!==null||(A6=sn())),m&4&&HQ(n);break;case 22:if(ot=d!==null&&d.memoizedState!==null,n.mode&1?(co=(Me=co)||ot,Ra(i,n),co=Me):Ra(i,n),As(n),m&8192){if(Me=n.memoizedState!==null,(n.stateNode.isHidden=Me)&&!ot&&n.mode&1)for(Pt=n,ot=n.child;ot!==null;){for(lt=Pt=ot;Pt!==null;){switch(tt=Pt,_t=tt.child,tt.tag){case 0:case 11:case 14:case 15:Ab(4,tt,tt.return);break;case 1:sm(tt,tt.return);var Ot=tt.stateNode;if(typeof Ot.componentWillUnmount=="function"){m=tt,d=tt.return;try{i=m,Ot.props=i.memoizedProps,Ot.state=i.memoizedState,Ot.componentWillUnmount()}catch(Tt){tn(m,d,Tt)}}break;case 5:sm(tt,tt.return);break;case 22:if(tt.memoizedState!==null){qQ(lt);continue}}_t!==null?(_t.return=tt,Pt=_t):qQ(lt)}ot=ot.sibling}e:for(ot=null,lt=n;;){if(lt.tag===5){if(ot===null){ot=lt;try{P=lt.stateNode,Me?(T=P.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(ie=lt.stateNode,ge=lt.memoizedProps.style,H=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,ie.style.display=Ef("display",H))}catch(Tt){tn(n,n.return,Tt)}}}else if(lt.tag===6){if(ot===null)try{lt.stateNode.nodeValue=Me?"":lt.memoizedProps}catch(Tt){tn(n,n.return,Tt)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===n)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===n)break e;for(;lt.sibling===null;){if(lt.return===null||lt.return===n)break e;ot===lt&&(ot=null),lt=lt.return}ot===lt&&(ot=null),lt.sibling.return=lt.return,lt=lt.sibling}}break;case 19:Ra(i,n),As(n),m&4&&HQ(n);break;case 21:break;default:Ra(i,n),As(n)}}function As(n){var i=n.flags;if(i&2){try{e:{for(var d=n.return;d!==null;){if(MQ(d)){var m=d;break e}d=d.return}throw Error(o(160))}switch(m.tag){case 5:var P=m.stateNode;m.flags&32&&(ao(P,""),m.flags&=-33);var T=UQ(n);O6(n,T,P);break;case 3:case 4:var H=m.stateNode.containerInfo,ie=UQ(n);I6(n,ie,H);break;default:throw Error(o(161))}}catch(ge){tn(n,n.return,ge)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function ude(n,i,d){Pt=n,KQ(n)}function KQ(n,i,d){for(var m=(n.mode&1)!==0;Pt!==null;){var P=Pt,T=P.child;if(P.tag===22&&m){var H=P.memoizedState!==null||VP;if(!H){var ie=P.alternate,ge=ie!==null&&ie.memoizedState!==null||co;ie=VP;var Me=co;if(VP=H,(co=ge)&&!Me)for(Pt=P;Pt!==null;)H=Pt,ge=H.child,H.tag===22&&H.memoizedState!==null?$Q(P):ge!==null?(ge.return=H,Pt=ge):$Q(P);for(;T!==null;)Pt=T,KQ(T),T=T.sibling;Pt=P,VP=ie,co=Me}WQ(n)}else P.subtreeFlags&8772&&T!==null?(T.return=P,Pt=T):WQ(n)}}function WQ(n){for(;Pt!==null;){var i=Pt;if(i.flags&8772){var d=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:co||HP(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!co)if(d===null)m.componentDidMount();else{var P=i.elementType===i.type?d.memoizedProps:za(i.type,d.memoizedProps);m.componentDidUpdate(P,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var T=i.updateQueue;T!==null&&VY(i,T,m);break;case 3:var H=i.updateQueue;if(H!==null){if(d=null,i.child!==null)switch(i.child.tag){case 5:d=i.child.stateNode;break;case 1:d=i.child.stateNode}VY(i,H,d)}break;case 5:var ie=i.stateNode;if(d===null&&i.flags&4){d=ie;var ge=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&d.focus();break;case"img":ge.src&&(d.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Me=i.alternate;if(Me!==null){var ot=Me.memoizedState;if(ot!==null){var lt=ot.dehydrated;lt!==null&&cb(lt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}co||i.flags&512&&C6(i)}catch(tt){tn(i,i.return,tt)}}if(i===n){Pt=null;break}if(d=i.sibling,d!==null){d.return=i.return,Pt=d;break}Pt=i.return}}function qQ(n){for(;Pt!==null;){var i=Pt;if(i===n){Pt=null;break}var d=i.sibling;if(d!==null){d.return=i.return,Pt=d;break}Pt=i.return}}function $Q(n){for(;Pt!==null;){var i=Pt;try{switch(i.tag){case 0:case 11:case 15:var d=i.return;try{HP(4,i)}catch(ge){tn(i,d,ge)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var P=i.return;try{m.componentDidMount()}catch(ge){tn(i,P,ge)}}var T=i.return;try{C6(i)}catch(ge){tn(i,T,ge)}break;case 5:var H=i.return;try{C6(i)}catch(ge){tn(i,H,ge)}}}catch(ge){tn(i,i.return,ge)}if(i===n){Pt=null;break}var ie=i.sibling;if(ie!==null){ie.return=i.return,Pt=ie;break}Pt=i.return}}var cde=Math.ceil,LP=F.ReactCurrentDispatcher,j6=F.ReactCurrentOwner,Hi=F.ReactCurrentBatchConfig,dr=0,Dn=null,vn=null,Jn=0,gi=0,lm=xc(0),En=0,Db=null,zf=0,KP=0,T6=0,zb=null,Zo=null,A6=0,um=1/0,Jl=null,WP=!1,D6=null,Oc=null,qP=!1,jc=null,$P=0,Bb=0,z6=null,GP=-1,ZP=0;function jo(){return dr&6?sn():GP!==-1?GP:GP=sn()}function Tc(n){return n.mode&1?dr&2&&Jn!==0?Jn&-Jn:$ce.transition!==null?(ZP===0&&(ZP=NX()),ZP):(n=kr,n!==0||(n=window.event,n=n===void 0?16:qX(n.type)),n):1}function Na(n,i,d,m){if(50<Bb)throw Bb=0,z6=null,Error(o(185));ib(n,d,m),(!(dr&2)||n!==Dn)&&(n===Dn&&(!(dr&2)&&(KP|=d),En===4&&Ac(n,Jn)),Xo(n,m),d===1&&dr===0&&!(i.mode&1)&&(um=sn()+500,xP&&Ec()))}function Xo(n,i){var d=n.callbackNode;Zue(n,i);var m=tP(n,n===Dn?Jn:0);if(m===0)d!==null&&zX(d),n.callbackNode=null,n.callbackPriority=0;else if(i=m&-m,n.callbackPriority!==i){if(d!=null&&zX(d),i===1)n.tag===0?qce(ZQ.bind(null,n)):AY(ZQ.bind(null,n)),Hce(function(){!(dr&6)&&Ec()}),d=null;else{switch(FX(m)){case 1:d=m4;break;case 4:d=BX;break;case 16:d=YE;break;case 536870912:d=RX;break;default:d=YE}d=nJ(d,GQ.bind(null,n))}n.callbackPriority=i,n.callbackNode=d}}function GQ(n,i){if(GP=-1,ZP=0,dr&6)throw Error(o(327));var d=n.callbackNode;if(cm()&&n.callbackNode!==d)return null;var m=tP(n,n===Dn?Jn:0);if(m===0)return null;if(m&30||m&n.expiredLanes||i)i=XP(n,m);else{i=m;var P=dr;dr|=2;var T=YQ();(Dn!==n||Jn!==i)&&(Jl=null,um=sn()+500,Rf(n,i));do try{pde();break}catch(ie){XQ(n,ie)}while(!0);J4(),LP.current=T,dr=P,vn!==null?i=0:(Dn=null,Jn=0,i=En)}if(i!==0){if(i===2&&(P=v4(n),P!==0&&(m=P,i=B6(n,P))),i===1)throw d=Db,Rf(n,0),Ac(n,m),Xo(n,sn()),d;if(i===6)Ac(n,m);else{if(P=n.current.alternate,!(m&30)&&!dde(P)&&(i=XP(n,m),i===2&&(T=v4(n),T!==0&&(m=T,i=B6(n,T))),i===1))throw d=Db,Rf(n,0),Ac(n,m),Xo(n,sn()),d;switch(n.finishedWork=P,n.finishedLanes=m,i){case 0:case 1:throw Error(o(345));case 2:Nf(n,Zo,Jl);break;case 3:if(Ac(n,m),(m&130023424)===m&&(i=A6+500-sn(),10<i)){if(tP(n,0)!==0)break;if(P=n.suspendedLanes,(P&m)!==m){jo(),n.pingedLanes|=n.suspendedLanes&P;break}n.timeoutHandle=H4(Nf.bind(null,n,Zo,Jl),i);break}Nf(n,Zo,Jl);break;case 4:if(Ac(n,m),(m&4194240)===m)break;for(i=n.eventTimes,P=-1;0<m;){var H=31-Ta(m);T=1<<H,H=i[H],H>P&&(P=H),m&=~T}if(m=P,m=sn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*cde(m/1960))-m,10<m){n.timeoutHandle=H4(Nf.bind(null,n,Zo,Jl),m);break}Nf(n,Zo,Jl);break;case 5:Nf(n,Zo,Jl);break;default:throw Error(o(329))}}}return Xo(n,sn()),n.callbackNode===d?GQ.bind(null,n):null}function B6(n,i){var d=zb;return n.current.memoizedState.isDehydrated&&(Rf(n,i).flags|=256),n=XP(n,i),n!==2&&(i=Zo,Zo=d,i!==null&&R6(i)),n}function R6(n){Zo===null?Zo=n:Zo.push.apply(Zo,n)}function dde(n){for(var i=n;;){if(i.flags&16384){var d=i.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var P=d[m],T=P.getSnapshot;P=P.value;try{if(!Aa(T(),P))return!1}catch{return!1}}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ac(n,i){for(i&=~T6,i&=~KP,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var d=31-Ta(i),m=1<<d;n[d]=-1,i&=~m}}function ZQ(n){if(dr&6)throw Error(o(327));cm();var i=tP(n,0);if(!(i&1))return Xo(n,sn()),null;var d=XP(n,i);if(n.tag!==0&&d===2){var m=v4(n);m!==0&&(i=m,d=B6(n,m))}if(d===1)throw d=Db,Rf(n,0),Ac(n,i),Xo(n,sn()),d;if(d===6)throw Error(o(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Nf(n,Zo,Jl),Xo(n,sn()),null}function N6(n,i){var d=dr;dr|=1;try{return n(i)}finally{dr=d,dr===0&&(um=sn()+500,xP&&Ec())}}function Bf(n){jc!==null&&jc.tag===0&&!(dr&6)&&cm();var i=dr;dr|=1;var d=Hi.transition,m=kr;try{if(Hi.transition=null,kr=1,n)return n()}finally{kr=m,Hi.transition=d,dr=i,!(dr&6)&&Ec()}}function F6(){gi=lm.current,Hr(lm)}function Rf(n,i){n.finishedWork=null,n.finishedLanes=0;var d=n.timeoutHandle;if(d!==-1&&(n.timeoutHandle=-1,Vce(d)),vn!==null)for(d=vn.return;d!==null;){var m=d;switch(G4(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&_P();break;case 3:im(),Hr(qo),Hr(so),u6();break;case 5:s6(m);break;case 4:im();break;case 13:Hr(Gr);break;case 19:Hr(Gr);break;case 10:e6(m.type._context);break;case 22:case 23:F6()}d=d.return}if(Dn=n,vn=n=Dc(n.current,null),Jn=gi=i,En=0,Db=null,T6=KP=zf=0,Zo=zb=null,Tf!==null){for(i=0;i<Tf.length;i++)if(d=Tf[i],m=d.interleaved,m!==null){d.interleaved=null;var P=m.next,T=d.pending;if(T!==null){var H=T.next;T.next=P,m.next=H}d.pending=m}Tf=null}return n}function XQ(n,i){do{var d=vn;try{if(J4(),zP.current=FP,BP){for(var m=Zr.memoizedState;m!==null;){var P=m.queue;P!==null&&(P.pending=null),m=m.next}BP=!1}if(Df=0,An=Sn=Zr=null,Cb=!1,Ib=0,j6.current=null,d===null||d.return===null){En=1,Db=i,vn=null;break}e:{var T=n,H=d.return,ie=d,ge=i;if(i=Jn,ie.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Me=ge,ot=ie,lt=ot.tag;if(!(ot.mode&1)&&(lt===0||lt===11||lt===15)){var tt=ot.alternate;tt?(ot.updateQueue=tt.updateQueue,ot.memoizedState=tt.memoizedState,ot.lanes=tt.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var _t=wQ(H);if(_t!==null){_t.flags&=-257,_Q(_t,H,ie,T,i),_t.mode&1&&bQ(T,Me,i),i=_t,ge=Me;var Ot=i.updateQueue;if(Ot===null){var Tt=new Set;Tt.add(ge),i.updateQueue=Tt}else Ot.add(ge);break e}else{if(!(i&1)){bQ(T,Me,i),M6();break e}ge=Error(o(426))}}else if(Kr&&ie.mode&1){var ln=wQ(H);if(ln!==null){!(ln.flags&65536)&&(ln.flags|=256),_Q(ln,H,ie,T,i),Y4(am(ge,ie));break e}}T=ge=am(ge,ie),En!==4&&(En=2),zb===null?zb=[T]:zb.push(T),T=H;do{switch(T.tag){case 3:T.flags|=65536,i&=-i,T.lanes|=i;var je=vQ(T,ge,i);UY(T,je);break e;case 1:ie=ge;var we=T.type,De=T.stateNode;if(!(T.flags&128)&&(typeof we.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Oc===null||!Oc.has(De)))){T.flags|=65536,i&=-i,T.lanes|=i;var ft=yQ(T,ie,i);UY(T,ft);break e}}T=T.return}while(T!==null)}JQ(d)}catch(At){i=At,vn===d&&d!==null&&(vn=d=d.return);continue}break}while(!0)}function YQ(){var n=LP.current;return LP.current=FP,n===null?FP:n}function M6(){(En===0||En===3||En===2)&&(En=4),Dn===null||!(zf&268435455)&&!(KP&268435455)||Ac(Dn,Jn)}function XP(n,i){var d=dr;dr|=2;var m=YQ();(Dn!==n||Jn!==i)&&(Jl=null,Rf(n,i));do try{fde();break}catch(P){XQ(n,P)}while(!0);if(J4(),dr=d,LP.current=m,vn!==null)throw Error(o(261));return Dn=null,Jn=0,En}function fde(){for(;vn!==null;)QQ(vn)}function pde(){for(;vn!==null&&!Uue();)QQ(vn)}function QQ(n){var i=rJ(n.alternate,n,gi);n.memoizedProps=n.pendingProps,i===null?JQ(n):vn=i,j6.current=null}function JQ(n){var i=n;do{var d=i.alternate;if(n=i.return,i.flags&32768){if(d=ade(d,i),d!==null){d.flags&=32767,vn=d;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{En=6,vn=null;return}}else if(d=ide(d,i,gi),d!==null){vn=d;return}if(i=i.sibling,i!==null){vn=i;return}vn=i=n}while(i!==null);En===0&&(En=5)}function Nf(n,i,d){var m=kr,P=Hi.transition;try{Hi.transition=null,kr=1,hde(n,i,d,m)}finally{Hi.transition=P,kr=m}return null}function hde(n,i,d,m){do cm();while(jc!==null);if(dr&6)throw Error(o(327));d=n.finishedWork;var P=n.finishedLanes;if(d===null)return null;if(n.finishedWork=null,n.finishedLanes=0,d===n.current)throw Error(o(177));n.callbackNode=null,n.callbackPriority=0;var T=d.lanes|d.childLanes;if(Xue(n,T),n===Dn&&(vn=Dn=null,Jn=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||qP||(qP=!0,nJ(YE,function(){return cm(),null})),T=(d.flags&15990)!==0,d.subtreeFlags&15990||T){T=Hi.transition,Hi.transition=null;var H=kr;kr=1;var ie=dr;dr|=4,j6.current=null,lde(n,d),LQ(d,n),Rce(U4),oP=!!M4,U4=M4=null,n.current=d,ude(d),Vue(),dr=ie,kr=H,Hi.transition=T}else n.current=d;if(qP&&(qP=!1,jc=n,$P=P),T=n.pendingLanes,T===0&&(Oc=null),Kue(d.stateNode),Xo(n,sn()),i!==null)for(m=n.onRecoverableError,d=0;d<i.length;d++)P=i[d],m(P.value,{componentStack:P.stack,digest:P.digest});if(WP)throw WP=!1,n=D6,D6=null,n;return $P&1&&n.tag!==0&&cm(),T=n.pendingLanes,T&1?n===z6?Bb++:(Bb=0,z6=n):Bb=0,Ec(),null}function cm(){if(jc!==null){var n=FX($P),i=Hi.transition,d=kr;try{if(Hi.transition=null,kr=16>n?16:n,jc===null)var m=!1;else{if(n=jc,jc=null,$P=0,dr&6)throw Error(o(331));var P=dr;for(dr|=4,Pt=n.current;Pt!==null;){var T=Pt,H=T.child;if(Pt.flags&16){var ie=T.deletions;if(ie!==null){for(var ge=0;ge<ie.length;ge++){var Me=ie[ge];for(Pt=Me;Pt!==null;){var ot=Pt;switch(ot.tag){case 0:case 11:case 15:Ab(8,ot,T)}var lt=ot.child;if(lt!==null)lt.return=ot,Pt=lt;else for(;Pt!==null;){ot=Pt;var tt=ot.sibling,_t=ot.return;if(FQ(ot),ot===Me){Pt=null;break}if(tt!==null){tt.return=_t,Pt=tt;break}Pt=_t}}}var Ot=T.alternate;if(Ot!==null){var Tt=Ot.child;if(Tt!==null){Ot.child=null;do{var ln=Tt.sibling;Tt.sibling=null,Tt=ln}while(Tt!==null)}}Pt=T}}if(T.subtreeFlags&2064&&H!==null)H.return=T,Pt=H;else e:for(;Pt!==null;){if(T=Pt,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Ab(9,T,T.return)}var je=T.sibling;if(je!==null){je.return=T.return,Pt=je;break e}Pt=T.return}}var we=n.current;for(Pt=we;Pt!==null;){H=Pt;var De=H.child;if(H.subtreeFlags&2064&&De!==null)De.return=H,Pt=De;else e:for(H=we;Pt!==null;){if(ie=Pt,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:HP(9,ie)}}catch(At){tn(ie,ie.return,At)}if(ie===H){Pt=null;break e}var ft=ie.sibling;if(ft!==null){ft.return=ie.return,Pt=ft;break e}Pt=ie.return}}if(dr=P,Ec(),Is&&typeof Is.onPostCommitFiberRoot=="function")try{Is.onPostCommitFiberRoot(QE,n)}catch{}m=!0}return m}finally{kr=d,Hi.transition=i}}return!1}function eJ(n,i,d){i=am(d,i),i=vQ(n,i,1),n=Cc(n,i,1),i=jo(),n!==null&&(ib(n,1,i),Xo(n,i))}function tn(n,i,d){if(n.tag===3)eJ(n,n,d);else for(;i!==null;){if(i.tag===3){eJ(i,n,d);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Oc===null||!Oc.has(m))){n=am(d,n),n=yQ(i,n,1),i=Cc(i,n,1),n=jo(),i!==null&&(ib(i,1,n),Xo(i,n));break}}i=i.return}}function gde(n,i,d){var m=n.pingCache;m!==null&&m.delete(i),i=jo(),n.pingedLanes|=n.suspendedLanes&d,Dn===n&&(Jn&d)===d&&(En===4||En===3&&(Jn&130023424)===Jn&&500>sn()-A6?Rf(n,0):T6|=d),Xo(n,i)}function tJ(n,i){i===0&&(n.mode&1?(i=eP,eP<<=1,!(eP&130023424)&&(eP=4194304)):i=1);var d=jo();n=Xl(n,i),n!==null&&(ib(n,i,d),Xo(n,d))}function mde(n){var i=n.memoizedState,d=0;i!==null&&(d=i.retryLane),tJ(n,d)}function vde(n,i){var d=0;switch(n.tag){case 13:var m=n.stateNode,P=n.memoizedState;P!==null&&(d=P.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(o(314))}m!==null&&m.delete(i),tJ(n,d)}var rJ;rJ=function(n,i,d){if(n!==null)if(n.memoizedProps!==i.pendingProps||qo.current)Go=!0;else{if(!(n.lanes&d)&&!(i.flags&128))return Go=!1,ode(n,i,d);Go=!!(n.flags&131072)}else Go=!1,Kr&&i.flags&1048576&&DY(i,EP,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;UP(n,i),n=i.pendingProps;var P=Qg(i,so.current);nm(i,d),P=f6(null,i,m,n,P,d);var T=p6();return i.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,$o(m)?(T=!0,kP(i)):T=!1,i.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,n6(i),P.updater=TP,i.stateNode=P,P._reactInternals=i,i6(i,m,n,d),i=_6(null,i,m,!0,T,d)):(i.tag=0,Kr&&T&&$4(i),Oo(null,i,P,d),i=i.child),i;case 16:m=i.elementType;e:{switch(UP(n,i),n=i.pendingProps,P=m._init,m=P(m._payload),i.type=m,P=i.tag=bde(m),n=za(m,n),P){case 0:i=w6(null,i,m,n,d);break e;case 1:i=CQ(null,i,m,n,d);break e;case 11:i=kQ(null,i,m,n,d);break e;case 14:i=xQ(null,i,m,za(m.type,n),d);break e}throw Error(o(306,m,""))}return i;case 0:return m=i.type,P=i.pendingProps,P=i.elementType===m?P:za(m,P),w6(n,i,m,P,d);case 1:return m=i.type,P=i.pendingProps,P=i.elementType===m?P:za(m,P),CQ(n,i,m,P,d);case 3:e:{if(IQ(i),n===null)throw Error(o(387));m=i.pendingProps,T=i.memoizedState,P=T.element,MY(n,i),jP(i,m,null,d);var H=i.memoizedState;if(m=H.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){P=am(Error(o(423)),i),i=OQ(n,i,m,d,P);break e}else if(m!==P){P=am(Error(o(424)),i),i=OQ(n,i,m,d,P);break e}else for(hi=kc(i.stateNode.containerInfo.firstChild),pi=i,Kr=!0,Da=null,d=GY(i,null,m,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(tm(),m===P){i=Ql(n,i,d);break e}Oo(n,i,m,d)}i=i.child}return i;case 5:return ZY(i),n===null&&X4(i),m=i.type,P=i.pendingProps,T=n!==null?n.memoizedProps:null,H=P.children,V4(m,P)?H=null:T!==null&&V4(m,T)&&(i.flags|=32),PQ(n,i),Oo(n,i,H,d),i.child;case 6:return n===null&&X4(i),null;case 13:return jQ(n,i,d);case 4:return a6(i,i.stateNode.containerInfo),m=i.pendingProps,n===null?i.child=om(i,null,m,d):Oo(n,i,m,d),i.child;case 11:return m=i.type,P=i.pendingProps,P=i.elementType===m?P:za(m,P),kQ(n,i,m,P,d);case 7:return Oo(n,i,i.pendingProps,d),i.child;case 8:return Oo(n,i,i.pendingProps.children,d),i.child;case 12:return Oo(n,i,i.pendingProps.children,d),i.child;case 10:e:{if(m=i.type._context,P=i.pendingProps,T=i.memoizedProps,H=P.value,zr(CP,m._currentValue),m._currentValue=H,T!==null)if(Aa(T.value,H)){if(T.children===P.children&&!qo.current){i=Ql(n,i,d);break e}}else for(T=i.child,T!==null&&(T.return=i);T!==null;){var ie=T.dependencies;if(ie!==null){H=T.child;for(var ge=ie.firstContext;ge!==null;){if(ge.context===m){if(T.tag===1){ge=Yl(-1,d&-d),ge.tag=2;var Me=T.updateQueue;if(Me!==null){Me=Me.shared;var ot=Me.pending;ot===null?ge.next=ge:(ge.next=ot.next,ot.next=ge),Me.pending=ge}}T.lanes|=d,ge=T.alternate,ge!==null&&(ge.lanes|=d),t6(T.return,d,i),ie.lanes|=d;break}ge=ge.next}}else if(T.tag===10)H=T.type===i.type?null:T.child;else if(T.tag===18){if(H=T.return,H===null)throw Error(o(341));H.lanes|=d,ie=H.alternate,ie!==null&&(ie.lanes|=d),t6(H,d,i),H=T.sibling}else H=T.child;if(H!==null)H.return=T;else for(H=T;H!==null;){if(H===i){H=null;break}if(T=H.sibling,T!==null){T.return=H.return,H=T;break}H=H.return}T=H}Oo(n,i,P.children,d),i=i.child}return i;case 9:return P=i.type,m=i.pendingProps.children,nm(i,d),P=Ui(P),m=m(P),i.flags|=1,Oo(n,i,m,d),i.child;case 14:return m=i.type,P=za(m,i.pendingProps),P=za(m.type,P),xQ(n,i,m,P,d);case 15:return SQ(n,i,i.type,i.pendingProps,d);case 17:return m=i.type,P=i.pendingProps,P=i.elementType===m?P:za(m,P),UP(n,i),i.tag=1,$o(m)?(n=!0,kP(i)):n=!1,nm(i,d),KY(i,m,P),i6(i,m,P,d),_6(null,i,m,!0,n,d);case 19:return AQ(n,i,d);case 22:return EQ(n,i,d)}throw Error(o(156,i.tag))};function nJ(n,i){return DX(n,i)}function yde(n,i,d,m){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(n,i,d,m){return new yde(n,i,d,m)}function U6(n){return n=n.prototype,!(!n||!n.isReactComponent)}function bde(n){if(typeof n=="function")return U6(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fe)return 11;if(n===Je)return 14}return 2}function Dc(n,i){var d=n.alternate;return d===null?(d=Li(n.tag,i,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=i,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&14680064,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,i=n.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d}function YP(n,i,d,m,P,T){var H=2;if(m=n,typeof n=="function")U6(n)&&(H=1);else if(typeof n=="string")H=5;else e:switch(n){case se:return Ff(d.children,P,T,i);case Z:H=8,P|=8;break;case de:return n=Li(12,d,i,P|2),n.elementType=de,n.lanes=T,n;case z:return n=Li(13,d,i,P),n.elementType=z,n.lanes=T,n;case be:return n=Li(19,d,i,P),n.elementType=be,n.lanes=T,n;case ae:return QP(d,P,T,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ce:H=10;break e;case K:H=9;break e;case fe:H=11;break e;case Je:H=14;break e;case le:H=16,m=null;break e}throw Error(o(130,n==null?n:typeof n,""))}return i=Li(H,d,i,P),i.elementType=n,i.type=m,i.lanes=T,i}function Ff(n,i,d,m){return n=Li(7,n,m,i),n.lanes=d,n}function QP(n,i,d,m){return n=Li(22,n,m,i),n.elementType=ae,n.lanes=d,n.stateNode={isHidden:!1},n}function V6(n,i,d){return n=Li(6,n,null,i),n.lanes=d,n}function H6(n,i,d){return i=Li(4,n.children!==null?n.children:[],n.key,i),i.lanes=d,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function wde(n,i,d,m,P){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y4(0),this.expirationTimes=y4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y4(0),this.identifierPrefix=m,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function L6(n,i,d,m,P,T,H,ie,ge){return n=new wde(n,i,d,ie,ge),i===1?(i=1,T===!0&&(i|=8)):i=0,T=Li(3,null,null,i),n.current=T,T.stateNode=n,T.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},n6(T),n}function _de(n,i,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:m==null?null:""+m,children:n,containerInfo:i,implementation:d}}function oJ(n){if(!n)return Sc;n=n._reactInternals;e:{if(Pf(n)!==n||n.tag!==1)throw Error(o(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if($o(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(o(171))}if(n.tag===1){var d=n.type;if($o(d))return jY(n,d,i)}return i}function iJ(n,i,d,m,P,T,H,ie,ge){return n=L6(d,m,!0,n,P,T,H,ie,ge),n.context=oJ(null),d=n.current,m=jo(),P=Tc(d),T=Yl(m,P),T.callback=i??null,Cc(d,T,P),n.current.lanes=P,ib(n,P,m),Xo(n,m),n}function JP(n,i,d,m){var P=i.current,T=jo(),H=Tc(P);return d=oJ(d),i.context===null?i.context=d:i.pendingContext=d,i=Yl(T,H),i.payload={element:n},m=m===void 0?null:m,m!==null&&(i.callback=m),n=Cc(P,i,H),n!==null&&(Na(n,P,H,T),OP(n,P,H)),H}function e2(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function aJ(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<i?d:i}}function K6(n,i){aJ(n,i),(n=n.alternate)&&aJ(n,i)}function kde(){return null}var sJ=typeof reportError=="function"?reportError:function(n){console.error(n)};function W6(n){this._internalRoot=n}t2.prototype.render=W6.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));JP(n,i,null,null)},t2.prototype.unmount=W6.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Bf(function(){JP(null,n,null,null)}),i[ql]=null}};function t2(n){this._internalRoot=n}t2.prototype.unstable_scheduleHydration=function(n){if(n){var i=VX();n={blockedOn:null,target:n,priority:i};for(var d=0;d<bc.length&&i!==0&&i<bc[d].priority;d++);bc.splice(d,0,n),d===0&&KX(n)}};function q6(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function r2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function lJ(){}function xde(n,i,d,m,P){if(P){if(typeof m=="function"){var T=m;m=function(){var Me=e2(H);T.call(Me)}}var H=iJ(i,m,n,0,null,!1,!1,"",lJ);return n._reactRootContainer=H,n[ql]=H.current,bb(n.nodeType===8?n.parentNode:n),Bf(),H}for(;P=n.lastChild;)n.removeChild(P);if(typeof m=="function"){var ie=m;m=function(){var Me=e2(ge);ie.call(Me)}}var ge=L6(n,0,!1,null,null,!1,!1,"",lJ);return n._reactRootContainer=ge,n[ql]=ge.current,bb(n.nodeType===8?n.parentNode:n),Bf(function(){JP(i,ge,d,m)}),ge}function n2(n,i,d,m,P){var T=d._reactRootContainer;if(T){var H=T;if(typeof P=="function"){var ie=P;P=function(){var ge=e2(H);ie.call(ge)}}JP(i,H,n,P)}else H=xde(d,i,n,P,m);return e2(H)}MX=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var d=ob(i.pendingLanes);d!==0&&(b4(i,d|1),Xo(i,sn()),!(dr&6)&&(um=sn()+500,Ec()))}break;case 13:Bf(function(){var m=Xl(n,1);if(m!==null){var P=jo();Na(m,n,1,P)}}),K6(n,1)}},w4=function(n){if(n.tag===13){var i=Xl(n,134217728);if(i!==null){var d=jo();Na(i,n,134217728,d)}K6(n,134217728)}},UX=function(n){if(n.tag===13){var i=Tc(n),d=Xl(n,i);if(d!==null){var m=jo();Na(d,n,i,m)}K6(n,i)}},VX=function(){return kr},HX=function(n,i){var d=kr;try{return kr=n,i()}finally{kr=d}},Vg=function(n,i,d){switch(i){case"input":if(J(n,d),i=d.name,d.type==="radio"&&i!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<d.length;i++){var m=d[i];if(m!==n&&m.form===n.form){var P=wP(m);if(!P)throw Error(o(90));pr(m),J(m,P)}}}break;case"textarea":Xe(n,d);break;case"select":i=d.value,i!=null&&Oe(n,!!d.multiple,i,!1)}},PX=N6,CX=Bf;var Sde={usingClientEntryPoint:!1,Events:[kb,Xg,wP,SX,EX,N6]},Rb={findFiberByHostInstance:Cf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ede={bundleType:Rb.bundleType,version:Rb.version,rendererPackageName:Rb.rendererPackageName,rendererConfig:Rb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=TX(n),n===null?null:n.stateNode},findFiberByHostInstance:Rb.findFiberByHostInstance||kde,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Nb=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Nb.isDisabled&&Nb.supportsFiber))try{QE=Nb.inject(Ede),Is=Nb}catch{}var Nb;e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sde,e.createPortal=function(n,i){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q6(i))throw Error(o(200));return _de(n,i,null,d)},e.createRoot=function(n,i){if(!q6(n))throw Error(o(299));var d=!1,m="",P=sJ;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(P=i.onRecoverableError)),i=L6(n,1,!1,null,null,d,!1,m,P),n[ql]=i.current,bb(n.nodeType===8?n.parentNode:n),new W6(i)},e.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=TX(i),n=n===null?null:n.stateNode,n},e.flushSync=function(n){return Bf(n)},e.hydrate=function(n,i,d){if(!r2(i))throw Error(o(200));return n2(null,n,i,!0,d)},e.hydrateRoot=function(n,i,d){if(!q6(n))throw Error(o(405));var m=d!=null&&d.hydratedSources||null,P=!1,T="",H=sJ;if(d!=null&&(d.unstable_strictMode===!0&&(P=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(H=d.onRecoverableError)),i=iJ(i,null,n,1,d??null,P,!1,T,H),n[ql]=i.current,bb(n),m)for(n=0;n<m.length;n++)d=m[n],P=d._getVersion,P=P(d._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[d,P]:i.mutableSourceEagerHydrationData.push(d,P);return new t2(i)},e.render=function(n,i,d){if(!r2(i))throw Error(o(200));return n2(null,n,i,!1,d)},e.unmountComponentAtNode=function(n){if(!r2(n))throw Error(o(40));return n._reactRootContainer?(Bf(function(){n2(null,null,n,!1,function(){n._reactRootContainer=null,n[ql]=null})}),!0):!1},e.unstable_batchedUpdates=N6,e.unstable_renderSubtreeIntoContainer=function(n,i,d,m){if(!r2(d))throw Error(o(200));if(n==null||n._reactInternals===void 0)throw Error(o(38));return n2(n,i,d,!1,m)},e.version="18.2.0-next-9e3b772b8-20220608"}),kn=vt((e,t)=>{function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}r(),t.exports=n5()});function Uk(e){let[,t]=(0,Qa.useState)(0);return(0,Qa.useCallback)(()=>{t(r=>r+1)},[])}function Wt(e,t,r){let o=(0,Qa.useCallback)(e,t),a=(0,Qa.useRef)(null);a.current?a.current.set(o):a.current=new Ih.Atom(o);let s=(0,Qa.useRef)(null);return s.current||(s.current=(0,Ih.prism)(()=>a.current.prism.getValue()())),Id(s.current,r)}function o5(){Oh||(Oh=!0,(0,Vk.default)(()=>{(0,Hk.unstable_batchedUpdates)(function(){for(var e,t;ti.length>0;){let r=ti.shift();Bu.delete(r);let o;Ja&&((e=r.debug)==null||e.history.push("queue reached"));try{o=r.der.getValue()}catch(a){Ja&&((t=r.debug)==null||t.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(a),r.runUpdate();continue}o!==r.lastValue&&(r.lastValue=o,r.runUpdate())}Oh=!1},1)}))}function Id(e,t){var r;let o=Uk(),a=(0,Qa.useRef)(void 0);a.current||(d0++,a.current={order:d0,runUpdate:()=>{a.current.unmounted||o()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var u;Ja&&((u=a.current.debug)==null||u.history.push("queueUpdate()")),Lk(a.current)},untap:e.onStale(()=>{Ja&&a.current.debug.history.push("onStale(cb)"),a.current.queueUpdate()})},Ja&&(a.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),(0,Qa.useLayoutEffect)(()=>function(){a.current.unmounted=!0,a.current.untap(),p0(a.current)},[]),p0(a.current);let s=a.current.der.getValue();return a.current.lastValue=s,Ja&&((r=a.current.debug)==null||r.history.push("rendered")),s}var Ih,Vk,Qa,Hk,Ja,Gt,d0,ti,Bu,Oh,Lk,f0,p0,xt=I(()=>{Ih=rt(),nn(),Vk=oe(c0()),Qa=oe(pe()),Hk=oe(kn()),Ja=!1,Gt=(e,t)=>Wt(()=>(0,Ih.val)(e),[e],t),d0=0,ti=[],Bu=new Set,Oh=!1,Lk=e=>{f0(e),o5()},f0=e=>{if(!Bu.has(e))if(Bu.add(e),ti.length===0)ti.push(e);else{let t=e0(ti,r=>r.order>=e.order);t===-1?ti.push(e):ti[t].order>e.order&&ti.splice(t,0,e)}},p0=e=>{if(!Bu.has(e))return;Bu.delete(e);let t=e0(ti,r=>r===e);ti.splice(t,1)}}),Kk=vt(e=>{var t=60103,r=60106,o=60107,a=60108,s=60114,u=60109,c=60110,f=60112,h=60113,y=60120,_=60115,w=60116,v=60121,x=60122,k=60117,E=60129,C=60131;typeof Symbol=="function"&&Symbol.for&&(j=Symbol.for,t=j("react.element"),r=j("react.portal"),o=j("react.fragment"),a=j("react.strict_mode"),s=j("react.profiler"),u=j("react.provider"),c=j("react.context"),f=j("react.forward_ref"),h=j("react.suspense"),y=j("react.suspense_list"),_=j("react.memo"),w=j("react.lazy"),v=j("react.block"),x=j("react.server.block"),k=j("react.fundamental"),E=j("react.debug_trace_mode"),C=j("react.legacy_hidden"));var j;function D(z){if(typeof z=="object"&&z!==null){var be=z.$$typeof;switch(be){case t:switch(z=z.type,z){case o:case s:case a:case h:case y:return z;default:switch(z=z&&z.$$typeof,z){case c:case f:case w:case _:case u:return z;default:return be}}case r:return be}}}var M=u,F=t,L=f,te=o,se=w,Z=_,de=r,Ce=s,K=a,fe=h;e.ContextConsumer=c,e.ContextProvider=M,e.Element=F,e.ForwardRef=L,e.Fragment=te,e.Lazy=se,e.Memo=Z,e.Portal=de,e.Profiler=Ce,e.StrictMode=K,e.Suspense=fe,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(z){return D(z)===c},e.isContextProvider=function(z){return D(z)===u},e.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===t},e.isForwardRef=function(z){return D(z)===f},e.isFragment=function(z){return D(z)===o},e.isLazy=function(z){return D(z)===w},e.isMemo=function(z){return D(z)===_},e.isPortal=function(z){return D(z)===r},e.isProfiler=function(z){return D(z)===s},e.isStrictMode=function(z){return D(z)===a},e.isSuspense=function(z){return D(z)===h},e.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===o||z===s||z===E||z===a||z===h||z===y||z===C||typeof z=="object"&&z!==null&&(z.$$typeof===w||z.$$typeof===_||z.$$typeof===u||z.$$typeof===c||z.$$typeof===f||z.$$typeof===k||z.$$typeof===v||z[0]===x)},e.typeOf=D}),i5=vt((e,t)=>{t.exports=Kk()}),Wk=vt((e,t)=>{t.exports=function(r,o,a,s){var u=a?a.call(s,r,o):void 0;if(u!==void 0)return!!u;if(r===o)return!0;if(typeof r!="object"||!r||typeof o!="object"||!o)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(o),y=0;y<c.length;y++){var _=c[y];if(!h(_))return!1;var w=r[_],v=o[_];if(u=a?a.call(s,w,v,_):void 0,u===!1||u===void 0&&w!==v)return!1}return!0}});function a5(e){function t(X,Ie,Ae,ze,ke){for(var yt=0,He=0,gt=0,It=0,Rt,zt,pr=0,R=0,Ne,Be=Ne=Rt=0,ee=0,J=0,xe=0,We=0,Ge=Ae.length,Oe=Ge-1,et,$e="",Xe="",Dt="",cr="",qt;ee<Ge;){if(zt=Ae.charCodeAt(ee),ee===Oe&&He+It+gt+yt!==0&&(He!==0&&(zt=He===47?10:47),It=gt=yt=0,Ge++,Oe++),He+It+gt+yt===0){if(ee===Oe&&(0<J&&($e=$e.replace(w,"")),0<$e.trim().length)){switch(zt){case 32:case 9:case 59:case 13:case 10:break;default:$e+=Ae.charAt(ee)}zt=59}switch(zt){case 123:for($e=$e.trim(),Rt=$e.charCodeAt(0),Ne=1,We=++ee;ee<Ge;){switch(zt=Ae.charCodeAt(ee)){case 123:Ne++;break;case 125:Ne--;break;case 47:switch(zt=Ae.charCodeAt(ee+1)){case 42:case 47:e:{for(Be=ee+1;Be<Oe;++Be)switch(Ae.charCodeAt(Be)){case 47:if(zt===42&&Ae.charCodeAt(Be-1)===42&&ee+2!==Be){ee=Be+1;break e}break;case 10:if(zt===47){ee=Be+1;break e}}ee=Be}}break;case 91:zt++;case 40:zt++;case 34:case 39:for(;ee++<Oe&&Ae.charCodeAt(ee)!==zt;);}if(Ne===0)break;ee++}switch(Ne=Ae.substring(We,ee),Rt===0&&(Rt=($e=$e.replace(_,"").trim()).charCodeAt(0)),Rt){case 64:switch(0<J&&($e=$e.replace(w,"")),zt=$e.charCodeAt(1),zt){case 100:case 109:case 115:case 45:J=Ie;break;default:J=Je}if(Ne=t(Ie,J,Ne,zt,ke+1),We=Ne.length,0<ae&&(J=r(Je,$e,xe),qt=c(3,Ne,J,Ie,fe,K,We,zt,ke,ze),$e=J.join(""),qt!==void 0&&(We=(Ne=qt.trim()).length)===0&&(zt=0,Ne="")),0<We)switch(zt){case 115:$e=$e.replace(L,u);case 100:case 109:case 45:Ne=$e+"{"+Ne+"}";break;case 107:$e=$e.replace(j,"$1 $2"),Ne=$e+"{"+Ne+"}",Ne=be===1||be===2&&s("@"+Ne,3)?"@-webkit-"+Ne+"@"+Ne:"@"+Ne;break;default:Ne=$e+Ne,ze===112&&(Ne=(Xe+=Ne,""))}else Ne="";break;default:Ne=t(Ie,r(Ie,$e,xe),Ne,ze,ke+1)}Dt+=Ne,Ne=xe=J=Be=Rt=0,$e="",zt=Ae.charCodeAt(++ee);break;case 125:case 59:if($e=(0<J?$e.replace(w,""):$e).trim(),1<(We=$e.length))switch(Be===0&&(Rt=$e.charCodeAt(0),Rt===45||96<Rt&&123>Rt)&&(We=($e=$e.replace(" ",":")).length),0<ae&&(qt=c(1,$e,Ie,X,fe,K,Xe.length,ze,ke,ze))!==void 0&&(We=($e=qt.trim()).length)===0&&($e="\0\0"),Rt=$e.charCodeAt(0),zt=$e.charCodeAt(1),Rt){case 0:break;case 64:if(zt===105||zt===99){cr+=$e+Ae.charAt(ee);break}default:$e.charCodeAt(We-1)!==58&&(Xe+=a($e,Rt,zt,$e.charCodeAt(2)))}xe=J=Be=Rt=0,$e="",zt=Ae.charCodeAt(++ee)}}switch(zt){case 13:case 10:He===47?He=0:1+Rt===0&&ze!==107&&0<$e.length&&(J=1,$e+="\0"),0<ae*Ke&&c(0,$e,Ie,X,fe,K,Xe.length,ze,ke,ze),K=1,fe++;break;case 59:case 125:if(He+It+gt+yt===0){K++;break}default:switch(K++,et=Ae.charAt(ee),zt){case 9:case 32:if(It+yt+He===0)switch(pr){case 44:case 58:case 9:case 32:et="";break;default:zt!==32&&(et=" ")}break;case 0:et="\\0";break;case 12:et="\\f";break;case 11:et="\\v";break;case 38:It+He+yt===0&&(J=xe=1,et="\f"+et);break;case 108:if(It+He+yt+z===0&&0<Be)switch(ee-Be){case 2:pr===112&&Ae.charCodeAt(ee-3)===58&&(z=pr);case 8:R===111&&(z=R)}break;case 58:It+He+yt===0&&(Be=ee);break;case 44:He+gt+It+yt===0&&(J=1,et+="\r");break;case 34:case 39:He===0&&(It=It===zt?0:It===0?zt:It);break;case 91:It+He+gt===0&&yt++;break;case 93:It+He+gt===0&&yt--;break;case 41:It+He+yt===0&&gt--;break;case 40:if(It+He+yt===0){if(Rt===0)switch(2*pr+3*R){case 533:break;default:Rt=1}gt++}break;case 64:He+gt+It+yt+Be+Ne===0&&(Ne=1);break;case 42:case 47:if(!(0<It+yt+gt))switch(He){case 0:switch(2*zt+3*Ae.charCodeAt(ee+1)){case 235:He=47;break;case 220:We=ee,He=42}break;case 42:zt===47&&pr===42&&We+2!==ee&&(Ae.charCodeAt(We+2)===33&&(Xe+=Ae.substring(We,ee+1)),et="",He=0)}}He===0&&($e+=et)}R=pr,pr=zt,ee++}if(We=Xe.length,0<We){if(J=Ie,0<ae&&(qt=c(2,Xe,J,X,fe,K,We,ze,ke,ze),qt!==void 0&&(Xe=qt).length===0))return cr+Xe+Dt;if(Xe=J.join(",")+"{"+Xe+"}",be*z!==0){switch(be!==2||s(Xe,2)||(z=0),z){case 111:Xe=Xe.replace(M,":-moz-$1")+Xe;break;case 112:Xe=Xe.replace(D,"::-webkit-input-$1")+Xe.replace(D,"::-moz-$1")+Xe.replace(D,":-ms-input-$1")+Xe}z=0}}return cr+Xe+Dt}function r(X,Ie,Ae){var ze=Ie.trim().split(E);Ie=ze;var ke=ze.length,yt=X.length;switch(yt){case 0:case 1:var He=0;for(X=yt===0?"":X[0]+" ";He<ke;++He)Ie[He]=o(X,Ie[He],Ae).trim();break;default:var gt=He=0;for(Ie=[];He<ke;++He)for(var It=0;It<yt;++It)Ie[gt++]=o(X[It]+" ",ze[He],Ae).trim()}return Ie}function o(X,Ie,Ae){var ze=Ie.charCodeAt(0);switch(33>ze&&(ze=(Ie=Ie.trim()).charCodeAt(0)),ze){case 38:return Ie.replace(C,"$1"+X.trim());case 58:return X.trim()+Ie.replace(C,"$1"+X.trim());default:if(0<1*Ae&&0<Ie.indexOf("\f"))return Ie.replace(C,(X.charCodeAt(0)===58?"":"$1")+X.trim())}return X+Ie}function a(X,Ie,Ae,ze){var ke=X+";",yt=2*Ie+3*Ae+4*ze;if(yt===944){X=ke.indexOf(":",9)+1;var He=ke.substring(X,ke.length-1).trim();return He=ke.substring(0,X).trim()+He+";",be===1||be===2&&s(He,1)?"-webkit-"+He+He:He}if(be===0||be===2&&!s(ke,1))return ke;switch(yt){case 1015:return ke.charCodeAt(10)===97?"-webkit-"+ke+ke:ke;case 951:return ke.charCodeAt(3)===116?"-webkit-"+ke+ke:ke;case 963:return ke.charCodeAt(5)===110?"-webkit-"+ke+ke:ke;case 1009:if(ke.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+ke+ke;case 978:return"-webkit-"+ke+"-moz-"+ke+ke;case 1019:case 983:return"-webkit-"+ke+"-moz-"+ke+"-ms-"+ke+ke;case 883:if(ke.charCodeAt(8)===45)return"-webkit-"+ke+ke;if(0<ke.indexOf("image-set(",11))return ke.replace(Ce,"$1-webkit-$2")+ke;break;case 932:if(ke.charCodeAt(4)===45)switch(ke.charCodeAt(5)){case 103:return"-webkit-box-"+ke.replace("-grow","")+"-webkit-"+ke+"-ms-"+ke.replace("grow","positive")+ke;case 115:return"-webkit-"+ke+"-ms-"+ke.replace("shrink","negative")+ke;case 98:return"-webkit-"+ke+"-ms-"+ke.replace("basis","preferred-size")+ke}return"-webkit-"+ke+"-ms-"+ke+ke;case 964:return"-webkit-"+ke+"-ms-flex-"+ke+ke;case 1023:if(ke.charCodeAt(8)!==99)break;return He=ke.substring(ke.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+He+"-webkit-"+ke+"-ms-flex-pack"+He+ke;case 1005:return x.test(ke)?ke.replace(v,":-webkit-")+ke.replace(v,":-moz-")+ke:ke;case 1e3:switch(He=ke.substring(13).trim(),Ie=He.indexOf("-")+1,He.charCodeAt(0)+He.charCodeAt(Ie)){case 226:He=ke.replace(F,"tb");break;case 232:He=ke.replace(F,"tb-rl");break;case 220:He=ke.replace(F,"lr");break;default:return ke}return"-webkit-"+ke+"-ms-"+He+ke;case 1017:if(ke.indexOf("sticky",9)===-1)break;case 975:switch(Ie=(ke=X).length-10,He=(ke.charCodeAt(Ie)===33?ke.substring(0,Ie):ke).substring(X.indexOf(":",7)+1).trim(),yt=He.charCodeAt(0)+(He.charCodeAt(7)|0)){case 203:if(111>He.charCodeAt(8))break;case 115:ke=ke.replace(He,"-webkit-"+He)+";"+ke;break;case 207:case 102:ke=ke.replace(He,"-webkit-"+(102<yt?"inline-":"")+"box")+";"+ke.replace(He,"-webkit-"+He)+";"+ke.replace(He,"-ms-"+He+"box")+";"+ke}return ke+";";case 938:if(ke.charCodeAt(5)===45)switch(ke.charCodeAt(6)){case 105:return He=ke.replace("-items",""),"-webkit-"+ke+"-webkit-box-"+He+"-ms-flex-"+He+ke;case 115:return"-webkit-"+ke+"-ms-flex-item-"+ke.replace(se,"")+ke;default:return"-webkit-"+ke+"-ms-flex-line-pack"+ke.replace("align-content","").replace(se,"")+ke}break;case 973:case 989:if(ke.charCodeAt(3)!==45||ke.charCodeAt(4)===122)break;case 931:case 953:if(de.test(X)===!0)return(He=X.substring(X.indexOf(":")+1)).charCodeAt(0)===115?a(X.replace("stretch","fill-available"),Ie,Ae,ze).replace(":fill-available",":stretch"):ke.replace(He,"-webkit-"+He)+ke.replace(He,"-moz-"+He.replace("fill-",""))+ke;break;case 962:if(ke="-webkit-"+ke+(ke.charCodeAt(5)===102?"-ms-"+ke:"")+ke,Ae+ze===211&&ke.charCodeAt(13)===105&&0<ke.indexOf("transform",10))return ke.substring(0,ke.indexOf(";",27)+1).replace(k,"$1-webkit-$2")+ke}return ke}function s(X,Ie){var Ae=X.indexOf(Ie===1?":":"{"),ze=X.substring(0,Ie!==3?Ae:10);return Ae=X.substring(Ae+1,X.length-1),_e(Ie!==2?ze:ze.replace(Z,"$1"),Ae,Ie)}function u(X,Ie){var Ae=a(Ie,Ie.charCodeAt(0),Ie.charCodeAt(1),Ie.charCodeAt(2));return Ae!==Ie+";"?Ae.replace(te," or ($1)").substring(4):"("+Ie+")"}function c(X,Ie,Ae,ze,ke,yt,He,gt,It,Rt){for(var zt=0,pr=Ie,R;zt<ae;++zt)switch(R=le[zt].call(y,X,pr,Ae,ze,ke,yt,He,gt,It,Rt)){case void 0:case!1:case!0:case null:break;default:pr=R}if(pr!==Ie)return pr}function f(X){switch(X){case void 0:case null:ae=le.length=0;break;default:if(typeof X=="function")le[ae++]=X;else if(typeof X=="object")for(var Ie=0,Ae=X.length;Ie<Ae;++Ie)f(X[Ie]);else Ke=!!X|0}return f}function h(X){return X=X.prefix,X!==void 0&&(_e=null,X?typeof X!="function"?be=1:(be=2,_e=X):be=0),h}function y(X,Ie){var Ae=X;if(33>Ae.charCodeAt(0)&&(Ae=Ae.trim()),W=Ae,Ae=[W],0<ae){var ze=c(-1,Ie,Ae,Ae,fe,K,0,0,0,0);ze!==void 0&&typeof ze=="string"&&(Ie=ze)}var ke=t(Je,Ae,Ie,0,0);return 0<ae&&(ze=c(-2,ke,Ae,Ae,fe,K,ke.length,0,0,0),ze!==void 0&&(ke=ze)),W="",z=0,K=fe=1,ke}var _=/^\0+/g,w=/[\0\r\f]/g,v=/: */g,x=/zoo|gra/,k=/([,: ])(transform)/g,E=/,\r+?/g,C=/([\t\r\n ])*\f?&/g,j=/@(k\w+)\s*(\S*)\s*/,D=/::(place)/g,M=/:(read-only)/g,F=/[svh]\w+-[tblr]{2}/,L=/\(\s*(.*)\s*\)/g,te=/([\s\S]*?);/g,se=/-self|flex-/g,Z=/[^]*?(:[rp][el]a[\w-]+)[^]*/,de=/stretch|:\s*\w+\-(?:conte|avail)/,Ce=/([^-])(image-set\()/,K=1,fe=1,z=0,be=1,Je=[],le=[],ae=0,_e=null,Ke=0,W="";return y.use=f,y.set=h,e!==void 0&&h(e),y}var qk,jh=I(()=>{qk=a5}),$k,Ru,s5=I(()=>{$k={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ru=$k});function l5(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Gk,u5=I(()=>{Gk=l5}),Th,h0,g0,c5=I(()=>{u5(),Th=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h0=Gk(function(e){return Th.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),g0=h0}),Uo=vt(e=>{var t=typeof Symbol=="function"&&Symbol.for,r=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,u=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,f=t?Symbol.for("react.context"):60110,h=t?Symbol.for("react.async_mode"):60111,y=t?Symbol.for("react.concurrent_mode"):60111,_=t?Symbol.for("react.forward_ref"):60112,w=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,k=t?Symbol.for("react.lazy"):60116,E=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,j=t?Symbol.for("react.responder"):60118,D=t?Symbol.for("react.scope"):60119;function M(L){if(typeof L=="object"&&L!==null){var te=L.$$typeof;switch(te){case r:switch(L=L.type,L){case h:case y:case a:case u:case s:case w:return L;default:switch(L=L&&L.$$typeof,L){case f:case _:case k:case x:case c:return L;default:return te}}case o:return te}}}function F(L){return M(L)===y}e.AsyncMode=h,e.ConcurrentMode=y,e.ContextConsumer=f,e.ContextProvider=c,e.Element=r,e.ForwardRef=_,e.Fragment=a,e.Lazy=k,e.Memo=x,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=w,e.isAsyncMode=function(L){return F(L)||M(L)===h},e.isConcurrentMode=F,e.isContextConsumer=function(L){return M(L)===f},e.isContextProvider=function(L){return M(L)===c},e.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===r},e.isForwardRef=function(L){return M(L)===_},e.isFragment=function(L){return M(L)===a},e.isLazy=function(L){return M(L)===k},e.isMemo=function(L){return M(L)===x},e.isPortal=function(L){return M(L)===o},e.isProfiler=function(L){return M(L)===u},e.isStrictMode=function(L){return M(L)===s},e.isSuspense=function(L){return M(L)===w},e.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===a||L===y||L===u||L===s||L===w||L===v||typeof L=="object"&&L!==null&&(L.$$typeof===k||L.$$typeof===x||L.$$typeof===c||L.$$typeof===f||L.$$typeof===_||L.$$typeof===C||L.$$typeof===j||L.$$typeof===D||L.$$typeof===E)},e.typeOf=M}),ml=vt((e,t)=>{t.exports=Uo()}),vl=vt((e,t)=>{var r=ml(),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};c[r.ForwardRef]=s,c[r.Memo]=u;function f(E){return r.isMemo(E)?u:c[E.$$typeof]||o}var h=Object.defineProperty,y=Object.getOwnPropertyNames,_=Object.getOwnPropertySymbols,w=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,x=Object.prototype;function k(E,C,j){if(typeof C!="string"){if(x){var D=v(C);D&&D!==x&&k(E,D,j)}var M=y(C);_&&(M=M.concat(_(C)));for(var F=f(E),L=f(C),te=0;te<M.length;++te){var se=M[te];if(!a[se]&&!(j&&j[se])&&!(L&&L[se])&&!(F&&F[se])){var Z=w(C,se);try{h(E,se,Z)}catch{}}}}return E}t.exports=k});function ri(){return(ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function la(e){return typeof e=="function"}function yl(e){return e.displayName||e.name||"Component"}function Od(e){return e&&typeof e.styledComponentId=="string"}function ua(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}function Ah(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=Mh(t%52)+r;return(Mh(t%52)+r).replace(ex,"$1-$2")}function Zk(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(la(r)&&!Od(r))return!1}return!0}function Dh(e){var t,r,o,a,s=e===void 0?oi:e,u=s.options,c=u===void 0?oi:u,f=s.plugins,h=f===void 0?Mu:f,y=new qk(c),_=[],w=function(k){function E(C){if(C)try{k(C+"}")}catch{}}return function(C,j,D,M,F,L,te,se,Z,de){switch(C){case 1:if(Z===0&&j.charCodeAt(0)===64)return k(j+";"),"";break;case 2:if(se===0)return j+"/*|*/";break;case 3:switch(se){case 102:case 112:return k(D[0]+j),"";default:return j+(de===0?"/*|*/":"")}case-2:j.split("/*|*/}").forEach(E)}}}(function(k){_.push(k)}),v=function(k,E,C){return E===0&&I0.indexOf(C[r.length])!==-1||C.match(a)?k:"."+t};function x(k,E,C,j){j===void 0&&(j="&");var D=k.replace(Uh,""),M=E&&C?C+" "+E+" { "+D+" }":D;return t=j,r=E,o=new RegExp("\\"+r+"\\b","g"),a=new RegExp("(\\"+r+"\\b){2,}"),y(C||!E?"":E,M)}return y.use([].concat(h,[function(k,E,C){k===2&&C.length&&C[0].lastIndexOf(r)>0&&(C[0]=C[0].replace(o,v))},w,function(k){if(k===-2){var E=_;return _=[],E}}])),x.hash=h.length?h.reduce(function(k,E){return E.name||ua(15),rs(k,E.name)},5381).toString():"",x}function jd(){return(0,Nr.useContext)(Vh)||Lh}function es(){return(0,Nr.useContext)(Hh)||Nd}function zh(e){var t=(0,Nr.useState)(e.stylisPlugins),r=t[0],o=t[1],a=jd(),s=(0,Nr.useMemo)(function(){var c=a;return e.sheet?c=e.sheet:e.target&&(c=c.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(c=c.reconstructWithOptions({useCSSOMInjection:!1})),c},[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,Nr.useMemo)(function(){return Dh({options:{prefix:!e.disableVendorPrefixes},plugins:r})},[e.disableVendorPrefixes,r]);return(0,Nr.useEffect)(function(){(0,Dd.default)(r,e.stylisPlugins)||o(e.stylisPlugins)},[e.stylisPlugins]),Nr.default.createElement(Vh.Provider,{value:s},Nr.default.createElement(Hh.Provider,{value:u},e.children))}function Bh(e){return nx.test(e)?e.replace(l,S).replace(g,"-ms-"):e}function bl(e,t,r,o){if(Array.isArray(e)){for(var a,s=[],u=0,c=e.length;u<c;u+=1)(a=bl(e[u],t,r,o))!==""&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));return s}if(A(e))return"";if(Od(e))return"."+e.styledComponentId;if(la(e)){if(typeof(h=e)!="function"||h.prototype&&h.prototype.isReactComponent||!t)return e;var f=e(t);return bl(f,t,r,o)}var h;return e instanceof rx?r?(e.inject(r,o),e.getName(o)):e:Fu(e)?function y(_,w){var v,x,k=[];for(var E in _)_.hasOwnProperty(E)&&!A(_[E])&&(Array.isArray(_[E])&&_[E].isCss||la(_[E])?k.push(Bh(E)+":",_[E],";"):Fu(_[E])?k.push.apply(k,y(_[E],E)):k.push(Bh(E)+": "+(v=E,(x=_[E])==null||typeof x=="boolean"||x===""?"":typeof x!="number"||x===0||v in Ru||v.startsWith("--")?String(x).trim():x+"px")+";"));return w?[w+" {"].concat(k,["}"]):k}(e):e.toString()}function Mn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return la(e)||Fu(e)?V(bl(Nu(Mu,[e].concat(r)))):r.length===0&&e.length===1&&typeof e[0]=="string"?e:V(bl(Nu(e,r)))}function ni(e){return e.replace(ue,"-").replace(Se,"")}function Td(e){return typeof e=="string"&&!0}function m0(e,t,r){var o=e[r];Ve(t)&&Ve(o)?Ad(o,t):e[r]=t}function Ad(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];for(var a=0,s=r;a<s.length;a++){var u=s[a];if(Ve(u))for(var c in u)at(c)&&m0(e,u[c],c)}return e}function Rh(e,t,r){var o=Od(e),a=!Td(e),s=t.attrs,u=s===void 0?Mu:s,c=t.componentId,f=c===void 0?function(j,D){var M=typeof j!="string"?"sc":ni(j);mt[M]=(mt[M]||0)+1;var F=M+"-"+Te("5.3.11"+M+mt[M]);return D?D+"-"+F:F}(t.displayName,t.parentComponentId):c,h=t.displayName,y=h===void 0?function(j){return Td(j)?"styled."+j:"Styled("+yl(j)+")"}(e):h,_=t.displayName&&t.componentId?ni(t.displayName)+"-"+t.componentId:t.componentId||f,w=o&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,v=t.shouldForwardProp;o&&e.shouldForwardProp&&(v=t.shouldForwardProp?function(j,D,M){return e.shouldForwardProp(j,D,M)&&t.shouldForwardProp(j,D,M)}:e.shouldForwardProp);var x,k=new C0(r,_,o?e.componentStyle:void 0),E=k.isStatic&&u.length===0,C=function(j,D){return function(M,F,L,te){var se=M.attrs,Z=M.componentStyle,de=M.defaultProps,Ce=M.foldedComponentIds,K=M.shouldForwardProp,fe=M.styledComponentId,z=M.target,be=function(ze,ke,yt){ze===void 0&&(ze=oi);var He=ri({},ke,{theme:ze}),gt={};return yt.forEach(function(It){var Rt,zt,pr,R=It;for(Rt in la(R)&&(R=R(He)),R)He[Rt]=gt[Rt]=Rt==="className"?(zt=gt[Rt],pr=R[Rt],zt&&pr?zt+" "+pr:zt||pr):R[Rt]}),[He,gt]}($(F,(0,Nr.useContext)(st),de)||oi,F,se),Je=be[0],le=be[1],ae=function(ze,ke,yt,He){var gt=jd(),It=es(),Rt=ke?ze.generateAndInjectStyles(oi,gt,It):ze.generateAndInjectStyles(yt,gt,It);return Rt}(Z,te,Je),_e=L,Ke=le.$as||F.$as||le.as||F.as||z,W=Td(Ke),X=le!==F?ri({},F,{},le):F,Ie={};for(var Ae in X)Ae[0]!=="$"&&Ae!=="as"&&(Ae==="forwardedAs"?Ie.as=X[Ae]:(K?K(Ae,g0,Ke):!W||g0(Ae))&&(Ie[Ae]=X[Ae]));return F.style&&le.style!==F.style&&(Ie.style=ri({},F.style,{},le.style)),Ie.className=Array.prototype.concat(Ce,fe,ae!==fe?ae:null,F.className,le.className).filter(Boolean).join(" "),Ie.ref=_e,(0,Nr.createElement)(Ke,Ie)}(x,j,D,E)};return C.displayName=y,(x=Nr.default.forwardRef(C)).attrs=w,x.componentStyle=k,x.displayName=y,x.shouldForwardProp=v,x.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Mu,x.styledComponentId=_,x.target=o?e.target:e,x.withComponent=function(j){var D=t.componentId,M=function(L,te){if(L==null)return{};var se,Z,de={},Ce=Object.keys(L);for(Z=0;Z<Ce.length;Z++)se=Ce[Z],te.indexOf(se)>=0||(de[se]=L[se]);return de}(t,["componentId"]),F=D&&D+"-"+(Td(j)?j:ni(yl(j)));return Rh(j,ri({},M,{attrs:w,componentId:F}),r)},Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=o?Ad({},e.defaultProps,j):j}}),Object.defineProperty(x,"toString",{value:function(){return"."+x.styledComponentId}}),a&&(0,b0.default)(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),x}function v0(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var a=Mn.apply(void 0,[e].concat(r)),s="sc-global-"+Te(JSON.stringify(a)),u=new Et(a,s);function c(h){var y=jd(),_=es(),w=(0,Nr.useContext)(st),v=(0,Nr.useRef)(y.allocateGSInstance(s)).current;return y.server&&f(v,h,y,w,_),(0,Nr.useLayoutEffect)(function(){if(!y.server)return f(v,h,y,w,_),function(){return u.removeStyles(v,y)}},[v,h,y,w,_]),null}function f(h,y,_,w,v){if(u.isStatic)u.renderStyles(h,w0,_,v);else{var x=ri({},y,{theme:$(y,w,c.defaultProps)});u.renderStyles(h,x,_,v)}}return Nr.default.memo(c)}var y0,Nr,Dd,b0,Nu,Fu,Mu,oi,ii,Uu,Xk,w0,_0,ca,wl,Vu,zd,k0,x0,S0,Un,Yk,Nh,Fh,E0,Bd,Rd,Qk,Vn,Jk,ts,ex,Mh,rs,P0,tx,C0,Uh,I0,Vh,Hh,Lh,Nd,rx,nx,l,g,S,A,V,$,ue,Se,Te,Ve,at,st,mt,jt,Et,G,Re=I(()=>{y0=oe(i5()),Nr=oe(pe()),Dd=oe(Wk()),jh(),s5(),c5(),b0=oe(vl()),Nu=function(e,t){for(var r=[e[0]],o=0,a=t.length;o<a;o+=1)r.push(t[o],e[o+1]);return r},Fu=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!(0,y0.typeOf)(e)},Mu=Object.freeze([]),oi=Object.freeze({}),ii=typeof process<"u"&&O!==void 0&&(O.REACT_APP_SC_ATTR||O.SC_ATTR)||"data-styled",Uu=typeof window<"u"&&"HTMLElement"in window,Xk=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&O!==void 0&&(O.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&O.REACT_APP_SC_DISABLE_SPEEDY!==""?O.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&O.REACT_APP_SC_DISABLE_SPEEDY:O.SC_DISABLE_SPEEDY!==void 0&&O.SC_DISABLE_SPEEDY!==""&&O.SC_DISABLE_SPEEDY!=="false"&&O.SC_DISABLE_SPEEDY)),w0={},_0=function(){function e(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var t=e.prototype;return t.indexOfGroup=function(r){for(var o=0,a=0;a<r;a++)o+=this.groupSizes[a];return o},t.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var a=this.groupSizes,s=a.length,u=s;r>=u;)(u<<=1)<0&&ua(16,""+r);this.groupSizes=new Uint32Array(u),this.groupSizes.set(a),this.length=u;for(var c=s;c<u;c++)this.groupSizes[c]=0}for(var f=this.indexOfGroup(r+1),h=0,y=o.length;h<y;h++)this.tag.insertRule(f,o[h])&&(this.groupSizes[r]++,f++)},t.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],a=this.indexOfGroup(r),s=a+o;this.groupSizes[r]=0;for(var u=a;u<s;u++)this.tag.deleteRule(a)}},t.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var a=this.groupSizes[r],s=this.indexOfGroup(r),u=s+a,c=s;c<u;c++)o+=this.tag.getRule(c)+`/*!sc*/
`;return o},e}(),ca=new Map,wl=new Map,Vu=1,zd=function(e){if(ca.has(e))return ca.get(e);for(;wl.has(Vu);)Vu++;var t=Vu++;return ca.set(e,t),wl.set(t,e),t},k0=function(e){return wl.get(e)},x0=function(e,t){t>=Vu&&(Vu=t+1),ca.set(e,t),wl.set(t,e)},S0="style["+ii+'][data-styled-version="5.3.11"]',Un=new RegExp("^"+ii+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Yk=function(e,t,r){for(var o,a=r.split(","),s=0,u=a.length;s<u;s++)(o=a[s])&&e.registerName(t,o)},Nh=function(e,t){for(var r=(t.textContent||"").split(`/*!sc*/
`),o=[],a=0,s=r.length;a<s;a++){var u=r[a].trim();if(u){var c=u.match(Un);if(c){var f=0|parseInt(c[1],10),h=c[2];f!==0&&(x0(h,f),Yk(e,h,c[3]),e.getTag().insertRules(f,o)),o.length=0}else o.push(u)}}},Fh=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},E0=function(e){var t=document.head,r=e||t,o=document.createElement("style"),a=function(c){for(var f=c.childNodes,h=f.length;h>=0;h--){var y=f[h];if(y&&y.nodeType===1&&y.hasAttribute(ii))return y}}(r),s=a!==void 0?a.nextSibling:null;o.setAttribute(ii,"active"),o.setAttribute("data-styled-version","5.3.11");var u=Fh();return u&&o.setAttribute("nonce",u),r.insertBefore(o,s),o},Bd=function(){function e(r){var o=this.element=E0(r);o.appendChild(document.createTextNode("")),this.sheet=function(a){if(a.sheet)return a.sheet;for(var s=document.styleSheets,u=0,c=s.length;u<c;u++){var f=s[u];if(f.ownerNode===a)return f}ua(17)}(o),this.length=0}var t=e.prototype;return t.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},t.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.getRule=function(r){var o=this.sheet.cssRules[r];return o!==void 0&&typeof o.cssText=="string"?o.cssText:""},e}(),Rd=function(){function e(r){var o=this.element=E0(r);this.nodes=o.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(r,o){if(r<=this.length&&r>=0){var a=document.createTextNode(o),s=this.nodes[r];return this.element.insertBefore(a,s||null),this.length++,!0}return!1},t.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},e}(),Qk=function(){function e(r){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.getRule=function(r){return r<this.length?this.rules[r]:""},e}(),Vn=Uu,Jk={isServer:!Uu,useCSSOMInjection:!Xk},ts=function(){function e(r,o,a){r===void 0&&(r=oi),o===void 0&&(o={}),this.options=ri({},Jk,{},r),this.gs=o,this.names=new Map(a),this.server=!!r.isServer,!this.server&&Uu&&Vn&&(Vn=!1,function(s){for(var u=document.querySelectorAll(S0),c=0,f=u.length;c<f;c++){var h=u[c];h&&h.getAttribute(ii)!=="active"&&(Nh(s,h),h.parentNode&&h.parentNode.removeChild(h))}}(this))}e.registerId=function(r){return zd(r)};var t=e.prototype;return t.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new e(ri({},this.options,{},r),this.gs,o&&this.names||void 0)},t.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.getTag=function(){return this.tag||(this.tag=(a=(o=this.options).isServer,s=o.useCSSOMInjection,u=o.target,r=a?new Qk(u):s?new Bd(u):new Rd(u),new _0(r)));var r,o,a,s,u},t.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.registerName=function(r,o){if(zd(r),this.names.has(r))this.names.get(r).add(o);else{var a=new Set;a.add(o),this.names.set(r,a)}},t.insertRules=function(r,o,a){this.registerName(r,o),this.getTag().insertRules(zd(r),a)},t.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.clearRules=function(r){this.getTag().clearGroup(zd(r)),this.clearNames(r)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(r){for(var o=r.getTag(),a=o.length,s="",u=0;u<a;u++){var c=k0(u);if(c!==void 0){var f=r.names.get(c),h=o.getGroup(u);if(f&&h&&f.size){var y=ii+".g"+u+'[id="'+c+'"]',_="";f!==void 0&&f.forEach(function(w){w.length>0&&(_+=w+",")}),s+=""+h+y+'{content:"'+_+`"}/*!sc*/
`}}}return s}(this)},e}(),ex=/(a)(d)/gi,Mh=function(e){return String.fromCharCode(e+(e>25?39:97))},rs=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},P0=function(e){return rs(5381,e)},tx=P0("5.3.11"),C0=function(){function e(t,r,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&Zk(t),this.componentId=r,this.baseHash=rs(tx,r),this.baseStyle=o,ts.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,o){var a=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(t,r,o)),this.isStatic&&!o.hash)if(this.staticRulesId&&r.hasNameForId(a,this.staticRulesId))s.push(this.staticRulesId);else{var u=bl(this.rules,t,r,o).join(""),c=Ah(rs(this.baseHash,u)>>>0);if(!r.hasNameForId(a,c)){var f=o(u,"."+c,void 0,a);r.insertRules(a,c,f)}s.push(c),this.staticRulesId=c}else{for(var h=this.rules.length,y=rs(this.baseHash,o.hash),_="",w=0;w<h;w++){var v=this.rules[w];if(typeof v=="string")_+=v;else if(v){var x=bl(v,t,r,o),k=Array.isArray(x)?x.join(""):x;y=rs(y,k+w),_+=k}}if(_){var E=Ah(y>>>0);if(!r.hasNameForId(a,E)){var C=o(_,"."+E,void 0,a);r.insertRules(a,E,C)}s.push(E)}}return s.join(" ")},e}(),Uh=/^\s*\/\/.*$/gm,I0=[":","[",".","#"],Vh=Nr.default.createContext(),Vh.Consumer,Hh=Nr.default.createContext(),Lh=(Hh.Consumer,new ts),Nd=Dh(),rx=function(){function e(t,r){var o=this;this.inject=function(a,s){s===void 0&&(s=Nd);var u=o.name+s.hash;a.hasNameForId(o.id,u)||a.insertRules(o.id,u,s(o.rules,u,"@keyframes"))},this.toString=function(){return ua(12,String(o.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=r}return e.prototype.getName=function(t){return t===void 0&&(t=Nd),this.name+t.hash},e}(),nx=/([A-Z])/,l=/([A-Z])/g,g=/^ms-/,S=function(e){return"-"+e.toLowerCase()},A=function(e){return e==null||e===!1||e===""},V=function(e){return Array.isArray(e)&&(e.isCss=!0),e},$=function(e,t,r){return r===void 0&&(r=oi),e.theme!==r.theme&&e.theme||t||r.theme},ue=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Se=/(^-|-$)/g,Te=function(e){return Ah(P0(e)>>>0)},Ve=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},at=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"},st=Nr.default.createContext(),st.Consumer,mt={},jt=function(e){return function t(r,o,a){if(a===void 0&&(a=oi),!(0,y0.isValidElementType)(o))return ua(1,String(o));var s=function(){return r(o,a,Mn.apply(void 0,arguments))};return s.withConfig=function(u){return t(r,o,ri({},a,{},u))},s.attrs=function(u){return t(r,o,ri({},a,{attrs:Array.prototype.concat(a.attrs,u).filter(Boolean)}))},s}(Rh,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){jt[e]=jt(e)}),Et=function(){function e(r,o){this.rules=r,this.componentId=o,this.isStatic=Zk(r),ts.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(r,o,a,s){var u=s(bl(this.rules,o,a,s).join(""),""),c=this.componentId+r;a.insertRules(c,c,u)},t.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.renderStyles=function(r,o,a,s){r>2&&ts.registerId(this.componentId+r),this.removeStyles(r,a),this.createStyles(r,o,a,s)},e}(),function(){function e(){var r=this;this._emitSheetCSS=function(){var o=r.instance.toString();if(!o)return"";var a=Fh();return"<style "+[a&&'nonce="'+a+'"',ii+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+o+"</style>"},this.getStyleTags=function(){return r.sealed?ua(2):r._emitSheetCSS()},this.getStyleElement=function(){var o;if(r.sealed)return ua(2);var a=((o={})[ii]="",o["data-styled-version"]="5.3.11",o.dangerouslySetInnerHTML={__html:r.instance.toString()},o),s=Fh();return s&&(a.nonce=s),[Nr.default.createElement("style",ri({},a,{key:"sc-0-0"}))]},this.seal=function(){r.sealed=!0},this.instance=new ts({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(r){return this.sealed?ua(2):Nr.default.createElement(zh,{sheet:this.instance},r)},t.interleaveWithNodeStream=function(r){return ua(3)},e}(),G=jt});function Vt(){return Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Vt.apply(this,arguments)}var sr=I(()=>{});function On(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var to=I(()=>{});function en(e,t){return en=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},en(e,t)}var gr=I(()=>{});function jn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,en(e,t)}var wo=I(()=>{gr()});function Vo(e){return Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vo(e)}var _l=I(()=>{});function kl(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var xl=I(()=>{});function Sl(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var El=I(()=>{});function Fr(e,t,r){return Sl()?Fr=Reflect.construct:Fr=function(o,a,s){var u=[null];u.push.apply(u,a);var c=Function.bind.apply(o,u),f=new c;return s&&en(f,s.prototype),f},Fr.apply(null,arguments)}var _o=I(()=>{gr(),El()});function mr(e){var t=typeof Map=="function"?new Map:void 0;return mr=function(r){if(r===null||!kl(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return Fr(r,arguments,Vo(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),en(o,r)},mr(e)}var da=I(()=>{_l(),gr(),xl(),_o()}),fa=I(()=>{});function $ee(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Gee(e,t){if(!e)return t.toLowerCase();var r=e.split("-");if(r.length>1)return r.splice(1,0,t),r.reduce(function(a,s){return""+a+$ee(s)});var o=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===o?""+e+t:o}function Zee(e,t){for(var r={},o=0;o<t.length;o+=1)(t[o]||t[o]===0)&&(r[Gee(e,qA[o])]=t[o]);return r}function UA(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var a=r[0],s=r[1],u=s===void 0?a:s,c=r[2],f=c===void 0?a:c,h=r[3],y=h===void 0?u:h,_=[a,u,f,y];return Zee(e,_)}function d5(e){return Math.round(e*255)}function Xee(e,t,r){return d5(e)+","+d5(t)+","+d5(r)}function ox(e,t,r,o){if(o===void 0&&(o=Xee),t===0)return o(r,r,r);var a=(e%360+360)%360/60,s=(1-Math.abs(2*r-1))*t,u=s*(1-Math.abs(a%2-1)),c=0,f=0,h=0;a>=0&&a<1?(c=s,f=u):a>=1&&a<2?(c=u,f=s):a>=2&&a<3?(f=s,h=u):a>=3&&a<4?(f=u,h=s):a>=4&&a<5?(c=u,h=s):a>=5&&a<6&&(c=s,h=u);var y=r-s/2,_=c+y,w=f+y,v=h+y;return o(_,w,v)}function Yee(e){if(typeof e!="string")return e;var t=e.toLowerCase();return m5[t]?"#"+m5[t]:e}function VA(e){if(typeof e!="string")throw new pa(3);var t=Yee(e);if(t.match($A))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(GA)){var r=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:r}}if(t.match(ZA))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(XA)){var o=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:o}}var a=sx.exec(t);if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10)};var s=YA.exec(t.substring(0,50));if(s)return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10),alpha:parseFloat(""+s[4])};var u=QA.exec(t);if(u){var c=parseInt(""+u[1],10),f=parseInt(""+u[2],10)/100,h=parseInt(""+u[3],10)/100,y="rgb("+ox(c,f,h)+")",_=sx.exec(y);if(!_)throw new pa(4,t,y);return{red:parseInt(""+_[1],10),green:parseInt(""+_[2],10),blue:parseInt(""+_[3],10)}}var w=JA.exec(t.substring(0,50));if(w){var v=parseInt(""+w[1],10),x=parseInt(""+w[2],10)/100,k=parseInt(""+w[3],10)/100,E="rgb("+ox(v,x,k)+")",C=sx.exec(E);if(!C)throw new pa(4,t,E);return{red:parseInt(""+C[1],10),green:parseInt(""+C[2],10),blue:parseInt(""+C[3],10),alpha:parseFloat(""+w[4])}}throw new pa(5)}function Qee(e){var t=e.red/255,r=e.green/255,o=e.blue/255,a=Math.max(t,r,o),s=Math.min(t,r,o),u=(a+s)/2;if(a===s)return e.alpha!==void 0?{hue:0,saturation:0,lightness:u,alpha:e.alpha}:{hue:0,saturation:0,lightness:u};var c,f=a-s,h=u>.5?f/(2-a-s):f/(a+s);switch(a){case t:c=(r-o)/f+(r<o?6:0);break;case r:c=(o-t)/f+2;break;default:c=(t-r)/f+4;break}return c*=60,e.alpha!==void 0?{hue:c,saturation:h,lightness:u,alpha:e.alpha}:{hue:c,saturation:h,lightness:u}}function f5(e){return Qee(VA(e))}function Fd(e){var t=e.toString(16);return t.length===1?"0"+t:t}function p5(e){return Fd(Math.round(e*255))}function Jee(e,t,r){return lx("#"+p5(e)+p5(t)+p5(r))}function HA(e,t,r){return ox(e,t,r,Jee)}function ete(e,t,r){if(typeof e=="object"&&t===void 0&&r===void 0)return HA(e.hue,e.saturation,e.lightness);throw new pa(1)}function tte(e,t,r,o){if(typeof e=="object"&&t===void 0&&r===void 0&&o===void 0)return e.alpha>=1?HA(e.hue,e.saturation,e.lightness):"rgba("+ox(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new pa(2)}function LA(e,t,r){if(typeof e=="number"&&typeof t=="number"&&typeof r=="number")return lx("#"+Fd(e)+Fd(t)+Fd(r));if(typeof e=="object"&&t===void 0&&r===void 0)return lx("#"+Fd(e.red)+Fd(e.green)+Fd(e.blue));throw new pa(6)}function KA(e,t,r,o){if(typeof e=="object"&&t===void 0&&r===void 0&&o===void 0)return e.alpha>=1?LA(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new pa(7)}function h5(e){if(typeof e!="object")throw new pa(8);if(tD(e))return KA(e);if(eD(e))return LA(e);if(nD(e))return tte(e);if(rD(e))return ete(e);throw new pa(8)}function WA(e,t,r){return function(){var o=r.concat(Array.prototype.slice.call(arguments));return o.length>=t?e.apply(this,o):WA(e,t,o)}}function ix(e){return WA(e,e.length,[])}function ax(e,t,r){return Math.max(e,Math.min(t,r))}function rte(e,t){if(t==="transparent")return t;var r=f5(t);return h5(Vt({},r,{lightness:ax(0,1,r.lightness-parseFloat(e))}))}function nte(e,t){if(t==="transparent")return t;var r=f5(t);return h5(Vt({},r,{lightness:ax(0,1,r.lightness+parseFloat(e))}))}function ote(e,t){if(t==="transparent")return t;var r=f5(t);return h5(Vt({},r,{saturation:ax(0,1,r.saturation+parseFloat(e))}))}function ite(e,t){if(t==="transparent")return t;var r=VA(t),o=typeof r.alpha=="number"?r.alpha:1,a=Vt({},r,{alpha:ax(0,1,+(o*100-parseFloat(e)*100).toFixed(2)/100)});return KA(a)}function g5(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return oD.indexOf(e)>=0&&e?Vt({},UA.apply(void 0,[""].concat(r)),{position:e}):UA.apply(void 0,["",e].concat(r))}var pa,qA,m5,$A,GA,ZA,XA,sx,YA,QA,JA,lx,eD,tD,rD,nD,O0,Kh,ux,ha,oD,ai=I(()=>{sr(),to(),wo(),da(),fa(),pa=function(e){jn(t,e);function t(r){var o;return o=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+r+" for more information.")||this,On(o)}return t}(mr(Error)),qA=["Top","Right","Bottom","Left"],m5={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$A=/^#[a-fA-F0-9]{6}$/,GA=/^#[a-fA-F0-9]{8}$/,ZA=/^#[a-fA-F0-9]{3}$/,XA=/^#[a-fA-F0-9]{4}$/,sx=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,YA=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,QA=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,JA=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,lx=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},eD=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},tD=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},rD=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},nD=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"},O0=ix(rte),Kh=ix(nte),ux=ix(ote),ha=ix(ite),oD=["absolute","fixed","relative","static","sticky"]});function ate(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function Md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(o){ate(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Wh(e,t){if(e==null)return{};var r={},o=Object.keys(e),a,s;for(s=0;s<o.length;s++)a=o[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var j0=I(()=>{}),aD,v5,sD=I(()=>{aD=oe(pe()),v5=(0,aD.createContext)({})});function ste(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(o){ste(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function y5(e,t){if(e==null)return{};var r={},o=Object.keys(e),a,s;for(s=0;s<o.length;s++)a=o[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function lte(e,t){if(e){if(typeof e=="string")return uD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uD(e,t)}}function uD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function cD(e,t){var r;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=lte(e))||t){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return r=e[Symbol.iterator](),r.next.bind(r)}var cx=I(()=>{});function ute(e){return typeof e=="function"}var b5,dD,cte=I(()=>{b5=oe(pe()),sD(),cx(),dD=function(e,t,r){r===void 0&&(r=t.children);var o=(0,b5.useContext)(v5);if(o.useCreateElement)return o.useCreateElement(e,t,r);if(typeof e=="string"&&ute(r)){t.children;var a=y5(t,["children"]);return r(a)}return(0,b5.createElement)(e,t,r)}});function dte(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(o){dte(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function fte(e,t){if(e==null)return{};var r={},o=Object.keys(e),a,s;for(s=0;s<o.length;s++)a=o[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var pD=I(()=>{});function pte(e){return typeof e=="object"&&e!=null}var hte=I(()=>{});function w5(e){var t;if(!pte(e))return!1;var r=Object.getPrototypeOf(e);return r==null?!0:((t=r.constructor)===null||t===void 0?void 0:t.toString())===Object.toString()}var hD=I(()=>{hte()});function gD(e,t){for(var r=Object.keys(e),o={},a={},s=0,u=r;s<u.length;s++){var c=u[s];t.indexOf(c)>=0?o[c]=e[c]:a[c]=e[c]}return[o,a]}function mD(e,t){if(t===void 0&&(t=[]),!w5(e.state))return gD(e,t);var r=gD(e,[].concat(t,["state"])),o=r[0],a=r[1],s=o.state,u=fte(o,["state"]);return[$h($h({},s),u),a]}var gte=I(()=>{pD(),hD()});function dx(e,t){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;var r=Object.keys(e),o=Object.keys(t),a=r.length;if(o.length!==a)return!1;for(var s=0,u=r;s<u.length;s++){var c=u[s];if(e[c]!==t[c])return!1}return!0}var _5=I(()=>{});function vD(e){return e.name==="normalizePropsAreEqualInner"?e:function(t,r){return!w5(t.state)||!w5(r.state)?e(t,r):e($h($h({},t.state),t),$h($h({},r.state),r))}}var mte=I(()=>{pD(),hD()});function vte(e){return(0,k5.forwardRef)(e)}function yte(e,t){return(0,k5.memo)(e,t)}function T0(e){var t=e.as,r=e.useHook,o=e.memo,a=e.propsAreEqual,s=a===void 0?r==null?void 0:r.unstable_propsAreEqual:a,u=e.keys,c=u===void 0?(r==null?void 0:r.__keys)||[]:u,f=e.useCreateElement,h=f===void 0?dD:f,y=function(_,w){var v=_.as,x=v===void 0?t:v,k=y5(_,["as"]);if(r){var E,C=mD(k,c),j=C[0],D=C[1],M=r(j,qh({ref:w},D)),F=M.wrapElement,L=y5(M,["wrapElement"]),te=((E=x.render)===null||E===void 0?void 0:E.__keys)||x.__keys,se=te&&mD(k,te)[0],Z=se?qh(qh({},L),se):L,de=h(x,Z);return F?F(de):de}return h(x,qh({ref:w},k))};return y=vte(y),o&&(y=yte(y,s&&vD(s))),y.__keys=c,y.unstable_propsAreEqual=vD(s||dx),y}var k5,A0=I(()=>{k5=oe(pe()),cx(),cte(),gte(),_5(),mte()});function yD(e,t){(0,x5.useDebugValue)(e);var r=(0,x5.useContext)(v5);return r[e]!=null?r[e]:t}var x5,bD=I(()=>{x5=oe(pe()),sD()});function bte(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o="use"+e+"Props";(0,wD.useDebugValue)(o);var a=yD(o);return a?a(t,r):r}var wD,wte=I(()=>{wD=oe(pe()),bD()});function _te(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o="use"+e+"Options";(0,_D.useDebugValue)(o);var a=yD(o);return a?qh(qh({},t),a(t,r)):t}var _D,kte=I(()=>{_D=oe(pe()),bD(),cx()});function xte(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}var Ste=I(()=>{});function D0(e){var t,r,o=xte(e.compose),a=function(c,f){if(e.useOptions&&(c=e.useOptions(c,f)),e.name&&(c=_te(e.name,c,f)),e.compose)for(var h=cD(o),y;!(y=h()).done;){var _=y.value;c=_.__useOptions(c,f)}return c},s=function(c,f,h){if(c===void 0&&(c={}),f===void 0&&(f={}),h===void 0&&(h=!1),h||(c=a(c,f)),e.useProps&&(f=e.useProps(c,f)),e.name&&(f=bte(e.name,c,f)),e.compose)if(e.useComposeOptions&&(c=e.useComposeOptions(c,f)),e.useComposeProps)f=e.useComposeProps(c,f);else for(var y=cD(o),_;!(_=y()).done;){var w=_.value;f=w(c,f,!0)}var v={},x=f||{};for(var k in x)x[k]!==void 0&&(v[k]=x[k]);return v};s.__useOptions=a;var u=o.reduce(function(c,f){return c.push.apply(c,f.__keys||[]),c},[]);return s.__keys=[].concat(u,((t=e.useState)===null||t===void 0?void 0:t.__keys)||[],e.keys||[]),s.unstable_propsAreEqual=e.propsAreEqual||((r=o[0])===null||r===void 0?void 0:r.unstable_propsAreEqual)||dx,s}var z0=I(()=>{oe(pe()),wte(),cx(),kte(),_5(),Ste()});function kD(e,t){t===void 0&&(t=null),e&&(typeof e=="function"?e(t):e.current=t)}function xD(e,t){return(0,SD.useMemo)(function(){return e==null&&t==null?null:function(r){kD(e,r),kD(t,r)}},[e,t])}var SD,ED=I(()=>{SD=oe(pe())});function S5(e){if(e.tagName==="BUTTON")return!0;if(e.tagName==="INPUT"){var t=e;return PD.indexOf(t.type)!==-1}return!1}var PD,E5=I(()=>{PD=["button","color","file","image","reset","submit"]}),P5=I(()=>{}),Ete=I(()=>{P5(),oe(pe())}),fx=I(()=>{P5(),oe(pe()),Ete()});function Pte(e){return e?e.ownerDocument||e:document}var CD=I(()=>{});function Cte(e){return ID}var ID,Ite=I(()=>{CD();try{ID=window}catch{}});function Ote(){var e=Cte();return!!(typeof e<"u"&&e.document&&e.document.createElement)}var px,C5=I(()=>{Ite(),px=Ote()}),I5,O5,j5=I(()=>{I5=oe(pe()),C5(),O5=px?I5.useLayoutEffect:I5.useEffect});function Gh(e){var t=(0,OD.useRef)(e);return O5(function(){t.current=e}),t}var OD,jD=I(()=>{OD=oe(pe()),j5()});function jte(e){return e.target===e.currentTarget}var Tte=I(()=>{});function Ate(e){var t=Pte(e),r=t.activeElement;return r!=null&&r.nodeName?r:null}var Dte=I(()=>{CD()});function TD(e,t){return e===t||e.contains(t)}var AD=I(()=>{});function zte(e){var t=Ate(e);if(!t)return!1;if(TD(e,t))return!0;var r=t.getAttribute("aria-activedescendant");return r?r===e.id?!0:!!e.querySelector("#"+r):!1}var Bte=I(()=>{Dte(),AD()});function Rte(e){return!TD(e.currentTarget,e.target)}var Nte=I(()=>{AD()});function hx(e){return px?window.navigator.userAgent.indexOf(e)!==-1:!1}var Fte=I(()=>{C5()});function Mte(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}var Ute=I(()=>{});function Vte(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function Hte(e){return Mte(e,DD)&&Vte(e)}var DD,Lte=I(()=>{Ute(),DD="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}),zD,gx,BD=I(()=>{j0(),A0(),z0(),_5(),zD=["unstable_system"],gx=D0({name:"Role",keys:zD,propsAreEqual:function(e,t){var r=e.unstable_system,o=Wh(e,["unstable_system"]),a=t.unstable_system,s=Wh(t,["unstable_system"]);return r!==a&&!dx(r,a)?!1:dx(o,s)}}),T0({as:"div",useHook:gx})});function RD(e){!zte(e)&&Hte(e)&&e.focus()}function Kte(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.tagName==="A"}function Wte(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"}function qte(e,t,r,o){return e?t&&!r?-1:void 0:t?o:o||0}function T5(e,t){return(0,Zh.useCallback)(function(r){var o;(o=e.current)===null||o===void 0||o.call(e,r),!r.defaultPrevented&&t&&(r.stopPropagation(),r.preventDefault())},[e,t])}var Zh,ND,FD,A5,$te=I(()=>{j0(),A0(),z0(),Zh=oe(pe()),ED(),E5(),fx(),jD(),j5(),Bte(),Nte(),Fte(),Lte(),BD(),ND=["disabled","focusable"],FD=hx("Mac")&&!hx("Chrome")&&(hx("Safari")||hx("Firefox")),A5=D0({name:"Tabbable",compose:gx,keys:ND,useOptions:function(e,t){var r=t.disabled;return Md({disabled:r},e)},useProps:function(e,t){var r=t.ref,o=t.tabIndex,a=t.onClickCapture,s=t.onMouseDownCapture,u=t.onMouseDown,c=t.onKeyPressCapture,f=t.style,h=Wh(t,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),y=(0,Zh.useRef)(null),_=Gh(a),w=Gh(s),v=Gh(u),x=Gh(c),k=!!e.disabled&&!e.focusable,E=(0,Zh.useState)(!0),C=E[0],j=E[1],D=(0,Zh.useState)(!0),M=D[0],F=D[1],L=e.disabled?Md({pointerEvents:"none"},f):f;O5(function(){var Ce=y.current;Ce&&(Kte(Ce)||j(!1),Wte(Ce)||F(!1))},[]);var te=T5(_,e.disabled),se=T5(w,e.disabled),Z=T5(x,e.disabled),de=(0,Zh.useCallback)(function(Ce){var K;(K=v.current)===null||K===void 0||K.call(v,Ce);var fe=Ce.currentTarget;if(!Ce.defaultPrevented&&FD&&!Rte(Ce)&&S5(fe)){var z=requestAnimationFrame(function(){fe.removeEventListener("mouseup",be,!0),RD(fe)}),be=function(){cancelAnimationFrame(z),RD(fe)};fe.addEventListener("mouseup",be,{once:!0,capture:!0})}},[]);return Md({ref:xD(y,r),style:L,tabIndex:qte(k,C,M,o),disabled:k&&M?!0:void 0,"aria-disabled":e.disabled?!0:void 0,onClickCapture:te,onMouseDownCapture:se,onMouseDown:de,onKeyPressCapture:Z},h)}}),T0({as:"div",useHook:A5})});function Gte(e){var t=e.currentTarget;return e.isTrusted?S5(t)||t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.tagName==="A"||t.tagName==="SELECT":!1}var mx,MD,D5,Zte=I(()=>{j0(),A0(),z0(),mx=oe(pe()),E5(),fx(),jD(),Tte(),$te(),MD=["unstable_clickOnEnter","unstable_clickOnSpace"],D5=D0({name:"Clickable",compose:A5,keys:MD,useOptions:function(e){var t=e.unstable_clickOnEnter,r=t===void 0?!0:t,o=e.unstable_clickOnSpace,a=o===void 0?!0:o,s=Wh(e,["unstable_clickOnEnter","unstable_clickOnSpace"]);return Md({unstable_clickOnEnter:r,unstable_clickOnSpace:a},s)},useProps:function(e,t){var r=t.onKeyDown,o=t.onKeyUp,a=Wh(t,["onKeyDown","onKeyUp"]),s=(0,mx.useState)(!1),u=s[0],c=s[1],f=Gh(r),h=Gh(o),y=(0,mx.useCallback)(function(w){var v;if((v=f.current)===null||v===void 0||v.call(f,w),!w.defaultPrevented&&!e.disabled&&!w.metaKey&&jte(w)){var x=e.unstable_clickOnEnter&&w.key==="Enter",k=e.unstable_clickOnSpace&&w.key===" ";if(x||k){if(Gte(w))return;w.preventDefault(),x?w.currentTarget.click():k&&c(!0)}}},[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),_=(0,mx.useCallback)(function(w){var v;if((v=h.current)===null||v===void 0||v.call(h,w),!w.defaultPrevented&&!e.disabled&&!w.metaKey){var x=e.unstable_clickOnSpace&&w.key===" ";u&&x&&(c(!1),w.currentTarget.click())}},[e.disabled,e.unstable_clickOnSpace,u]);return Md({"data-active":u||void 0,onKeyDown:y,onKeyUp:_},a)}}),T0({as:"button",memo:!0,useHook:D5})}),B0,UD,VD,HD,Xte=I(()=>{j0(),A0(),z0(),B0=oe(pe()),ED(),E5(),fx(),Zte(),UD=[],VD=D0({name:"Button",compose:D5,keys:UD,useProps:function(e,t){var r=t.ref,o=Wh(t,["ref"]),a=(0,B0.useRef)(null),s=(0,B0.useState)(void 0),u=s[0],c=s[1],f=(0,B0.useState)("button"),h=f[0],y=f[1];return(0,B0.useEffect)(function(){var _=a.current;_&&(S5(_)||(_.tagName!=="A"&&c("button"),y(void 0)))},[]),Md({ref:xD(a,r),role:u,type:h},o)}}),HD=T0({as:"button",memo:!0,useHook:VD})}),LD,KD,WD,Yte=I(()=>{j0(),A0(),z0(),BD(),LD=[],KD=D0({name:"Group",compose:gx,keys:LD,useProps:function(e,t){return Md({role:"group"},t)}}),WD=T0({as:"div",useHook:KD})});function Qte(){return px?document.body:null}var qD,Xh,Jte=I(()=>{qD=oe(pe()),j5(),C5(),oe(kn()),Xh=(0,qD.createContext)(Qte())}),z5,ere=I(()=>{typeof window<"u"&&(z5={get passive(){}},window.addEventListener("testPassive",null,z5),window.removeEventListener("testPassive",null,z5))}),Ud=I(()=>{oe(pe()),fx(),Xte(),Yte(),oe(kn()),Jte(),ere(),P5()});function rr(e){let t=(0,B5.useMemo)(()=>{let a=e;return{get current(){return a},set current(s){a=s,o(s)}}},[]),[r,o]=(0,B5.useState)(()=>e);return[t,r]}var B5,lr=I(()=>{B5=oe(pe())});function tre(e){return t=>ro.default.createElement(QD,null,ro.default.createElement(e,re({},t)))}var ro,$D,GD,ar,Yh,ZD,XD,YD,R5,N5,QD,ur=I(()=>{ai(),Re(),Re(),ro=oe(pe()),$D=oe(kn()),Ud(),lr(),ar=Mn(GD||(GD=Y([`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`]))),Yh={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return Kh(.6,Yh.panel.bg)}}}}}},XD=typeof window<"u"?v0(ZD||(ZD=Y([`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`]))):{},R5=G.div(YD||(YD=Y([`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`]))),N5=e=>ro.default.createElement(zh,{disableVendorPrefixes:!0,target:e.target},ro.default.createElement(ro.default.Fragment,null,ro.default.createElement(XD,null),e.children)),QD=e=>{let[t,r]=(0,ro.useState)(null),[o,a]=(0,ro.useState)(null);(0,ro.useLayoutEffect)(()=>{if(!t)return;let{parentNode:c}=t;if(!c)return;let f=c.shadowRoot?parent.shadowRoot:c.attachShadow({mode:"open"});a(f)},[t]);let[s,u]=rr(void 0);return o?$D.default.createPortal(ro.default.createElement(N5,{target:o},ro.default.createElement(ro.default.Fragment,null,ro.default.createElement(R5,{ref:s}),ro.default.createElement(Xh.Provider,{value:u},e.children))),o):ro.default.createElement("template",{ref:r,"shadow-root":"open"},e.children)}}),Qh,JD,e8,Hu,t8,R0,r8,n8,vx,o8,F5,ns,Pl=I(()=>{ur(),Re(),Qh={get outlinePanel(){return 1},get propsPanel(){return Qh.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},JD=Yh.panel.bg,Hu=G.span(e8||(e8=Y([`
  white-space: nowrap;
`]))),R0=G.span(t8||(t8=Y([`
  white-space: nowrap;
  color: `,`;
`])),Yh.panel.head.punctuation.color),n8=G.div(r8||(r8=Y([`
  background: `,`;
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`])),JD),vx=18,F5=G.div(o8||(o8=Y([`
  height: `,`px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`])),vx),ns=100}),i8,ga,Jh=I(()=>{i8=()=>{},ga=i8});function rre(e){return M5.createElement("svg",re({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M5.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var M5,U5,nre=I(()=>{M5=oe(pe()),U5=rre});function ore(e){return V5.createElement("svg",re({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),V5.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var V5,a8,ire=I(()=>{V5=oe(pe()),a8=ore});function are(e){return H5.createElement("svg",re({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),H5.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var H5,s8,sre=I(()=>{H5=oe(pe()),s8=are});function lre(e){return L5.createElement("svg",re({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),L5.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var L5,l8,ure=I(()=>{L5=oe(pe()),l8=lre});function cre(e){return K5.createElement("svg",re({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),K5.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var K5,W5,dre=I(()=>{K5=oe(pe()),W5=cre});function fre(e){return q5.createElement("svg",re({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),q5.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var q5,yx,pre=I(()=>{q5=oe(pe()),yx=fre});function hre(e){return $5.createElement("svg",re({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$5.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var $5,G5,gre=I(()=>{$5=oe(pe()),G5=hre}),N0=I(()=>{nre(),ire(),sre(),ure(),dre(),pre(),gre()}),os,u8,bx,c8,d8,f8,p8,h8,g8,m8,v8,y8,b8,w8,_8,k8,x8,S8,F0,wx=I(()=>{os=oe(pe()),Re(),Jh(),ur(),N0(),bx=G.li(u8||(u8=Y([`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`]))),d8=G.div(c8||(c8=Y([""]))),p8=G(d8)(f8||(f8=Y([`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  `,`;
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),ar),g8=Mn(h8||(h8=Y([`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`]))),v8=G.span(m8||(m8=Y([`
  `,`;

  `,`;
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`])),g8,ar),b8=G.div(y8||(y8=Y([`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`]))),_8=G.span(w8||(w8=Y([`
  font-size: 9px;
  position: relative;
  display: block;
  transition: transform 0.1s ease-out;

  &:hover {
    transform: rotate(-20deg);
  }

  `,`.collapsed & {
    transform: rotate(-90deg);

    &:hover {
      transform: rotate(-70deg);
    }
  }
`])),bx),x8=G.ul(k8||(k8=Y([`
  margin: 0;
  padding: 0;
  list-style: none;

  `,`.collapsed & {
    display: none;
  }
`])),bx),S8=({label:e,children:t,depth:r,select:o,selectionStatus:a,labelDecoration:s,collapsed:u=!1,setIsCollapsed:c})=>{let f=t!==void 0;return os.default.createElement(bx,{style:{"--depth":r},className:u?"collapsed":""},os.default.createElement(p8,{className:a,onClick:o??ga,"data-header":!0},os.default.createElement(b8,null,f?os.default.createElement(_8,{onClick:h=>{h.stopPropagation(),h.preventDefault(),c==null||c(!u)}},os.default.createElement(a8,null)):os.default.createElement(W5,null)),os.default.createElement(v8,null,os.default.createElement("span",null,e)),s),f&&os.default.createElement(x8,null,t))},F0=S8});function mre(e){return Object.keys(e)}function vre(e){return Object.keys((0,is.val)(e.sheetTemplatesP))}function yre(){let e=Ya(Lu().filter(t=>cn(t)||yr(t)).map(t=>yr(t)?t.sheet:t))[0];if(e)return e.getSequence()}var is,Lu,E8,Ku=I(()=>{is=rt(),ce(),nn(),ut(),Lu=()=>{var e;let t=(0,is.val)(ve().projectsP),r=((e=(0,is.val)(ve().atomP.historic.panels.outlinePanel.selection))!=null?e:[]).map(o=>{let a=t[o.projectId];if(!a)return;if(o.type==="Project")return a;if(!(0,is.val)(a.sheetTemplatesP[o.sheetId]))return;let s=E8(a,o.sheetId);if(!s)return;if(o.type==="Sheet")return s;let u=(0,is.val)(s.objectsP[o.objectKey]);if(u)return u});return Ya(r.filter(o=>typeof o<"u"))},E8=(e,t)=>{let r=ve().atomP.historic.projects.stateByProjectId[e.address.projectId],o=(0,is.val)(r.stateBySheetId[t].selectedInstanceId),a=(0,is.val)(e.sheetTemplatesP[t]);if(a){if(o)return(0,is.val)(a.instancesP[o]);{let s=(0,is.val)(a.instancesP);return s[mre(s)[0]]}}}}),P8,C8,bre=I(()=>{ut(),P8=oe(pe()),wx(),xt(),Ku(),C8=({sheetObject:e,depth:t,overrideLabel:r})=>{let o=()=>{ve().transaction(({stateEditors:s})=>{s.studio.historic.panels.outline.selection.set([e])})},a=Wt(()=>Lu(),[]);return P8.default.createElement(F0,{select:o,label:r??e.address.objectKey,depth:t,selectionStatus:a.includes(e)?"selected":"not-selected"})}});function Z5(e){var t;let r=e.type==="namespace"?"namespace:".concat(e.sheet.address.sheetId,":").concat(e.path.join("/")):e.type==="Theatre_Project"?"project":e.type==="Theatre_Sheet"?"sheetInstance:".concat(e.address.sheetId,":").concat(e.address.sheetInstanceId):"unknown",o=e.type==="namespace"?e.sheet.address.projectId:e.address.projectId,a=(t=Gt(ve().atomP.ahistoric.projects.stateByProjectId[o].collapsedItemsInOutline[r]))!=null?t:!1,s=(0,I8.useCallback)(u=>{ve().transaction(({stateEditors:c})=>{c.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:o,isCollapsed:u,itemKey:r})})},[r]);return{collapsed:a,setCollapsed:s}}var I8,X5=I(()=>{I8=oe(pe()),ut(),xt()});function O8(e){return as.default.createElement(as.default.Fragment,null,[...e.namespace.entries()].map(([t,{object:r,nested:o}])=>as.default.createElement(wre,{key:t,label:t,object:r,nested:o,visualIndentation:e.visualIndentation,path:e.path,sheet:e.sheet})))}function wre(e){let{nested:t,label:r,object:o,sheet:a}=e,{collapsed:s,setCollapsed:u}=Z5({type:"namespace",sheet:a,path:[...e.path,r]}),c=t&&as.default.createElement(O8,{namespace:t,path:[...e.path,r],key:"namespaceTree("+r+")",visualIndentation:e.visualIndentation+1,sheet:a}),f=o&&as.default.createElement(C8,{depth:e.visualIndentation,key:"objectPath("+o.address.objectKey+")",sheetObject:o,overrideLabel:r});return as.default.createElement(as.default.Fragment,{key:"".concat(r," - ").concat(e.visualIndentation)},f,c&&as.default.createElement(F0,{selectionStatus:"not-selectable",label:r,key:"baseItem(".concat(r,")"),depth:e.visualIndentation,children:c,collapsed:s,setIsCollapsed:u}))}function j8(e,t,r=_re(t)){let[o,...a]=r,s=e.get(o);s||(s={nested:void 0,object:void 0,path:[...r]},e.set(o,s)),a.length===0?(console.assert(!s.object,"expect not to have existing object with same name",{existing:s,object:t}),s.object=t):(s.nested||(s.nested=new Map),j8(s.nested,t,a))}function _re(e){let t=Y5.get(e);return t||(t=e.address.objectKey.split(B8),console.assert(t.length>0,"expected not empty"),Y5.set(e,t)),t}var T8,as,A8,D8,z8,B8,Y5,kre=I(()=>{xt(),T8=rt(),as=oe(pe()),Re(),bre(),wx(),X5(),G.li(A8||(A8=Y([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),D8=({sheet:e,depth:t})=>Wt(()=>{let r=(0,T8.val)(e.objectsP),o=Object.values(r).filter(s=>s!=null),a=new Map;return o.forEach(s=>{j8(a,s)}),as.default.createElement(O8,{namespace:a,visualIndentation:t,path:[],sheet:e})},[e,t]),z8=D8,B8=/\s*\/\s*/g,Y5=new WeakMap}),eg,R8,N8,F8,M8,U8,V8,xre=I(()=>{ut(),Ku(),xt(),eg=oe(pe()),Re(),kre(),wx(),X5(),N8=G.div(R8||(R8=Y([`
  display: flex;
`]))),G.li(F8||(F8=Y([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),U8=G.div(M8||(M8=Y([""]))),V8=({sheet:e,depth:t})=>{let{collapsed:r,setCollapsed:o}=Z5(e),a=(0,eg.useCallback)(()=>{ve().transaction(({stateEditors:s})=>{s.studio.historic.panels.outline.selection.set([e])})},[e]);return Wt(()=>{let s=Lu();return eg.default.createElement(F0,{depth:t,select:a,setIsCollapsed:o,collapsed:r,selectionStatus:s.some(u=>u===e)?"selected":s.some(u=>u.type==="Theatre_SheetObject"&&u.sheet===e)?"descendant-is-selected":"not-selected",label:eg.default.createElement(N8,null,e.address.sheetId,": ",e.address.sheetInstanceId)},eg.default.createElement(U8,null,eg.default.createElement(z8,{depth:t+1,sheet:e,key:"objectList"+e.address.sheetInstanceId})))},[t,r])}}),Q5,tg,H8,L8,K8,W8,Sre=I(()=>{xt(),Q5=rt(),tg=oe(pe()),Re(),xre(),G.div(H8||(H8=Y([`
  display: flex;
`]))),G.li(L8||(L8=Y([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),G.div(K8||(K8=Y([""]))),W8=({sheetId:e,depth:t,project:r})=>Wt(()=>{let o=(0,Q5.val)(r.sheetTemplatesP[e]);if(!o)return tg.default.createElement(tg.default.Fragment,null);let a=(0,Q5.val)(o.instancesP);return tg.default.createElement(tg.default.Fragment,null,Object.entries(a).map(([s,u])=>tg.default.createElement(V8,{key:u.address.sheetInstanceId,sheet:u,depth:t})))},[t,e,r])}),_x,q8,$8,Ere=I(()=>{Ku(),xt(),_x=oe(pe()),Sre(),q8=({project:e,depth:t})=>Wt(()=>{if(!e)return null;let r=vre(e);return _x.default.createElement(_x.default.Fragment,null,r.map(o=>_x.default.createElement(W8,{depth:t,sheetId:o,key:"sheet-".concat(o),project:e})))},[e,t]),$8=q8}),M0,G8,Z8,X8,Y8,Q8,Pre=I(()=>{M0=oe(pe()),wx(),Ere(),ut(),xt(),Ku(),G8=rt(),Re(),X5(),X8=G.div(Z8||(Z8=Y([`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`]))),Y8=({depth:e,project:t})=>{let r=Wt(()=>Lu(),[]),o=Wt(()=>{let c=t.address.projectId,f=(0,G8.val)(ve().atomP.ephemeral.coreByProject[c].loadingState);return(f==null?void 0:f.type)==="browserStateIsNotBasedOnDiskState"},[t]),a=(0,M0.useCallback)(()=>{ve().transaction(({stateEditors:c})=>{c.studio.historic.panels.outline.selection.set([t])})},[t]),{collapsed:s,setCollapsed:u}=Z5(t);return M0.default.createElement(F0,{depth:e,label:t.address.projectId,setIsCollapsed:u,collapsed:s,labelDecoration:o?M0.default.createElement(X8,null,"Has Conflicts"):null,children:M0.default.createElement($8,{project:t,depth:e+1}),selectionStatus:r.includes(t)?"selected":r.some(c=>c.address.projectId===t.address.projectId)?"descendant-is-selected":"not-selected",select:a})},Q8=Y8}),J8,J5,ez,tz,rz,nz,Cre=I(()=>{J8=rt(),xt(),ut(),J5=oe(pe()),Re(),Pre(),tz=G.ul(ez||(ez=Y([`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`]))),rz=e=>Wt(()=>{let t=(0,J8.val)(ve().projectsP);return J5.default.createElement(tz,null,Object.keys(t).map(r=>{let o=t[r];return J5.default.createElement(Q8,{depth:0,project:o,key:"projectListItem-".concat(r)})}))},[]),nz=rz});function oz(e){let[t,r]=(0,eO.useState)(!1);return(0,eO.useEffect)(()=>{let o=s=>{let u=t?200:50,c=56,f=e==="left"?s.x<u:s.x>window.innerWidth-u;f&&(f=s.y>c),r(!!f)};document.addEventListener("mousemove",o);let a=()=>{r(!1)};return document.addEventListener("mouseleave",a),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseleave",a)}},[t]),t}var eO,iz=I(()=>{eO=oe(pe())}),U0,rg,tO,az,sz,lz,uz,kx,V0,cz,Ire=I(()=>{U0=oe(pe()),Re(),Pl(),Cre(),xt(),ut(),iz(),rg=rt(),ur(),tO="44px",sz=G.div(az||(az=Y([`
  `,`;
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: `,`;

  top: calc(`,` + 8px);
  height: fit-content;
  max-height: calc(100% - `,`);
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: `,`;

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`])),ar,Qh.outlinePanel,tO,tO,({pin:e})=>e?"block":"none"),lz=()=>{var e;let t=(e=Gt(ve().atomP.ahistoric.pinOutline))!=null?e:!0,r=Gt(cz),o=oz("left");return(0,U0.useLayoutEffect)(()=>{kx.set(o)},[o]),(0,U0.useEffect)(()=>()=>{V0.set(!1),kx.set(!1)},[]),U0.default.createElement(sz,{pin:t||r,onMouseEnter:()=>{V0.set(!0)},onMouseLeave:()=>{V0.set(!1)}},U0.default.createElement(nz,null))},uz=lz,kx=new rg.Atom(!1),V0=new rg.Atom(!1),cz=(0,rg.prism)(()=>{let e=(0,rg.val)(V0.prism),t=(0,rg.val)(kx.prism);return e||t})}),dz,fz,pz,Ore=I(()=>{Re(),fz=G.input.attrs({type:"checkbox"})(dz||(dz=Y([`
  outline: none;
`]))),pz=fz});function jre({propConfig:e,editingTools:t,value:r,autoFocus:o}){let a=(0,rO.useCallback)(s=>{t.permanentlySetValue(!!s.target.checked)},[e,t]);return rO.default.createElement(gz,{checked:r,onChange:a,autoFocus:o})}var rO,hz,gz,mz,Tre=I(()=>{rO=oe(pe()),Re(),Ore(),gz=G(pz)(hz||(hz=Y([`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`]))),mz=jre});function xx(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Sx=I(()=>{});function nO(e,t,r){(0,vz.useEffect)(()=>{if(!e||r===!1)return;let o=Array.isArray(e)?e.filter(s=>s):[e],a=s=>{o.every(u=>!s.composedPath().includes(u))&&t(s)};return window.addEventListener("mousedown",a,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",a,{capture:!0,passive:!1})}},[e,r])}var vz,oO=I(()=>{vz=oe(pe())}),Cl,yz,Il,bz,wz,_z,kz,iO,xz,Oi,Sz,si=I(()=>{Cl=oe(pe()),Re(),yz="pointer-root",Il="--lockedCursor",wz=G.div(bz||(bz=Y([`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`]))),kz=G.div(_z||(_z=Y([`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`]))),iO=(0,Cl.createContext)({}),xz=e=>{var t,r,o,a;let[s,u]=(0,Cl.useState)([]),c=(0,Cl.useMemo)(()=>({getLock:(h,y)=>{let _={className:h,cursor:y};return u(w=>[...w,_]),()=>{u(w=>w.filter(v=>v!==_))}}}),[]),f=(r=(t=s[0])==null?void 0:t.cursor)!=null?r:"";return Cl.default.createElement(iO.Provider,{value:c},Cl.default.createElement(wz,{id:yz,className:((a=(o=s[0])==null?void 0:o.className)!=null?a:"normal")+" "+e.className},Cl.default.createElement(kz,{style:{cursor:f,[Il]:f}},e.children)))},Oi=(e,t,r)=>{let o=(0,Cl.useContext)(iO);(0,Cl.useLayoutEffect)(()=>{if(e)return o.getLock(t,r)},[e,t,r])},Sz=xz});function Ez(e){return H0.default.createElement(aO.Provider,{value:e.logger},e.children)}function Wu(e,t){let r=(0,H0.useContext)(aO);return(0,H0.useMemo)(()=>e?r.named(e,t):r,[r,e,t])}var H0,aO,qu=I(()=>{H0=oe(pe()),aO=H0.default.createContext(null)});function Are(){let e=Wu("PointerCapturing"),t=ma.default.useRef(null),r=()=>t.current!=null;return o=>{let a,s=u=>(a=u,t.current=u,u);return{capturing:{capturePointer(u){if(e._debug("Capturing pointer",{forDebugName:o,reason:u}),t.current!=null)throw new Error('"'.concat(o,'" attempted capturing pointer for "').concat(u,'" while already captured by "').concat(t.current.debugOwnerName,'" for "').concat(t.current.debugReason,'"'));let c=s({debugOwnerName:o,debugReason:u});return{isCapturing(){return c===t.current},release(){return c===t.current?(e._debug("Releasing pointer",{forDebugName:o,reason:u}),s(null),!0):!1}}},isPointerBeingCaptured:r},forceRelease(){a&&t.current===a&&(e._debug("Force releasing pointer",{localCapture:a}),s(null))}}}}function Dre(e){let t=Are();return ma.default.createElement(sO.Provider,{value:t},ma.default.createElement(Cz,{children:e.children}))}function Pz(e){let t=(0,ma.useContext)(sO),r=(0,ma.useMemo)(()=>t(e),[e,t]);return(0,ma.useEffect)(()=>()=>{r.forceRelease()},[r]),r.capturing}var ma,sO,Cz,lO=I(()=>{ma=oe(pe()),qu(),sO=ma.default.createContext(null),Cz=ma.default.memo(({children:e})=>ma.default.createElement(ma.default.Fragment,null,e))}),uO,zre=I(()=>{uO=typeof window<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function Wr(e,t){let r=(0,ng.useRef)(t);r.current=t;let o=t.shouldPointerLock&&!uO,a=(0,ng.useRef)({domDragStarted:!1}),{capturePointer:s}=Pz("useDrag for ".concat(t.debugName)),u=(0,ng.useRef)({onDrag:ga,onDragEnd:ga,onClick:ga}),c=(0,ng.useRef)(),[f,h]=rr(!1);return(0,ng.useLayoutEffect)(()=>{if(!e)return;let y=()=>{let j=a.current.domDragStarted&&a.current.detection.detected;f.current!==j&&(f.current=j)},_=j=>{if(!a.current.domDragStarted)return;let D=a.current;if(!Bre(j,D)&&(D.detection.detected||(D.detection.totalDistanceMoved+=Math.abs(j.movementY)+Math.abs(j.movementX),D.detection.totalDistanceMoved>Iz&&(o&&e.requestPointerLock(),D.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},y())),D.detection.detected)){D.detection.dragEventCount+=1;let{dragMovement:M}=D.detection;if(o)M.x+=j.movementX,M.y+=j.movementY;else{let{startPos:F}=D;M.x=j.screenX-F.x,M.y=j.screenY-F.y}u.current.onDrag(M.x,M.y,j,j.movementX,j.movementY)}},w=j=>{if(x(),!a.current.domDragStarted)return;let D=a.current.detection.detected;a.current={domDragStarted:!1},t.shouldPointerLock&&!uO&&document.exitPointerLock(),u.current.onDragEnd(D),window.focus(),D||u.current.onClick(j),y()},v=()=>{document.addEventListener("mousemove",_),document.addEventListener("mouseup",w)},x=()=>{var j;(j=c.current)==null||j.release(),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",w)},k=j=>{r.current.disabled||a.current.domDragStarted&&a.current.detection.detected&&(r.current.dontBlockMouseDown||(j.stopPropagation(),j.preventDefault()),a.current.detection={detected:!1,totalDistanceMoved:0},y())},E=j=>{var D,M,F,L;(D=c.current)==null||D.release();let te=r.current;if(te.disabled===!0||!((M=te.buttons)!=null?M:[0]).includes(j.button))return;let se=te.onDragStart(j);se!==!1&&(u.current.onDrag=se.onDrag,u.current.onDragEnd=(F=se.onDragEnd)!=null?F:ga,u.current.onClick=(L=se.onClick)!=null?L:ga,c.current=s("Drag start"),te.dontBlockMouseDown||(j.stopPropagation(),j.preventDefault()),a.current={domDragStarted:!0,startPos:{x:j.screenX,y:j.screenY},detection:{detected:!1,totalDistanceMoved:0}},y(),v())},C=j=>{E(j)};return e.addEventListener("mousedown",C),e.addEventListener("click",k),()=>{var j,D;x(),e.removeEventListener("mousedown",C),e.removeEventListener("click",k),a.current.domDragStarted&&((D=(j=u.current).onDragEnd)==null||D.call(j,a.current.detection.detected)),a.current={domDragStarted:!1},y()}},[e]),Oi(h&&!!t.lockCSSCursorTo,"dragging",t.lockCSSCursorTo),[h]}function Bre(e,t){return(!t.detection.detected||t.detection.detected&&t.detection.dragEventCount<3)&&(Math.abs(e.movementX)>cO||Math.abs(e.movementY)>cO)}var ng,Iz,cO,hn=I(()=>{ng=oe(pe()),si(),lO(),Jh(),zre(),lr(),Iz=3,cO=100});function Rre(e){return isNaN(e)?"NaN":_h(e)?e.toFixed(0):Eh(e,3).toString()}var Oz,jz,Ol,Tz,Ex,Az,Dz,zz,Bz,Rz,Nz,Fz,Mz,Px,dO=I(()=>{nn(),Oz=oe(pe()),jz=oe(pe()),Ol=oe(pe()),Re(),Sx(),lr(),oO(),hn(),Ex=G.div(Tz||(Tz=Y([`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`]))),Dz=G.input(Az||(Az=Y([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`]))),Bz=G.div(zz||(zz=Y([`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  `,".dragging &, ",`.noFocus:hover & {
    background-color: #338198;
  }
`])),Ex,Ex),Nz=G.div(Rz||(Rz=Y([`
  display: contents;
`]))),Fz=e=>!0,Mz=e=>{var t;let[r]=rr({mode:"noFocus"}),o=(t=e.isValid)!=null?t:Fz,a=(0,Ol.useRef)(e);a.current=e;let s=(0,Ol.useRef)(null);nO(s.current,()=>{s.current.blur()},r.current.mode==="editingViaKeyboard");let u=(0,Ol.useRef)(null),c=(0,Ol.useMemo)(()=>{let E=se=>{let Z=se.target,{value:de}=Z,Ce=r.current;r.current=Pe(re({},Ce),{currentEditedValueInString:de});let K=parseFloat(de);!isFinite(K)||!o(K)||a.current.temporarilySetValue(K)},C=()=>{r.current.mode==="editingViaKeyboard"&&(j(),r.current={mode:"noFocus"}),e.onBlur&&e.onBlur()},j=()=>{let se=r.current,Z=parseFloat(se.currentEditedValueInString);!isFinite(Z)||!o(Z)||se.valueBeforeEditing===Z?a.current.discardTemporaryValue():a.current.permanentlySetValue(Z)},D=se=>{se.key==="Escape"?(a.current.discardTemporaryValue(),r.current={mode:"noFocus"},s.current.blur()):(se.key==="Enter"||se.key==="Tab")&&(j(),s.current.blur())},M=se=>{r.current.mode==="noFocus"&&(s.current.focus(),se.preventDefault()),se.stopPropagation()},F=()=>{r.current.mode==="noFocus"?L():r.current.mode},L=()=>{let se=a.current.value;r.current={mode:"editingViaKeyboard",currentEditedValueInString:String(se),valueBeforeEditing:se},setTimeout(()=>{s.current.focus(),s.current.setSelectionRange(0,100)})},te;return{inputChange:E,onBlur:C,transitionToDraggingMode:()=>{var se;let Z=a.current.value;te=(se=s.current)==null?void 0:se.getBoundingClientRect().width,r.current={mode:"dragging"};let de=Z,Ce=Z;return u.current=document.body.style.cursor,{onDrag(K,fe,z,be){let Je=z.altKey?be/10:be,le=Ce+e.nudge({deltaX:Je,deltaFraction:Je/te,magnitude:1});Ce=e.range?Ir(le,e.range[0],e.range[1]):le,a.current.temporarilySetValue(Ce)},onDragEnd(K){K?(de===Ce?a.current.discardTemporaryValue():a.current.permanentlySetValue(Ce),r.current={mode:"noFocus"}):(a.current.discardTemporaryValue(),r.current={mode:"noFocus"})},onClick(){s.current.focus(),s.current.setSelectionRange(0,100)}}},onInputKeyDown:D,onClick:M,onFocus:F}},[]);(0,Oz.useEffect)(()=>()=>{c.onBlur()},[]);let f=r.current.mode!=="editingViaKeyboard"?Rre(e.value):r.current.currentEditedValueInString;typeof f=="number"&&isNaN(f)&&(f="NaN");let h=[s];e.inputRef&&h.push(e.inputRef);let y=Ol.default.createElement(Dz,{key:"input",type:"text",onChange:c.inputChange,value:f,onBlur:c.onBlur,onKeyDown:c.onInputKeyDown,onClick:c.onClick,onFocus:c.onFocus,ref:xx(h),onMouseDown:E=>{E.stopPropagation()},onDoubleClick:E=>{E.preventDefault(),E.stopPropagation()},autoFocus:e.autoFocus}),{range:_}=e,w=parseFloat(f),v=_?Ol.default.createElement(Bz,{style:{"--percentage":Ir((w-_[0])/(_[1]-_[0]),0,1)}}):null,[x,k]=(0,jz.useState)(null);return Wr(x,{debugName:"form/BasicNumberInput",onDragStart:c.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:r.current.mode==="editingViaKeyboard"}),Ol.default.createElement(Ex,{className:e.className+" "+r.current.mode},Ol.default.createElement(Nz,{ref:k},y),v)},Px=Mz});function Nre({propConfig:e,editingTools:t,value:r,autoFocus:o}){let a=(0,fO.useCallback)(s=>e.nudgeFn(Pe(re({},s),{config:e})),[e]);return fO.default.createElement(Px,{value:r,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,range:e.range,nudge:a,autoFocus:o})}var fO,pO,Uz=I(()=>{dO(),fO=oe(pe()),pO=Nre});function Fre({value:e,onChange:t,options:r,autoFocus:o}){let a=(0,L0.useCallback)(s=>{t(String(s.target.value))},[t]);return L0.default.createElement(hO,{role:"radiogroup"},Object.keys(r).map((s,u)=>L0.default.createElement(Lz,{key:"label-"+u,"data-checked":e===s},r[s],L0.default.createElement(Wz,{type:"radio",checked:e===s,value:s,onChange:a,name:"switchbox",autoFocus:o}))))}var L0,Vz,hO,Hz,Lz,Kz,Wz,qz,Mre=I(()=>{ai(),L0=oe(pe()),Re(),hO=G.form(Vz||(Vz=Y([`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`]))),Lz=G.label(Hz||(Hz=Y([`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  `,`:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: `,`; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`])),hO,O0(.1,"white")),Wz=G.input(Kz||(Kz=Y([`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`]))),qz=Fre}),Ure=I(()=>{}),gO,mO,vO,$z=I(()=>{gO=oe(pe()),mO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vO=gO.default.createContext&&gO.default.createContext(mO)});function Gz(e){return e&&e.map(function(t,r){return ig.default.createElement(t.tag,jl({key:r},t.attr),Gz(t.child))})}function og(e){return function(t){return ig.default.createElement(Vre,jl({attr:jl({},e.attr)},t),Gz(e.child))}}function Vre(e){var t=function(r){var o=e.attr,a=e.size,s=e.title,u=Zz(e,["attr","size","title"]),c=a||r.size||"1em",f;return r.className&&(f=r.className),e.className&&(f=(f?f+" ":"")+e.className),ig.default.createElement("svg",jl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,o,u,{className:f,style:jl(jl({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&ig.default.createElement("title",null,s),e.children)};return vO!==void 0?ig.default.createElement(vO.Consumer,null,function(r){return t(r)}):t(mO)}var ig,jl,Zz,Hre=I(()=>{ig=oe(pe()),$z(),jl=function(){return jl=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},jl.apply(this,arguments)},Zz=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]]);return r}}),on=I(()=>{Ure(),Hre(),$z()}),Lre=I(()=>{on()}),Kre=I(()=>{on()});function Wre(e){return og({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var qre=I(()=>{on()}),$re=I(()=>{on()}),Gre=I(()=>{on()});function Zre(e){return og({attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(e)}function Xre(e){return og({attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(e)}var Yre=I(()=>{on()}),Qre=I(()=>{on()}),Jre=I(()=>{on()}),ene=I(()=>{on()}),tne=I(()=>{on()}),rne=I(()=>{on()}),nne=I(()=>{on()}),one=I(()=>{on()}),ine=I(()=>{on()}),ane=I(()=>{on()});function Xz(e){return og({attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}var sne=I(()=>{on()}),lne=I(()=>{on()}),une=I(()=>{on()}),cne=I(()=>{on()});function dne(e){return og({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(e)}var fne=I(()=>{on()});function pne(e){return og({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(e)}var hne=I(()=>{on()}),ag=I(()=>{Lre(),Kre(),qre(),$re(),Gre(),Yre(),Qre(),Jre(),ene(),tne(),rne(),nne(),one(),ine(),ane(),sne(),lne(),une(),cne(),fne(),hne()});function gne({value:e,onChange:t,options:r,className:o,autoFocus:a}){let s=(0,Vd.useCallback)(u=>{t(String(u.target.value))},[t]);return Vd.default.createElement(Qz,null,Vd.default.createElement(rB,{className:o,value:e,onChange:s,autoFocus:a},Object.keys(r).map((u,c)=>Vd.default.createElement("option",{key:"option-"+c,value:u},r[u]))),Vd.default.createElement(eB,null,Vd.default.createElement(dne,null)))}var Vd,Yz,Qz,Jz,eB,tB,rB,nB,mne=I(()=>{Vd=oe(pe()),Re(),ag(),Qz=G.div(Yz||(Yz=Y([`
  width: 100%;
  position: relative;
`]))),eB=G.div(Jz||(Jz=Y([`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`]))),rB=G.select(tB||(tB=Y([`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`]))),nB=gne});function vne({propConfig:e,editingTools:t,value:r,autoFocus:o}){let a=(0,Cx.useCallback)(s=>{t.permanentlySetValue(s)},[e,t]);return e.as==="menu"?Cx.default.createElement(nB,{value:r,onChange:a,options:e.valuesAndLabels,autoFocus:o}):Cx.default.createElement(qz,{value:r,onChange:a,options:e.valuesAndLabels,autoFocus:o})}var Cx,oB,yne=I(()=>{Cx=oe(pe()),Mre(),mne(),oB=vne}),iB,K0,aB,sB,lB,uB,Ix,yO=I(()=>{Re(),iB=oe(pe()),K0=oe(pe()),Sx(),lr(),oO(),sB=G.input.attrs({type:"text"})(aB||(aB=Y([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`]))),lB=e=>!0,uB=e=>{var t,r;let[o]=rr({mode:"noFocus"}),a=(t=e.isValid)!=null?t:lB,s=(0,K0.useRef)(e);s.current=e;let u=(0,K0.useRef)(null);nO(u.current,()=>{u.current.blur()},o.current.mode==="editingViaKeyboard");let c=(0,K0.useMemo)(()=>{let y=C=>{let j=C.target,{value:D}=j,M=o.current;o.current=Pe(re({},M),{currentEditedValueInString:D}),a(D)&&s.current.temporarilySetValue(D)},_=()=>{var C,j;o.current.mode==="editingViaKeyboard"&&(w(),o.current={mode:"noFocus"}),(j=(C=s.current).onBlur)==null||j.call(C)},w=()=>{let C=o.current,j=C.currentEditedValueInString;a(j)?C.valueBeforeEditing===j?s.current.discardTemporaryValue():s.current.permanentlySetValue(j):s.current.discardTemporaryValue()},v=C=>{C.key==="Escape"?(s.current.discardTemporaryValue(),o.current={mode:"noFocus"},u.current.blur()):(C.key==="Enter"||C.key==="Tab")&&(w(),u.current.blur())},x=C=>{o.current.mode==="noFocus"&&(u.current.focus(),C.preventDefault()),C.stopPropagation()},k=()=>{o.current.mode==="noFocus"?E():o.current.mode},E=()=>{let C=s.current.value;o.current={mode:"editingViaKeyboard",currentEditedValueInString:String(C),valueBeforeEditing:C},setTimeout(()=>{u.current.focus()})};return{inputChange:y,onBlur:_,onInputKeyDown:v,onClick:x,onFocus:k}},[]);(0,iB.useEffect)(()=>()=>{c.onBlur()},[]);let f=o.current.mode!=="editingViaKeyboard"?e.value:o.current.currentEditedValueInString,h=[u];return e.inputRef&&h.push(e.inputRef),K0.default.createElement(sB,{key:"input",type:"text",className:"".concat((r=e.className)!=null?r:""," ").concat(a(f)?"":"invalid"),onChange:c.inputChange,value:f,onBlur:c.onBlur,onKeyDown:c.onInputKeyDown,onClick:c.onClick,onFocus:c.onFocus,ref:xx(h),onMouseDown:y=>{y.stopPropagation()},onDoubleClick:y=>{y.preventDefault(),y.stopPropagation()},autoFocus:e.autoFocus})},Ix=uB});function bne({editingTools:e,value:t,autoFocus:r}){return cB.default.createElement(Ix,{value:t,temporarilySetValue:e.temporarilySetValue,discardTemporaryValue:e.discardTemporaryValue,permanentlySetValue:e.permanentlySetValue,autoFocus:r})}var cB,dB,wne=I(()=>{cB=oe(pe()),yO(),dB=bne});function _ne(e){e=e.trim().toLowerCase();let t=e.match(_O);if(!t)return{r:0,g:0,b:0,a:1};let r=kne(t[1]);return{r:parseInt(r.substr(0,2),16)/255,g:parseInt(r.substr(2,2),16)/255,b:parseInt(r.substr(4,2),16)/255,a:parseInt(r.substr(6,2),16)/255}}function bO(e,{removeAlphaIfOpaque:t=!1}={}){let r=(e.a*255|256).toString(16).slice(1),o=(e.r*255|256).toString(16).slice(1)+(e.g*255|256).toString(16).slice(1)+(e.b*255|256).toString(16).slice(1)+(t&&r==="ff"?"":r);return"#".concat(o)}function wO(e){return Pe(re({},e),{toString(){return bO(this,{removeAlphaIfOpaque:!0})}})}function kne(e){switch(e.length){case 3:return"".concat(e.repeat(2),"ff");case 4:let t=e.substr(0,3),r=e[3];return"".concat(t.repeat(2)).concat(r.repeat(2));case 6:return"".concat(e,"ff")}return e}var _O,fB=I(()=>{_O=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function Ox(e){let t=(0,kO.useRef)(e),r=(0,kO.useRef)(o=>{t.current&&t.current(o)});return t.current=e,r.current}var kO,pB=I(()=>{kO=oe(pe())}),Hd,jx=I(()=>{Hd=(e,t=0,r=1)=>e>r?r:e<t?t:e}),W0,xO,hB,SO,EO=I(()=>{W0=oe(pe()),xO=(0,W0.createContext)(void 0),hB=({children:e})=>{let[t,r]=(0,W0.useState)(!1);return W0.default.createElement(xO.Provider,{value:{editing:t,setEditing:r}},e)},SO=()=>(0,W0.useContext)(xO)}),$u,sg,gB,Tx,PO,CO,mB,vB,yB,bB,q0,Ax=I(()=>{$u=oe(pe()),pB(),jx(),Re(),EO(),sg=e=>"touches"in e,gB=(e,t)=>{for(let r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]},Tx=e=>e&&e.ownerDocument.defaultView||self,PO=(e,t,r)=>{let o=e.getBoundingClientRect(),a=sg(t)?gB(t.touches,r):t;return{left:Hd((a.pageX-(o.left+Tx(e).pageXOffset))/o.width),top:Hd((a.pageY-(o.top+Tx(e).pageYOffset))/o.height)}},CO=e=>{!sg(e)&&e.preventDefault()},mB=(e,t)=>t&&!sg(e),yB=G.div(vB||(vB=Y([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`]))),bB=e=>{var t=e,{onMove:r,onKey:o}=t,a=fr(t,["onMove","onKey"]);let s=(0,$u.useRef)(null),u=Ox(r),c=Ox(o),f=(0,$u.useRef)(null),h=(0,$u.useRef)(!1),{setEditing:y}=SO(),[_,w,v]=(0,$u.useMemo)(()=>{let x=({nativeEvent:D})=>{let M=s.current;if(M&&(CO(D),!(mB(D,h.current)||!M))){if(sg(D)){h.current=!0;let F=D.changedTouches||[];F.length&&(f.current=F[0].identifier)}M.focus(),y(!0),u(PO(M,D,f.current)),j(!0)}},k=D=>{CO(D),(sg(D)?D.touches.length>0:D.buttons>0)&&s.current?u(PO(s.current,D,f.current)):(y(!1),j(!1))},E=D=>{y(!1),j(!1)},C=D=>{let M=D.which||D.keyCode;M<37||M>40||(D.preventDefault(),c({left:M===39?.05:M===37?-.05:0,top:M===40?.05:M===38?-.05:0}))};function j(D){let M=h.current,F=s.current,L=Tx(F),te=D?L.addEventListener:L.removeEventListener;te(M?"touchmove":"mousemove",k),te(M?"touchend":"mouseup",E)}return[x,C,j]},[c,u]);return(0,$u.useEffect)(()=>v,[v]),$u.default.createElement(yB,Pe(re({},a),{onTouchStart:_,onMouseDown:_,ref:s,onKeyDown:w,tabIndex:0,role:"slider"}))},q0=$u.default.memo(bB)}),IO,wB,_B,kB,xB,SB,EB,Dx,OO=I(()=>{IO=oe(pe()),Re(),Ax(),_B=G(q0)(wB||(wB=Y([""]))),xB=G.div(kB||(kB=Y([`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  `,`:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`])),_B),EB=G.div(SB||(SB=Y([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`]))),Dx=({className:e,color:t,left:r,top:o=.5})=>{let a={top:"".concat(o*100,"%"),left:"".concat(r*100,"%")};return IO.default.createElement(xB,{style:a,className:e},IO.default.createElement(EB,{style:{backgroundColor:t}}))}}),no,zx=I(()=>{no=(e,t=0,r=Math.pow(10,t))=>Math.round(r*e)/r}),jO,Bx,Rx,PB,CB,Nx=I(()=>{zx(),jO=({h:e,s:t,v:r,a:o})=>{let a=(200-t)*r/100;return{h:no(e),s:no(a>0&&a<200?t*r/100/(a<=100?a:200-a)*100:0),l:no(a/2),a:no(o,2)}},Bx=e=>{let{h:t,s:r,l:o}=jO(e);return"hsl(".concat(t,", ").concat(r,"%, ").concat(o,"%)")},Rx=e=>{let{h:t,s:r,l:o,a}=jO(e);return"hsla(".concat(t,", ").concat(r,"%, ").concat(o,"%, ").concat(a,")")},PB=({h:e,s:t,v:r,a:o})=>{e=e/360*6,t=t/100,r=r/100;let a=Math.floor(e),s=r*(1-t),u=r*(1-(e-a)*t),c=r*(1-(1-e+a)*t),f=a%6;return{r:no([r,u,s,s,c,r][f]*255),g:no([c,r,r,u,s,s][f]*255),b:no([s,s,c,r,r,u][f]*255),a:no(o,2)}},CB=({r:e,g:t,b:r,a:o})=>{let a=Math.max(e,t,r),s=a-Math.min(e,t,r),u=s?a===e?(t-r)/s:a===t?2+(r-e)/s:4+(e-t)/s:0;return{h:no(60*(u<0?u+6:u)),s:no(a?s/a*100:0),v:no(a/255*100),a:o}}}),$0,IB,OB,jB,TB,AB,DB,xne=I(()=>{$0=oe(pe()),Ax(),OO(),Nx(),jx(),zx(),Re(),OB=G.div(IB||(IB=Y([`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`]))),TB=G(Dx)(jB||(jB=Y([`
  z-index: 2;
`]))),AB=({className:e,hue:t,onChange:r})=>$0.default.createElement(OB,{className:e},$0.default.createElement(q0,{onMove:o=>{r({h:360*o.left})},onKey:o=>{r({h:Hd(t+o.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":no(t)},$0.default.createElement(TB,{left:t/360,color:Bx({h:t,s:100,v:100,a:1})}))),DB=$0.default.memo(AB)}),G0,zB,BB,RB,NB,FB,MB,Sne=I(()=>{G0=oe(pe()),Ax(),OO(),Nx(),jx(),zx(),Re(),BB=G.div(zB||(zB=Y([`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),NB=G(Dx)(RB||(RB=Y([`
  z-index: 3;
`]))),FB=({hsva:e,onChange:t})=>{let r=s=>{t({s:s.left*100,v:100-s.top*100})},o=s=>{t({s:Hd(e.s+s.left*100,0,100),v:Hd(e.v-s.top*100,0,100)})},a={backgroundColor:Bx({h:e.h,s:100,v:100,a:1})};return G0.default.createElement(BB,{style:a},G0.default.createElement(q0,{onMove:r,onKey:o,"aria-label":"Color","aria-valuetext":"Saturation ".concat(no(e.s),"%, Brightness ").concat(no(e.v),"%")},G0.default.createElement(NB,{top:1-e.v/100,left:e.s/100,color:Bx(e)})))},MB=G0.default.memo(FB)}),Z0,UB,VB,HB,LB,KB,WB,qB,Ene=I(()=>{Z0=oe(pe()),Ax(),OO(),Nx(),jx(),zx(),Re(),VB=G.div(UB||(UB=Y([`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),LB=G.div.attrs(({colorFrom:e,colorTo:t})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(e,", ").concat(t,")")}}))(HB||(HB=Y([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),WB=G(Dx)(KB||(KB=Y([`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),qB=({className:e,hsva:t,onChange:r})=>{let o=c=>{r({a:c.left})},a=c=>{r({a:Hd(t.a+c.left)})},s=Rx(Object.assign({},t,{a:0})),u=Rx(Object.assign({},t,{a:1}));return Z0.default.createElement(VB,{className:e},Z0.default.createElement(LB,{colorFrom:s,colorTo:u}),Z0.default.createElement(q0,{onMove:o,onKey:a,"aria-label":"Alpha","aria-valuetext":"".concat(no(t.a*100),"%")},Z0.default.createElement(WB,{left:t.a,color:Rx(t)})))}}),Fx,$B=I(()=>{Fx=(e,t)=>{if(e===t)return!0;for(let r in e)if(e[r]!==t[r])return!1;return!0}});function Pne(e,t,r,o){let{editing:a}=SO(),[s,u]=(0,Tl.useState)(t),c=Ox(r),f=Ox(o),h=a?s:t,[y,_]=(0,Tl.useState)(()=>e.toHsva(h)),w=(0,Tl.useRef)({color:h,hsva:y}),v=(0,Tl.useRef)({color:h,hsva:y});(0,Tl.useEffect)(()=>{a&&u(w.current.color)},[a]),(0,Tl.useEffect)(()=>{let k=e.fromHsva(y);a?!Fx(y,w.current.hsva)&&!e.equal(k,w.current.color)&&(w.current={hsva:y,color:k},u(k),c(k)):!Fx(y,v.current.hsva)&&!e.equal(k,v.current.color)&&(v.current={hsva:y,color:k},w.current={hsva:y,color:k},f(k))},[a,y,e,c,f]),(0,Tl.useEffect)(()=>{if(!a&&!e.equal(h,v.current.color)){let k=e.toHsva(h);v.current={hsva:k,color:h},_(k)}},[a,h,e]);let x=(0,Tl.useCallback)(k=>{_(E=>Object.assign({},E,k))},[]);return[y,x]}var Tl,Cne=I(()=>{Tl=oe(pe()),$B(),pB(),EO()}),lg,GB,ZB,XB,Ine=I(()=>{lg=oe(pe()),xne(),Sne(),Ene(),Cne(),Re(),ZB=G.div(GB||(GB=Y([`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`]))),XB=e=>{var t=e,{className:r,colorModel:o,color:a=o.defaultColor,temporarilySetValue:s,permanentlySetValue:u,discardTemporaryValue:c}=t,f=fr(t,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[h,y]=Pne(o,a,s,u);return(0,lg.useEffect)(()=>()=>{c()},[]),lg.default.createElement(ZB,re({},f),lg.default.createElement(MB,{hsva:h,onChange:y}),lg.default.createElement(DB,{hue:h.h,onChange:y}),lg.default.createElement(qB,{hsva:h,onChange:y}))}}),TO,YB,QB,JB,eR,One=I(()=>{TO=oe(pe()),Ine(),$B(),Nx(),EO(),YB=e=>({r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}),QB=e=>({r:e.r*255,g:e.g*255,b:e.b*255,a:e.a}),JB={defaultColor:{r:0,g:0,b:0,a:1},toHsva:e=>CB(QB(e)),fromHsva:e=>YB(PB(e)),equal:Fx},eR=e=>TO.default.createElement(hB,null,TO.default.createElement(XB,Pe(re({},e),{permanentlySetValue:t=>{e.permanentlySetValue(t)},colorModel:JB})))}),jne=I(()=>{One()}),tR,rR,nR,Tne=I(()=>{tR=oe(pe()),rR=function(e){(0,tR.useEffect)(e,[])},nR=rR}),oR,iR,aR,Ane=I(()=>{oR=oe(pe()),Tne(),iR=function(e){var t=(0,oR.useRef)(e);t.current=e,nR(function(){return function(){return t.current()}})},aR=iR}),Mx,sR,lR,Dne=I(()=>{Mx=oe(pe()),Ane(),sR=function(e){var t=(0,Mx.useRef)(0),r=(0,Mx.useState)(e),o=r[0],a=r[1],s=(0,Mx.useCallback)(function(u){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){a(u)})},[]);return aR(function(){cancelAnimationFrame(t.current)}),[o,s]},lR=sR});function zne(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function Bne(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var Ux,Rne=I(()=>{Ux=typeof window<"u"}),uR,cR,Vx,AO=I(()=>{uR=oe(pe()),Dne(),Rne(),cR=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var r=lR({width:Ux?window.innerWidth:e,height:Ux?window.innerHeight:t}),o=r[0],a=r[1];return(0,uR.useEffect)(function(){if(Ux){var s=function(){a({width:window.innerWidth,height:window.innerHeight})};return zne(window,"resize",s),function(){Bne(window,"resize",s)}}},[]),o},Vx=cR});function DO(e){let[t,r]=(0,zO.useState)(null);return(0,zO.useLayoutEffect)(()=>(e&&r(e.getBoundingClientRect()),()=>{r(null)}),[e]),t}var zO,dR=I(()=>{zO=oe(pe())}),fR,pR,BO,hR=I(()=>{fR=oe(pe()),pR=(0,fR.createContext)({}),BO=pR});function Nne(e,t,r){let o=e.getBoundingClientRect(),a=s=>{(s.clientX<o.left-t||s.clientX>o.left+o.width+t||s.clientY<o.top-t||s.clientY>o.top+o.height+t)&&r(s)};return window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a)}}var Fne=I(()=>{}),gR,Hx,RO,mR,NO,vR=I(()=>{gR=oe(pe()),Hx=oe(pe()),AO(),dR(),hR(),lr(),oO(),Fne(),Jh(),nn(),RO=8,mR=e=>{var t,r;let o=e.children(),[a,s]=rr(null),u=o.props.style?re({},o.props.style):{};u.position="absolute";let c=DO(s),f=DO(e.target),h=Vx(),[y,_]=(0,Hx.useState)({});return(0,Hx.useLayoutEffect)(()=>{var w,v,x;if(!c||!s||!f)return;let k=(w=e.verticalGap)!=null?w:8,E={},C=(v=e.verticalPlacement)!=null?v:"bottom",j=0,D=0;C==="bottom"?f.bottom+c.height+k<h.height?(C="bottom",j=f.bottom+k,E.top="0px"):f.top>c.height+k?(C="top",j=f.top-(c.height+k),E.bottom="0px",E.transform="rotateZ(180deg)"):C="overlay":C==="top"&&(f.top>c.height+k?(C="top",j=f.top-(c.height+k),E.bottom="0px",E.transform="rotateZ(180deg)"):f.bottom+c.height+k<h.height?(C="bottom",j=f.bottom+k,E.top="0px"):C="overlay");let M=0;if(C!=="overlay"){let de=f.left+f.width/2;de<c.width/2?(D=k,M=Math.max(de-k,RO)):de+c.width/2>h.width?(D=h.width-(k+c.width),M=Math.min(de-D,c.width-RO)):(D=de-c.width/2,M=c.width/2),E.left=M+"px"}let{minX:F=-1/0,maxX:L=1/0,minY:te=-1/0,maxY:se=1/0}=(x=e.constraints)!=null?x:{},Z={left:Ir(D,F,L-c.width),top:Ir(j,te,se+c.height)};if(s.style.left=Z.left+"px",s.style.top=Z.top+"px",_(E),e.onPointerOutside)return Nne(s,e.onPointerOutside.threshold,e.onPointerOutside.callback)},[c,s,e.target,f,h,e.onPointerOutside]),nO([s,(t=e.target)!=null?t:null],(r=e.onClickOutside)!=null?r:ga),gR.default.createElement(BO.Provider,{value:y},(0,Hx.cloneElement)(o,{ref:a,style:u}))},NO=mR});function ss(e,t){let{isPointerBeingCaptured:r}=Pz("usePopover"),[o,a]=rr({isOpen:!1}),s=(0,oo.useRef)(e),u=(0,oo.useCallback)(w=>{o.current={isOpen:!1}},[]),c=(0,oo.useCallback)((w,v)=>{var x;let k=typeof s.current=="function"?s.current():s.current;function E(){h.childHasFocusRef.current||k.closeOnClickOutside!==!1&&u("clicked outside popover")}o.current={isOpen:!0,clickPoint:{clientX:w.clientX,clientY:w.clientY},target:v,opts:k,onClickOutside:E,onPointerOutside:k.closeWhenPointerIsDistant===!1?void 0:{threshold:(x=k.pointerDistanceThreshold)!=null?x:100,callback:()=>{h.childHasFocusRef.current||r()||u("pointer outside")}}}},[]),f=(0,oo.useCallback)((...w)=>{o.current.isOpen?u("toggled"):c(...w)},[]),h=Mne({state:a}),[,y]=(0,oo.useContext)(_y);(0,oo.useEffect)(()=>{let w;return a.isOpen&&(w=y()),()=>w==null?void 0:w()},[a.isOpen]);let _=(0,oo.useContext)(Xh);return{node:a.isOpen?(0,yR.createPortal)(oo.default.createElement(FO.Provider,{value:h.childPopoverLock},oo.default.createElement(NO,{children:t,target:a.target,onClickOutside:a.onClickOutside,onPointerOutside:a.onPointerOutside,constraints:a.opts.constraints,verticalGap:a.opts.verticalGap})),_):oo.default.createElement(oo.default.Fragment,null),open:c,close:u,toggle:f,isOpen:a.isOpen}}function Mne(e){let t=(0,oo.useContext)(FO);(0,oo.useEffect)(()=>{if(e.state.isOpen){let o=t.takeFocus();return()=>{o.releaseFocus()}}},[e.state.isOpen]);let r=(0,oo.useRef)(!1);return{childHasFocusRef:r,childPopoverLock:{takeFocus(){return r.current=!0,{releaseFocus(){r.current=!1}}}}}}var oo,yR,FO,ls=I(()=>{lO(),lr(),oo=oe(pe()),yR=oe(kn()),Ud(),vR(),Pj(),FO=oo.default.createContext({takeFocus(){return{releaseFocus(){}}}})}),Al,bR,wR,_R,kR,xR,SR,ER,PR,CR,IR,OR,jR,Une=I(()=>{Al=oe(pe()),Re(),hR(),wR=G.div(bR||(bR=Y([`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`]))),kR=G.div(_R||(_R=Y([`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`]))),SR=G.path(xR||(xR=Y([`
  fill: var(--popover-bg);
`]))),PR=G.path(ER||(ER=Y([`
  fill: var(--popover-inner-stroke);
`]))),IR=G.path(CR||(CR=Y([`
  fill: var(--popover-outer-stroke);
`]))),OR=(0,Al.forwardRef)(({className:e},t)=>{let r=(0,Al.useContext)(BO);return Al.default.createElement(wR,{className:e,ref:t,style:re({},r)},Al.default.createElement(kR,null,Al.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Al.default.createElement(IR,{d:"M6 0L0 6H12L6 0Z"}),Al.default.createElement(PR,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),Al.default.createElement(SR,{d:"M6 3L0 9H12L6 3Z"}))))}),jR=OR}),Lx,MO,TR,AR,DR,us,cs=I(()=>{ur(),ai(),Lx=oe(pe()),Re(),Une(),MO=ha(.05,"#2a2a31"),AR=G.div(TR||(TR=Y([`
  position: absolute;
  --popover-bg: `,`;
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  `,`;
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`])),MO,ar),DR=Lx.default.forwardRef(({children:e,className:t,showPopoverEdgeTriangle:r=!0},o)=>Lx.default.createElement(AR,{className:t,ref:o},r?Lx.default.createElement(jR,null):void 0,e)),us=DR});function Vne({editingTools:e,value:t,autoFocus:r}){let o=(0,ds.useRef)(null),a=(0,ds.useCallback)(u=>{let c=wO(_ne(u));e.permanentlySetValue(c)},[e]),s=ss({debugName:"RgbaPropEditor"},()=>ds.default.createElement(VR,null,ds.default.createElement(eR,{color:{r:t.r,g:t.g,b:t.b,a:t.a},temporarilySetValue:u=>{let c=wO(u);e.temporarilySetValue(c)},permanentlySetValue:u=>{let c=wO(u);e.permanentlySetValue(c)},discardTemporaryValue:e.discardTemporaryValue})));return ds.default.createElement(ds.default.Fragment,null,ds.default.createElement(BR,null,ds.default.createElement(NR,{rgbaColor:t,ref:o,onClick:u=>{s.toggle(u,o.current)}}),ds.default.createElement(MR,{value:bO(t,{removeAlphaIfOpaque:!0}),temporarilySetValue:UO,discardTemporaryValue:UO,permanentlySetValue:a,isValid:u=>!!u.match(_O),autoFocus:r})),s.node)}var ds,zR,BR,RR,NR,FR,MR,UO,UR,VR,HR,Hne=I(()=>{fB(),fB(),ds=oe(pe()),jne(),Re(),ls(),yO(),cs(),BR=G.div(zR||(zR=Y([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),NR=G.div.attrs(e=>({style:{background:bO(e.rgbaColor)}}))(RR||(RR=Y([`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`]))),MR=G(Ix)(FR||(FR=Y([`
  flex: 1;
`]))),UO=()=>{},VR=G.div(UR||(UR=Y([`
  position: absolute;
  background-color: `,`;
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`])),MO),HR=Vne});function Lne({propConfig:e,editingTools:t,value:r,autoFocus:o}){let[a,s]=va.default.useState();(0,va.useEffect)(()=>{s(r?t.getAssetUrl(r):void 0)},[r]);let u=(0,va.useCallback)(f=>Cr(this,null,function*(){let h=f.target.files[0];t.permanentlySetValue({type:"image",id:void 0});let y=yield t.createAsset(h);y?t.permanentlySetValue({type:"image",id:y}):t.permanentlySetValue(r),f.target.value=null}),[t,r]),c=!(r!=null&&r.id);return va.default.createElement(VO,{empty:c},va.default.createElement(ZR,{empty:c,title:c?"Upload image":'"'.concat(r.id,'" (Click to upload new image)')},va.default.createElement(YR,{type:"file",onChange:u,accept:"image/*,.hdr",autoFocus:o}),a?va.default.createElement(JR,{src:a}):va.default.createElement(WR,null)),!c&&va.default.createElement(tN,{title:"Delete image",onClick:()=>{t.permanentlySetValue({type:"image",id:void 0})}},va.default.createElement(G5,null)))}var va,LR,VO,KR,WR,qR,$R,GR,ZR,XR,YR,QR,JR,eN,tN,rN,Kne=I(()=>{N0(),va=oe(pe()),Re(),VO=G.div(LR||(LR=Y([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),WR=G.div(KR||(KR=Y([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),ZR=G.label(GR||(GR=Y([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Mn(qR||(qR=Y([""]))):Mn($R||($R=Y([""])))),YR=G.input.attrs({type:"file"})(XR||(XR=Y([`
  display: none;
`]))),JR=G.img(QR||(QR=Y([`
  position: absolute;
  inset: 0;
  height: 100%;
  aspect-ratio: 1;

  object-fit: cover;
`]))),tN=G.button(eN||(eN=Y([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),VO),rN=Lne});function Wne({propConfig:e,editingTools:t,value:r,autoFocus:o}){let[a,s]=ya.default.useState();(0,ya.useEffect)(()=>{s(r?t.getAssetUrl(r):void 0)},[r]);let u=(0,ya.useCallback)(f=>Cr(this,null,function*(){let h=f.target.files[0];t.permanentlySetValue({type:"file",id:void 0});let y=yield t.createAsset(h);y?t.permanentlySetValue({type:"file",id:y}):t.permanentlySetValue(r),f.target.value=null}),[t,r]),c=!(r!=null&&r.id);return ya.default.createElement(HO,{empty:c},ya.default.createElement(uN,{empty:c,title:c?"Upload file":'"'.concat(r.id,'" (Click to upload new file)')},ya.default.createElement(dN,{type:"file",onChange:u,autoFocus:o}),a?ya.default.createElement(W5,null):ya.default.createElement(iN,null)),!c&&ya.default.createElement(pN,{title:"Delete file",onClick:()=>{t.permanentlySetValue({type:"file",id:void 0})}},ya.default.createElement(G5,null)))}var ya,nN,HO,oN,iN,aN,sN,lN,uN,cN,dN,fN,pN,hN,qne=I(()=>{N0(),ya=oe(pe()),Re(),HO=G.div(nN||(nN=Y([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),iN=G.div(oN||(oN=Y([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),uN=G.label(lN||(lN=Y([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Mn(aN||(aN=Y([""]))):Mn(sN||(sN=Y([""])))),dN=G.input.attrs({type:"file"})(cN||(cN=Y([`
  display: none;
`]))),pN=G.button(fN||(fN=Y([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),HO),hN=Wne}),LO,gN=I(()=>{Tre(),Uz(),yne(),wne(),Hne(),Kne(),qne(),LO={number:pO,string:dB,boolean:mz,stringLiteral:oB,rgba:HR,image:rN,file:hN}});function X0(e){let t=new WeakMap;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}var Kx=I(()=>{});function fs(e){return e.type==="compound"||e.type==="enum"}function Wx(e,t){if(!e)return;let[r,...o]=t;if(r===void 0)return e;if(!fs(e))return;let a=e.type==="enum"?e.cases[r]:e.props[r];return Wx(a,o)}function qx(e,t){let r=t.deserializeAndSanitize(e);return r===void 0?t.default:r}function $ne(e){return!fs(e)}function*Y0(e,t){if(e.type==="compound")for(let r in e.props)yield*Wi(Y0(e.props[r],[...t,r]));else{if(e.type==="enum")throw new Error("Not implemented yet");return yield{path:t,conf:e}}}var KO,Gu=I(()=>{Kx(),KO=X0(e=>{if(e.type==="enum")throw new Error("Not implemented yet for enums");for(let t in e.props){let r=e.props[t];if(fs(r)){if(KO(r))return!0}else return!0}return!1})}),WO,mN=I(()=>{WO="calc(var(--left-pad) + var(--depth) * var(--step))"}),vN,Zu,Ld=I(()=>{Re(),Zu=Mn(vN||(vN=Y([`
  font-weight: 300;
  font-size: 11px;
  color: `,`;
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`])),e=>e.isHighlighted==="self"?"#CCC":"#919191")}),Q0,$x,yN,bN,wN,_N,kN,xN,SN=I(()=>{Jh(),Q0=oe(pe()),Re(),$x=26,bN=G.li(yN||(yN=Y([`
  height: `,`px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: `,`;
  cursor: `,`;

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: `,`;
  }
`])),$x,e=>e.enabled?"white":"#8f8f8f",e=>e.enabled?"normal":"not-allowed",e=>e.enabled?"rgba(63, 174, 191, 0.75)":"initial"),_N=G.span(wN||(wN=Y([""]))),kN=e=>Q0.default.createElement(bN,{onClick:e.enabled?e.onClick:ga,enabled:e.enabled,title:e.enabled?void 0:"Disabled"},Q0.default.createElement(_N,null,Q0.default.createElement(Q0.default.Fragment,null,e.label))),xN=kN});function Gne(e){let t=(0,qO.useRef)(e);t.current=e,(0,qO.useEffect)(()=>{let r=o=>t.current(o);return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[])}var qO,Zne=I(()=>{qO=oe(pe())}),J0,EN,PN,CN,IN,ON,jN,TN,$O,AN=I(()=>{J0=oe(pe()),SN(),Re(),ai(),ur(),EN=190,PN=!0,IN=G.ul(CN||(CN=Y([`
  position: absolute;
  min-width: `,`px;
  z-index: 10000;
  background: `,`;
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  `,`;
  border-radius: 3px;
`])),EN,ha(.2,"#111"),ar),jN=G.div(ON||(ON=Y([`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`]))),TN=J0.default.forwardRef((e,t)=>J0.default.createElement(IN,{ref:t},PN&&e.displayName?J0.default.createElement(jN,null,e.displayName):null,e.items.map((r,o)=>J0.default.createElement(xN,{key:"item-".concat(o),label:r.label,enabled:r.enabled!==!1,onClick:a=>{r.callback&&r.callback(a),e.onRequestClose()}})))),$O=TN}),DN,zN,Gx,BN,ey,RN,NN,Xne=I(()=>{dR(),DN=oe(pe()),zN=oe(pe()),Gx=oe(pe()),BN=oe(kn()),AO(),SN(),Ud(),Zne(),AN(),ey=20,RN=e=>{let[t,r]=(0,Gx.useState)(null),o=DO(t),a=Vx();(0,Gx.useLayoutEffect)(()=>{if(!o||!t)return;let c={left:o.width/2,top:$x/2+(e.displayName?$x:0)},f={left:e.clickPoint.clientX-c.left,top:e.clickPoint.clientY-c.top};f.left<0?f.left=0:f.left+o.width>a.width&&(f.left=a.width-o.width),f.top<0?f.top=0:f.top+o.height>a.height&&(f.top=a.height-o.height),t.style.left=f.left+"px",t.style.top=f.top+"px";let h=y=>{(y.clientX<f.left-ey||y.clientX>f.left+o.width+ey||y.clientY<f.top-ey||y.clientY>f.top+o.height+ey)&&e.onRequestClose()};return window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h)}},[o,t,e.clickPoint,a,e.onRequestClose]);let s=(0,zN.useContext)(Xh);Gne(c=>{c.key==="Escape"&&e.onRequestClose()});let u=(0,DN.useMemo)(()=>{let c=Array.isArray(e.items)?e.items:e.items();return c.length>0?c:[{label:e.displayName?"No actions for ".concat(e.displayName):"No actions found",enabled:!1}]},[e.items]);return(0,BN.createPortal)(Gx.default.createElement($O,{items:u,onRequestClose:e.onRequestClose,displayName:e.displayName,ref:r}),s)},NN=RN}),Zx,FN,MN,Yne=I(()=>{Zx=oe(pe()),FN=(e,t)=>{let[r,o]=(0,Zx.useState)({isOpen:!1}),a=(0,Zx.useCallback)(()=>o({isOpen:!1}),[]);return(0,Zx.useEffect)(()=>{if(!e||t.disabled===!0){o({isOpen:!1});return}let s=u=>{o({isOpen:!0,event:u}),u.preventDefault(),u.stopPropagation()};return e.addEventListener("contextmenu",s),()=>{e.removeEventListener("contextmenu",s)}},[e,t.disabled]),[r,a]},MN=FN});function ko(e,t){let[r,o]=MN(e,t),[,a]=(0,ug.useContext)(_y);return(0,ug.useEffect)(()=>{var s;let u;return r.isOpen&&((s=t.onOpen)==null||s.call(t),u=a()),()=>u==null?void 0:u()},[r.isOpen,t.onOpen]),[r.isOpen?ug.default.createElement(NN,{items:t.menuItems,displayName:t.displayName,clickPoint:r.event,onRequestClose:o}):UN,o,r.isOpen]}var ug,UN,xo=I(()=>{ug=oe(pe()),Xne(),Yne(),Pj(),UN=ug.default.createElement(ug.default.Fragment,null)});function Xu(e,t){return t.length===0?e:ll(e,t)}var Xx=I(()=>{yd()});function VN(e,t){return e==null?null:e instanceof Element&&e.matches(t)?e:VN(e.parentElement,t)}var Qne=I(()=>{});function ty(e,t){let r=e;for(let o of t)r=r[o];return r}var Yx=I(()=>{});function Jne(e){let t=new Jx.Atom(void 0),r=new Jx.Atom({}),o=new Jx.Atom({}),a=0;return{addRelatedFlags(s,u){let c=String(++a),f=u.map(h=>{let y={flag:h.flag},_=[h.affects,s,c];return o.setByPointer(w=>ty(w,_),y),_});return()=>{for(let h of f)o.setByPointer(y=>ty(y,h),void 0)}},usePresenceFlag(s){},setUserHover(s){let u=t.get();u!==s&&(u&&r.setByPointer(c=>c[u],!1),t.set(s),s&&r.setByPointer(c=>c[s],!0))}}}function Kd(e){let t=Qx.default.useContext(ZO),r=t.usePresenceFlag(e);return{attrs:{[eS]:e},flag:r,useRelations(o,a){(0,GO.useEffect)(()=>e&&t.addRelatedFlags(e,o()),[e,...a])}}}function HN(e){let t=Qx.default.useContext(ZO),r=Wu("PresenceListeners");(0,GO.useEffect)(()=>{let o;if(!e)return;let a=s=>{if(s.target instanceof Node){let u=VN(s.target,"[".concat(eS,"]"));if(u){let c=u.getAttribute(eS);o!==c&&(o=c,t.setUserHover(c||void 0),r._debug("Updated current hover",{itemKey:c}));return}o!=null&&(o=null,t.setUserHover(void 0),r._debug("Cleared current hover"))}};return e.addEventListener("mouseover",a),()=>{e.removeEventListener("mouseover",a),o!=null&&(o=null,r._debug("Cleared current hover as part of cleanup"))}},[e,t])}var Qx,GO,LN,Jx,KN,ZO,eS,Wd=I(()=>{Qx=oe(pe()),GO=oe(pe()),qu(),LN=rt(),Jx=rt(),xt(),Qne(),Yx(),KN=(0,LN.prism)(()=>{}),KN.keepHot(),ZO=Qx.default.createContext(Jne()),eS="data-pi-key"}),Hn,WN,ry,qN,XO,Yu,$N,YO,GN,ZN,XN,tS,YN,QN,JN,eF,tF,rF,ny,nF,QO,rS=I(()=>{ur(),ai(),Hn=oe(pe()),Re(),Wd(),ry=G.div(WN||(WN=Y([`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: `,`;
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`])),ha(.2,"black")),XO=G.div(qN||(qN=Y([`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    `,`:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`])),ry),Yu={offColor:"#555",onColor:"#e0c917"},YO=G(XO)($N||($N=Y([`
  &:hover {
    color: #e0c917;
  }

  color: `,`;
`])),e=>e.presence===2?"white":e.isOn?Yu.onColor:Yu.offColor),ZN=Mn(GN||(GN=Y([`
  pointer-events: none !important;
`]))),tS=G(XO)(XN||(XN=Y([`
  color: `,`;

  `,`;
`])),e=>e.flag===2?"white":e.available?Yu.onColor:Yu.offColor,e=>e.available?ar:ZN),QN=G(tS)(YN||(YN=Y([`
  transform: translateX(2px);
  `,`:hover & {
    transform: translateX(-7px);
  }
`])),ry),eF=G(tS)(JN||(JN=Y([`
  transform: translateX(-2px);
  `,`:hover & {
    transform: translateX(7px);
  }
`])),ry),(e=>{let t=G.g(tF||(tF=Y([`
    stroke-width: 1;
    `,`:hover & path {
      stroke-width: 3;
    }
  `])),tS);e.Prev=()=>Hn.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Hn.default.createElement(t,{transform:"translate(6 3)"},Hn.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),e.Next=()=>Hn.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Hn.default.createElement(t,{transform:"translate(1 3)"},Hn.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let r=G.g(rF||(rF=Y([`
    stroke-width: 0;
    `,`:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `])),YO);e.Cur=()=>Hn.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Hn.default.createElement(r,{transform:"translate(1 4)"},Hn.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(ny||(ny={})),nF=e=>{var t,r,o,a,s;let u=Kd((t=e.prev)==null?void 0:t.itemKey),c=Kd(((r=e.cur)==null?void 0:r.type)==="on"?e.cur.itemKey:void 0),f=Kd((o=e.next)==null?void 0:o.itemKey);return Hn.default.createElement(ry,null,Hn.default.createElement(QN,re({available:!!e.prev,onClick:(a=e.prev)==null?void 0:a.jump,flag:u.flag},u.attrs),Hn.default.createElement(ny.Prev,null)),Hn.default.createElement(YO,re({isOn:e.cur.type==="on",onClick:e.cur.toggle,presence:c.flag},c.attrs),Hn.default.createElement(ny.Cur,null)),Hn.default.createElement(eF,re({available:!!e.next,onClick:(s=e.next)==null?void 0:s.jump,flag:f.flag},f.attrs),Hn.default.createElement(ny.Next,null)))},QO=nF}),nS,oy,oF,iF,aF,sF,lF,uF,cF,iy,dF=I(()=>{ai(),nS=oe(pe()),Re(),ut(),rS(),Gu(),oy={defaultState:{color:ha(.95,"#C4C4C4"),hoverColor:ha(.15,Yu.onColor)},withStaticOverride:{color:ha(.85,"#C4C4C4"),hoverColor:ha(.15,Yu.onColor)}},iF=G.div(oF||(oF=Y([`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;

  color: `,`;

  &:hover {
    color: `,`;
  }
`])),e=>e.hasStaticOverride?oy.withStaticOverride.color:oy.defaultState.color,e=>e.hasStaticOverride?oy.withStaticOverride.hoverColor:oy.defaultState.hoverColor),sF=G.div(aF||(aF=Y([`
  width: 5px;
  height: 5px;
  border-radius: 1px;
  transform: rotate(45deg);
  /* border: 1px solid currentColor; */
  background-color: currentColor;
`]))),uF=G.div(lF||(lF=Y([`
  width: 5px;
  height: 5px;
  background-color: currentColor;
  border-radius: 1px;
  transform: rotate(45deg);
`]))),cF=e=>{let{hasStaticOverride:t,obj:r,propConfig:o,pathToProp:a}=e;return nS.default.createElement(iF,{hasStaticOverride:t,onClick:()=>{ve().transaction(({stateEditors:s})=>{for(let{path:u,conf:c}of Y0(o,a)){if(fs(c))continue;let f=Pe(re({},r.address),{pathToProp:u});s.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(f,o)}})},title:"Sequence this prop"},t?nS.default.createElement(uF,{title:"The default value is overridden"}):nS.default.createElement(sF,{title:"This is the default value for this prop"}))},iy=cF});function ay(e){return JSON.stringify(JO(e))}function JO(e){return nh(e)?Object.keys(e).sort().reduce((t,r)=>(t[r]=JO(e[r]),t),{}):Array.isArray(e)?e.map(JO):e}var eoe=I(()=>{nn()}),fF,sy,pF=I(()=>{fF="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",sy=(e=21)=>{let t="",r=e;for(;r--;)t+=fF[Math.random()*64|0];return t}});function hF(){return sy(10)}function toe(){return sy(10)}function roe(){return sy(10)}var xn,Dl=I(()=>{eoe(),pF(),xn={forSheet(){return"sheet"},forSheetObject(e){return ay({o:e.address.objectKey})},forSheetObjectProp(e,t){return ay({o:e.address.objectKey,p:t})},forTrackKeyframe(e,t,r){return ay({o:e.address.objectKey,t,k:r})},forSheetObjectAggregateKeyframe(e,t){return xn.forCompoundPropAggregateKeyframe(e,[],t)},forSheetAggregateKeyframe(e,t){return ay({o:e.address.sheetId,pos:t})},forCompoundPropAggregateKeyframe(e,t,r){return ay({o:e.address.objectKey,p:t,pos:r})}}});function gF(e,t,r){if(!t||t.data.keyframes.length===0)return mF;let o=ej.get(t.data);if(o&&o[0]===r)return o[1];function a(u){if(!t)return;let c=t.data.keyframes[u];return c&&{kf:c,track:t,itemKey:xn.forTrackKeyframe(e,t.id,c.id)}}let s=(()=>{let u=t.data.keyframes.findIndex(f=>f.position>=r);if(u===-1)return{prev:a(t.data.keyframes.length-1)};let c=a(u);return c.kf.position===r?{prev:a(u-1),cur:c,next:a(u+1)}:{next:c,prev:a(u-1)}})();return ej.set(t.data,[r,s]),s}var ej,mF,vF=I(()=>{Dl(),ej=new WeakMap,mF={}}),tj,yF=I(()=>{tj={}});function noe(e,t,r){let o=(0,ji.getPointerParts)(e).path;return Wt(()=>{if(!KO(r))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:qd.default.createElement(iy,{hasStaticOverride:!1,obj:t,pathToProp:o,propConfig:r})};let a=!!(0,ji.val)(ll(ve().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,ji.getPointerParts)(e).path)),s=[],u={beingScrubbed:a,contextMenuItems:s,controlIndicators:qd.default.createElement(qd.default.Fragment,null)},c=(0,ji.val)(t.template.getMapOfValidSequenceTracks_forStudio()),f=Xu(c,o),h=f!==void 0&&Object.keys(f).length!==0,y=[],_=(0,ji.val)(t.template.getStaticButNotSequencedOverrides()),w=Xu(_??tj,o)!==void 0;if(h)for(let v of Y0(r,[])){if(fs(v.conf))continue;let x=Xu(f,v.path);typeof x!="string"?w=!0:y.push(x)}if((w||h)&&s.push({label:"Reset all to default",callback:()=>{ve().transaction(({unset:v})=>{v(e)})}}),h&&s.push({label:"Make all static",callback:()=>{ve().transaction(({stateEditors:v})=>{for(let{path:x,conf:k}of Y0(r,[])){if(fs(k))continue;let E=Pe(re({},t.address),{pathToProp:[...o,...x]}),C=ty(e,x);v.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(Pe(re({},E),{value:t.getValueByPointer(C)}))}})}}),(!h||h&&w)&&s.push({label:"Sequence all",callback:()=>{ve().transaction(({stateEditors:v})=>{for(let{path:x,conf:k}of Y0(r,o)){if(fs(k))continue;let E=Pe(re({},t.address),{pathToProp:x});v.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(E,r)}})}}),h){let v=ji.prism.memo("controlIndicators",()=>qd.default.createElement(ooe,{pointerToProp:e,obj:t,possibleSequenceTrackIds:f,listOfDescendantTrackIds:y}),[f,y]);return Pe(re({},u),{type:"HasSequences",controlIndicators:v})}else return Pe(re({},u),{type:"AllStatic",controlIndicators:qd.default.createElement(iy,{hasStaticOverride:w,obj:t,pathToProp:o,propConfig:r})})},[])}function ooe({pointerToProp:e,obj:t,possibleSequenceTrackIds:r,listOfDescendantTrackIds:o}){return Wt(()=>{let a=(0,ji.getPointerParts)(e).path,s=(0,ji.val)(t.sheet.getSequence().positionPrism),u=o.map(v=>({trackId:v,track:(0,ji.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[v])})).filter(({track:v})=>!!v).map(v=>Pe(re({},v),{nearbies:gF(t,{id:v.trackId,data:v.track,sheetObject:t},s)})),c=u.find(({nearbies:v})=>!!v.cur),f=u.every(({nearbies:v})=>!!v.cur),h=u.reduce((v,x)=>x.nearbies.prev&&(v===void 0||x.nearbies.prev.kf.position>v.kf.position)?x.nearbies.prev:v,void 0),y=u.reduce((v,x)=>x.nearbies.next&&(v===void 0||x.nearbies.next.kf.position<v.kf.position)?x.nearbies.next:v,void 0),_=()=>{f?ve().transaction(v=>{v.unset(e)}):c?ve().transaction(v=>{v.set(e,(0,ji.val)(e))}):ve().transaction(v=>{v.set(e,(0,ji.val)(e))})},w={cur:c?{type:"on",itemKey:xn.forCompoundPropAggregateKeyframe(t,a,s),toggle:_}:{toggle:_,type:"off"},prev:h!==void 0?{position:h.kf.position,itemKey:xn.forCompoundPropAggregateKeyframe(t,a,h.kf.position),jump:()=>{t.sheet.getSequence().position=h.kf.position}}:void 0,next:y!==void 0?{position:y.kf.position,itemKey:xn.forCompoundPropAggregateKeyframe(t,a,y.kf.position),jump:()=>{t.sheet.getSequence().position=y.kf.position}}:void 0};return qd.default.createElement(QO,re({},w))},[e,t,r,o])}var ji,qd,ioe=I(()=>{ut(),Xx(),xt(),ji=rt(),yd(),qd=oe(pe()),dF(),Gu(),Dl(),Yx(),rS(),vF(),yF()});function aoe(){let e=0,t=new _F.Atom({hasLock:!1});return{replaceLock(r,o){let a=e++,s=t.get();return s.hasLock&&s.cleanup(),t.set({hasLock:!0,lockId:a,cleanup:o,deepPath:soe(bF(r))}),function(){let u=t.get();u.hasLock&&u.lockId===a&&(u.cleanup(),t.set({hasLock:!1}))}},getIsPropHighlightedD(r){let o=ty(t.pointer.deepPath,bF(r));return(0,kF.prism)(()=>{let a=(0,wF.val)(o);return a===!0?"self":a?"descendent":null})}}}function bF(e){return[e.projectId,e.sheetId,e.objectKey,...e.pathToProp]}function soe(e){let t={};return pl(t,e,!0),t}var wF,_F,kF,oS,rj=I(()=>{wF=rt(),_F=rt(),kF=rt(),Yx(),Ch(),oS=aoe()});function loe(e,t){return JSON.stringify(e,t,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var uoe=I(()=>{});function xF(e,t=!0){try{return typeof e=="string"?e:typeof e=="function"||e instanceof Error?e.toString():t?loe(e):JSON.stringify(e)}catch{return(e==null?void 0:e.name)||String(e)}}var coe=I(()=>{uoe()});function doe(e,t,r){e||(arguments.length>2?SF(t,r):SF(t))}function SF(e,t){let r=arguments.length>1,o=xF(e),a=r?`
Instead found: `.concat(xF(t)):"";throw new OF("Invariant: ".concat(o).concat(a),t)}var EF,PF,CF,IF,OF,foe=I(()=>{coe(),EF=/^\s*at.+node:internal.+/gm,PF=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,CF=/^\s*(at|[^@]+@).+test\-helpers.+/gm,IF=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,OF=class extends Error{constructor(e,t){var r;super(e),Kt(this,"found"),t!==void 0&&(this.found=t),this.stack=(r=this.stack)==null?void 0:r.replace(PF,"").replace(IF,"").replace(CF,"").replace(EF,"")}}});function poe(e){return(0,iS.prism)(()=>{if(Array.isArray(e)){let t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r].getValue();return t}else{let t={};for(let r in e)t[r]=(0,iS.val)(e[r]);return t}})}function nj(e){let t=cg.default.memo(cg.default.forwardRef(function(r,o){let a=[],s={},u={ref:o};for(let y in r){let _=r[y];(0,iS.isPrism)(_)?(a.push(_),s[y]=_):u[y]=_}let c=(0,cg.useRef)(a.length);doe(c.current===a.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:c.current,count:a.length});let f=(0,cg.useMemo)(()=>poe(s),a),h=Id(f);return h&&cg.default.createElement(e,re(re({},u),h))}));return t.displayName="deriver(".concat(e.displayName,")"),t}var iS,cg,jF=I(()=>{iS=rt(),xt(),cg=oe(pe()),foe()});function hoe(e,t,r){return(0,ba.prism)(()=>{var o;let a=(0,ba.getPointerParts)(e).path,s=t.getValueByPointer(e),u=ba.prism.memo("editPropValue",()=>{let x=null;return{temporarilySetValue(k){x||(x=ve().scrub()),x.capture(E=>{E.set(e,k)})},discardTemporaryValue(){x&&(x.discard(),x=null)},permanentlySetValue(k){x?(x.capture(E=>{E.set(e,k)}),x.commit(),x=null):ve().transaction(E=>{E.set(e,k)})}}},[]),c={createAsset:x=>t.sheet.project.assetStorage.createAsset(x),getAssetUrl:x=>x.id?t.sheet.project.assetStorage.getAssetUrl(x.id):void 0},f=(0,ba.val)(ll(ve().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,ba.getPointerParts)(e).path))===!0,h=[],y=Pe(re(re({},u),c),{value:s,beingScrubbed:f,contextMenuItems:h,controlIndicators:dg.default.createElement(dg.default.Fragment,null)}),_=$ne(r);if(_){let x=(0,ba.val)(t.template.getMapOfValidSequenceTracks_forStudio()),k=Xu(x,a);if(typeof k=="string"){h.push({label:"Make static",callback:()=>{ve().transaction(({stateEditors:L})=>{let te=Pe(re({},t.address),{pathToProp:a});L.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(Pe(re({},te),{value:t.getValueByPointer(e)}))})}});let E=k,C=ba.prism.sub("lcr",()=>{let L=(0,ba.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[E]),te=(0,ba.val)(t.sheet.getSequence().positionPrism);return gF(t,L&&{data:L,id:E,sheetObject:t},te)},[E]),j;y.beingScrubbed?j="Sequenced_OnKeyframe_BeingScrubbed":C.cur?j="Sequenced_OnKeyframe":((o=C.prev)==null?void 0:o.kf.connectedRight)===!0?j="Sequenced_BeingInterpolated":j="Sequened_NotBeingInterpolated";let D=()=>{C.cur?ve().transaction(L=>{L.unset(e)}):ve().transaction(L=>{L.set(e,y.value)})},M={cur:C.cur?{type:"on",itemKey:C.cur.itemKey,toggle:D}:{type:"off",toggle:D},prev:C.prev!==void 0?{itemKey:C.prev.itemKey,position:C.prev.kf.position,jump:()=>{t.sheet.getSequence().position=C.prev.kf.position}}:void 0,next:C.next!==void 0?{itemKey:C.next.itemKey,position:C.next.kf.position,jump:()=>{t.sheet.getSequence().position=C.next.kf.position}}:void 0},F=dg.default.createElement(QO,re({},M));return Pe(re({},y),{type:"Sequenced",shade:j,nearbyKeyframes:C,controlIndicators:F})}}let w=(0,ba.val)(t.template.getStaticValues()),v=Xu(w,a);return typeof v<"u"&&h.push({label:"Reset to default",callback:()=>{ve().transaction(({unset:x})=>{x(e)})}}),_&&h.push({label:"Sequence",callback:()=>{ve().transaction(({stateEditors:x})=>{let k=Pe(re({},t.address),{pathToProp:a});x.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(k,r)})}}),typeof v<"u"?Pe(re({},y),{type:"Static",shade:y.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:dg.default.createElement(iy,{hasStaticOverride:!0,obj:t,pathToProp:a,propConfig:r})}):Pe(re({},y),{type:"Default",shade:"Default",controlIndicators:dg.default.createElement(iy,{hasStaticOverride:!0,obj:t,pathToProp:a,propConfig:r})})})}function goe(e,t,r){if(aS.has(e))return aS.get(e);{let o=hoe(e,t,r);return aS.set(e,o),o}}function oj(e,t,r){let o=goe(e,t,r);return Id(o)}var dg,ba,aS,ij=I(()=>{yd(),dg=oe(pe()),ba=rt(),ut(),Xx(),xt(),Gu(),dF(),vF(),rS(),aS=new WeakMap});function moe({propConfig:e,pointerToProp:t,obj:r,SimpleEditorComponent:o}){let a=oj(t,r,e);return Ln.default.createElement(pO,{editingTools:a,propConfig:e,value:a.value})}function voe({pointerToProp:e,obj:t,propConfig:r,visualIndentation:o}){var a;let s=(a=r.label)!=null?a:dl((0,ly.getPointerParts)(e).path),u=Object.entries(r.props),c=u.filter(([D,M])=>fs(M)),f=u.filter(([D,M])=>!fs(M)),[h,y]=rr(null),_=noe(e,t,r),[w]=ko(y,{menuItems:_.contextMenuItems}),v=c.length>0,x=(0,Ln.useMemo)(()=>oS.getIsPropHighlightedD(Pe(re({},t.address),{pathToProp:(0,ly.getPointerParts)(e).path})),[e]),k="".concat(t.address.projectId,",").concat(t.address.sheetId,",").concat(t.address.sheetInstanceId,",").concat(t.address.objectKey,",").concat((0,ly.getPointerParts)(e).path.join()),E=qF(r);(0,Ln.useLayoutEffect)(()=>{sS.has(k)||sS.set(k,new ly.Atom(E))},[k,r]);let C=sS.get(k),j=Wt(()=>C?(0,TF.val)(C.pointer):E,[C]);return Ln.default.createElement(DF,null,w,Ln.default.createElement(aj,{style:{"--depth":o-1}},Ln.default.createElement(RF,{isVectorProp:E},Ln.default.createElement(FF,null,_.controlIndicators),Ln.default.createElement(UF,{isHighlighted:x,ref:h},Ln.default.createElement("span",null,s||"Props")),Ln.default.createElement(HF,{isCollapsed:j,isVector:E,onClick:()=>{C==null||C.set(!C.get())}},Ln.default.createElement(Xz,null))),E&&j&&Ln.default.createElement(GF,null,[...u].map(([D,M])=>Ln.default.createElement(moe,{key:"prop-"+D,propConfig:M,pointerToProp:e[D],obj:t})))),!j&&Ln.default.createElement(WF,{style:{"--depth":o},depth:o,lastSubIsComposite:v},[...f,...c].map(([D,M])=>Ln.default.createElement(lj,{key:"prop-"+D,propConfig:M,pointerToProp:e[D],obj:t,visualIndentation:o+1}))))}var ly,Ln,TF,AF,DF,zF,aj,BF,RF,NF,FF,MF,UF,VF,HF,LF,KF,WF,qF,$F,GF,ZF,sS,yoe=I(()=>{Gu(),ly=rt(),bh(),ai(),Ln=oe(pe()),Re(),mN(),Ld(),ur(),lr(),uM(),xo(),ioe(),rj(),jF(),Uz(),ij(),xt(),TF=rt(),ag(),Kx(),DF=G.div(AF||(AF=Y([`
  --step: 15px;
  --left-pad: 15px;
  `,`;
  --right-width: 60%;
`])),ar),aj=G.div(zF||(zF=Y([`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;
`]))),RF=G.div(BF||(BF=Y([`
  padding-left: `,`;
  display: flex;
  align-items: center;
  overflow: hidden;
  `,`;
`])),WO,({isVectorProp:e})=>e?"width: calc(100% - var(--right-width))":""),FF=G.div(NF||(NF=Y([`
  flexshrink: 0;
`]))),UF=nj(G.div(MF||(MF=Y([`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  gap: 4px;
  user-select: none;
  &:hover {
    color: white;
  }
  overflow: hidden;

  `,`;
`])),()=>Zu)),HF=G.span(VF||(VF=Y([`
  width: 28px;
  height: 28px;
  font-size: 9px;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  visibility: `,`;

  `,`:hover & {
    visibility: visible;
  }

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>!e.isVector&&e.isCollapsed||e.isVector&&!e.isCollapsed?"visible":"hidden",aj,e=>e.isCollapsed?15:75),LF=ha(.05,"#282b2f"),WF=G.div(KF||(KF=Y([`
  /* background: `,`; */
  /* padding: `,` 0; */
`])),({depth:e})=>O0(e*.03,LF),e=>e.lastSubIsComposite?0:"4px"),qF=X0(e=>{let t=Object.entries(e.props);return t.length<=3&&t.every(([r,o])=>o.type==="number"&&["x","y","z"].includes(r))}),GF=G.div($F||($F=Y([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`]))),ZF=Ln.default.memo(voe),sS=new Map});function boe({isHighlighted:e}){return e==="self"?"#1857a4":e==="descendent"?"#0a2f5c":"initial"}var woe=I(()=>{});function _oe({propConfig:e,pointerToProp:t,editingTools:r,children:o,isPropHighlightedD:a}){var s;let u=(s=e.label)!=null?s:dl((0,sj.getPointerParts)(t).path),[c,f]=rr(null),[h]=ko(f,{menuItems:r.contextMenuItems});return fg.default.createElement(YF,{isHighlighted:a},h,fg.default.createElement(JF,null,fg.default.createElement(nM,null,r.controlIndicators),fg.default.createElement(tM,{isHighlighted:a,ref:c,title:["obj","props",...(0,sj.getPointerParts)(t).path].join(".")},u)),fg.default.createElement(iM,null,o))}var sj,fg,XF,YF,QF,JF,eM,tM,rM,nM,oM,iM,koe=I(()=>{sj=rt(),xo(),lr(),nn(),fg=oe(pe()),Re(),ur(),Ld(),jF(),mN(),woe(),YF=nj(G.div(XF||(XF=Y([`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  `,`;

  /* background-color: `,`; */
`])),ar,boe)),JF=G.div(QF||(QF=Y([`
  box-sizing: border-box;
  padding-left: `,`;
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`])),WO),tM=nj(G.div(eM||(eM=Y([`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  `,`;
  &:hover {
    color: white;
  }
`])),Zu)),nM=G.div(rM||(rM=Y([`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`]))),iM=G.div(oM||(oM=Y([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`])))});function xoe({propConfig:e,pointerToProp:t,obj:r,SimpleEditorComponent:o}){let a=oj(t,r,e),s=(0,uy.useMemo)(()=>oS.getIsPropHighlightedD(Pe(re({},r.address),{pathToProp:(0,aM.getPointerParts)(t).path})),[t]);return uy.default.createElement(_oe,{editingTools:a,propConfig:e,pointerToProp:t,isPropHighlightedD:s},uy.default.createElement(o,{editingTools:a,propConfig:e,value:a.value}))}var uy,aM,sM,Soe=I(()=>{uy=oe(pe()),ij(),koe(),aM=rt(),rj(),sM=uy.default.memo(xoe)}),cy,lM,lj,uM=I(()=>{cy=oe(pe()),gN(),yoe(),Soe(),lM=({propConfig:e,visualIndentation:t,pointerToProp:r,obj:o})=>{if(e.type==="compound")return cy.default.createElement(ZF,{obj:o,visualIndentation:t,pointerToProp:r,propConfig:e});if(e.type==="enum")return cy.default.createElement(cy.default.Fragment,null);{let a=LO[e.type];return cy.default.createElement(sM,{SimpleEditorComponent:a,obj:o,visualIndentation:t,pointerToProp:r,propConfig:e})}},lj=lM});function cM(e){return lS.has(e)||lS.set(e,(dM++).toString()),lS.get(e)}var lS,dM,fM=I(()=>{lS=new WeakMap,dM=0}),pg,pM,hM,gM,mM,vM,yM,Eoe=I(()=>{pg=oe(pe()),uM(),xt(),fM(),Re(),hM=G.div(pM||(pM=Y([`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
`]))),mM=G.button(gM||(gM=Y([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  border-radius: 2px;

  color: #a8a8a9;
  background: rgba(255, 255, 255, 0.1);

  border: none;
  height: 28px;

  &:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  &:active {
    background: rgba(255, 255, 255, 0.2);
  }
`]))),vM=({objects:e})=>{let t=e[0],r=Gt(t.template.configPointer),o=Gt(t.template._temp_actionsPointer);return pg.default.createElement(pg.default.Fragment,null,pg.default.createElement(lj,{key:cM(t),obj:t,pointerToProp:t.propsP,propConfig:r,visualIndentation:1}),pg.default.createElement(hM,null,o&&Object.entries(o).map(([a,s])=>pg.default.createElement(mM,{key:a,onClick:()=>{s(t.publicApi)}},a))))},yM=vM}),bM,wM,uS,_M=I(()=>{Re(),wM=G.button(bM||(bM=Y([`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: `,`;
  opacity: `,`;

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`])),e=>e.disabled?"none":"pointer",e=>e.disabled?.4:1),uS=wM}),Poe=I(()=>{}),kM,Coe=I(()=>{Poe(),kM=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=r[e]&63;o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o<63?t+="_":t+="-"}return t}});function xM(){return kM(16)}var SM=I(()=>{Coe()}),EM,zl,uj,PM,CM,IM,OM,jM=I(()=>{EM=rt(),lr(),zl=oe(pe()),uj=(0,zl.createContext)(null),PM=0,CM=()=>{let e=(0,zl.useMemo)(()=>PM++,[]),{cur:t,set:r}=(0,zl.useContext)(uj),[o,a]=rr(!1),s=(0,zl.useCallback)((u,c)=>{r(u?e:-1,c)},[]);return(0,zl.useEffect)(()=>t.onStale(()=>{let u=t.getValue()===e;o.current!==u&&(o.current=u)}),[t,e]),[a,s]},IM=({children:e})=>{let t=(0,zl.useMemo)(()=>new EM.Atom(-1),[]),r=t.prism,o=(0,zl.useMemo)(()=>{let a;return(s,u)=>{let c=a!==void 0;a!==void 0&&(clearTimeout(a),a=void 0),u===0||c?t.set(s):a=setTimeout(()=>{t.set(s),a=void 0},u)}},[]);return zl.default.createElement(uj.Provider,{value:{cur:r,set:o}},e)},OM=IM});function hg(e,t){let r=e.enabled!==!1,[o,a]=CM(),[s,u]=rr(null);(0,AM.useEffect)(()=>{if(!r)return;let f=s.current;if(!f)return;let h=()=>{var _;return a(!0,(_=e.enterDelay)!=null?_:400)},y=()=>{var _;return a(!1,(_=e.exitDelay)!=null?_:200)};return f.addEventListener("mouseenter",h),f.addEventListener("mouseleave",y),()=>{f.removeEventListener("mouseenter",h),f.removeEventListener("mouseleave",y)}},[s,r,e.enterDelay,e.exitDelay]);let c=(0,TM.useContext)(Xh);return[r&&o&&u?(0,DM.createPortal)(cS.default.createElement(NO,{children:t,target:u,onClickOutside:ga,verticalPlacement:e.verticalPlacement,verticalGap:e.verticalGap}),c):cS.default.createElement(cS.default.Fragment,null),s,o]}var TM,AM,cS,DM,dy=I(()=>{lr(),TM=oe(pe()),AM=oe(pe()),cS=oe(pe()),vR(),DM=oe(kn()),jM(),Ud(),Jh()}),zM,BM,gg,dS=I(()=>{Re(),cs(),BM=G(us)(zM||(zM=Y([`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`]))),gg=BM}),ps,RM,NM,FM,MM,UM,VM,HM,LM,KM,Ioe=I(()=>{xt(),ut(),ps=oe(pe()),Re(),SM(),dy(),dS(),_M(),NM=G.div(RM||(RM=Y([`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`]))),MM=G.div(FM||(FM=Y([`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`]))),VM=G.div(UM||(UM=Y([`
  display: flex;
  gap: 8px;
`]))),HM=({projectId:e})=>{let t=Gt(ve().atomP.ephemeral.coreByProject[e].loadingState);return t&&t.type==="browserStateIsNotBasedOnDiskState"?ps.default.createElement(LM,{loadingState:t,projectId:e}):null},LM=({projectId:e,loadingState:t})=>{let r=()=>{ve().transaction(({drafts:f,stateEditors:h})=>{h.coreByProject.historic.revisionHistory.add({projectId:e,revision:t.onDiskState.revisionHistory[0]}),h.coreByProject.historic.revisionHistory.add({projectId:e,revision:xM()}),f.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},o=()=>{ve().transaction(({drafts:f})=>{f.historic.coreByProject[e]=t.onDiskState,f.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},[a,s]=hg({},()=>ps.default.createElement(gg,null,"The browser's state will override the disk state.")),[u,c]=hg({},()=>ps.default.createElement(gg,null,"The disk's state will override the browser's state."));return ps.default.createElement(NM,null,ps.default.createElement(MM,null,"Browser state is not based on disk state."," ",ps.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),ps.default.createElement(VM,null,a,ps.default.createElement(uS,{onClick:r,ref:s},"Use browser's state"),u,ps.default.createElement(uS,{onClick:o,ref:c},"Use disk state")))},KM=HM}),Ooe=vt((e,t)=>{(function(r){typeof e=="object"&&typeof t<"u"?t.exports=r():(typeof window<"u"?window:typeof Xr<"u"?Xr:typeof self<"u"?self:this).JSZip=r()})(function(){return function r(o,a,s){function u(h,y){if(!a[h]){if(!o[h]){var _=typeof s2=="function"&&s2;if(!y&&_)return _(h,!0);if(c)return c(h,!0);var w=new Error("Cannot find module '"+h+"'");throw w.code="MODULE_NOT_FOUND",w}var v=a[h]={exports:{}};o[h][0].call(v.exports,function(x){var k=o[h][1][x];return u(k||x)},v,v.exports,r,o,a,s)}return a[h].exports}for(var c=typeof s2=="function"&&s2,f=0;f<s.length;f++)u(s[f]);return u}({1:[function(r,o,a){var s=r("./utils"),u=r("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(f){for(var h,y,_,w,v,x,k,E=[],C=0,j=f.length,D=j,M=s.getTypeOf(f)!=="string";C<f.length;)D=j-C,_=M?(h=f[C++],y=C<j?f[C++]:0,C<j?f[C++]:0):(h=f.charCodeAt(C++),y=C<j?f.charCodeAt(C++):0,C<j?f.charCodeAt(C++):0),w=h>>2,v=(3&h)<<4|y>>4,x=1<D?(15&y)<<2|_>>6:64,k=2<D?63&_:64,E.push(c.charAt(w)+c.charAt(v)+c.charAt(x)+c.charAt(k));return E.join("")},a.decode=function(f){var h,y,_,w,v,x,k=0,E=0,C="data:";if(f.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");var j,D=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===c.charAt(64)&&D--,f.charAt(f.length-2)===c.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(j=u.uint8array?new Uint8Array(0|D):new Array(0|D);k<f.length;)h=c.indexOf(f.charAt(k++))<<2|(w=c.indexOf(f.charAt(k++)))>>4,y=(15&w)<<4|(v=c.indexOf(f.charAt(k++)))>>2,_=(3&v)<<6|(x=c.indexOf(f.charAt(k++))),j[E++]=h,v!==64&&(j[E++]=y),x!==64&&(j[E++]=_);return j}},{"./support":30,"./utils":32}],2:[function(r,o,a){var s=r("./external"),u=r("./stream/DataWorker"),c=r("./stream/Crc32Probe"),f=r("./stream/DataLengthProbe");function h(y,_,w,v,x){this.compressedSize=y,this.uncompressedSize=_,this.crc32=w,this.compression=v,this.compressedContent=x}h.prototype={getContentWorker:function(){var y=new u(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),_=this;return y.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new u(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(y,_,w){return y.pipe(new c).pipe(new f("uncompressedSize")).pipe(_.compressWorker(w)).pipe(new f("compressedSize")).withStreamInfo("compression",_)},o.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,a){var s=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,a){var s=r("./utils"),u=function(){for(var c,f=[],h=0;h<256;h++){c=h;for(var y=0;y<8;y++)c=1&c?3988292384^c>>>1:c>>>1;f[h]=c}return f}();o.exports=function(c,f){return c!==void 0&&c.length?s.getTypeOf(c)!=="string"?function(h,y,_,w){var v=u,x=w+_;h^=-1;for(var k=w;k<x;k++)h=h>>>8^v[255&(h^y[k])];return-1^h}(0|f,c,c.length,0):function(h,y,_,w){var v=u,x=w+_;h^=-1;for(var k=w;k<x;k++)h=h>>>8^v[255&(h^y.charCodeAt(k))];return-1^h}(0|f,c,c.length,0):0}},{"./utils":32}],5:[function(r,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,o,a){var s=null;s=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:s}},{lie:37}],7:[function(r,o,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=r("pako"),c=r("./utils"),f=r("./stream/GenericWorker"),h=s?"uint8array":"array";function y(_,w){f.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=w,this.meta={}}a.magic="\b\0",c.inherits(y,f),y.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,_.data),!1)},y.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(w){_.push({data:w,meta:_.meta})}},a.compressWorker=function(_){return new y("Deflate",_)},a.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,a){function s(v,x){var k,E="";for(k=0;k<x;k++)E+=String.fromCharCode(255&v),v>>>=8;return E}function u(v,x,k,E,C,j){var D,M,F=v.file,L=v.compression,te=j!==h.utf8encode,se=c.transformTo("string",j(F.name)),Z=c.transformTo("string",h.utf8encode(F.name)),de=F.comment,Ce=c.transformTo("string",j(de)),K=c.transformTo("string",h.utf8encode(de)),fe=Z.length!==F.name.length,z=K.length!==de.length,be="",Je="",le="",ae=F.dir,_e=F.date,Ke={crc32:0,compressedSize:0,uncompressedSize:0};x&&!k||(Ke.crc32=v.crc32,Ke.compressedSize=v.compressedSize,Ke.uncompressedSize=v.uncompressedSize);var W=0;x&&(W|=8),te||!fe&&!z||(W|=2048);var X=0,Ie=0;ae&&(X|=16),C==="UNIX"?(Ie=798,X|=function(ze,ke){var yt=ze;return ze||(yt=ke?16893:33204),(65535&yt)<<16}(F.unixPermissions,ae)):(Ie=20,X|=function(ze){return 63&(ze||0)}(F.dosPermissions)),D=_e.getUTCHours(),D<<=6,D|=_e.getUTCMinutes(),D<<=5,D|=_e.getUTCSeconds()/2,M=_e.getUTCFullYear()-1980,M<<=4,M|=_e.getUTCMonth()+1,M<<=5,M|=_e.getUTCDate(),fe&&(Je=s(1,1)+s(y(se),4)+Z,be+="up"+s(Je.length,2)+Je),z&&(le=s(1,1)+s(y(Ce),4)+K,be+="uc"+s(le.length,2)+le);var Ae="";return Ae+=`
\0`,Ae+=s(W,2),Ae+=L.magic,Ae+=s(D,2),Ae+=s(M,2),Ae+=s(Ke.crc32,4),Ae+=s(Ke.compressedSize,4),Ae+=s(Ke.uncompressedSize,4),Ae+=s(se.length,2),Ae+=s(be.length,2),{fileRecord:_.LOCAL_FILE_HEADER+Ae+se+be,dirRecord:_.CENTRAL_FILE_HEADER+s(Ie,2)+Ae+s(Ce.length,2)+"\0\0\0\0"+s(X,4)+s(E,4)+se+be+Ce}}var c=r("../utils"),f=r("../stream/GenericWorker"),h=r("../utf8"),y=r("../crc32"),_=r("../signature");function w(v,x,k,E){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=k,this.encodeFileName=E,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(w,f),w.prototype.push=function(v){var x=v.meta.percent||0,k=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,f.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:k?(x+100*(k-E-1))/k:100}}))},w.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var x=this.streamFiles&&!v.file.dir;if(x){var k=u(v,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:k.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(v){this.accumulate=!1;var x=this.streamFiles&&!v.file.dir,k=u(v,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(k.dirRecord),x)this.push({data:function(E){return _.DATA_DESCRIPTOR+s(E.crc32,4)+s(E.compressedSize,4)+s(E.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:k.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var v=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var k=this.bytesWritten-v,E=function(C,j,D,M,F){var L=c.transformTo("string",F(M));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(C,2)+s(C,2)+s(j,4)+s(D,4)+s(L.length,2)+L}(this.dirRecords.length,k,v,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(v){this._sources.push(v);var x=this;return v.on("data",function(k){x.processChunk(k)}),v.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),v.on("error",function(k){x.error(k)}),this},w.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(v){var x=this._sources;if(!f.prototype.error.call(this,v))return!1;for(var k=0;k<x.length;k++)try{x[k].error(v)}catch{}return!0},w.prototype.lock=function(){f.prototype.lock.call(this);for(var v=this._sources,x=0;x<v.length;x++)v[x].lock()},o.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,a){var s=r("../compressions"),u=r("./ZipFileWorker");a.generateWorker=function(c,f,h){var y=new u(f.streamFiles,h,f.platform,f.encodeFileName),_=0;try{c.forEach(function(w,v){_++;var x=function(j,D){var M=j||D,F=s[M];if(!F)throw new Error(M+" is not a valid compression method !");return F}(v.options.compression,f.compression),k=v.options.compressionOptions||f.compressionOptions||{},E=v.dir,C=v.date;v._compressWorker(x,k).withStreamInfo("file",{name:w,dir:E,date:C,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(y)}),y.entriesCount=_}catch(w){y.error(w)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,a){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new s;for(var c in this)typeof this[c]!="function"&&(u[c]=this[c]);return u}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(u,c){return new s().loadAsync(u,c)},s.external=r("./external"),o.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,a){var s=r("./utils"),u=r("./external"),c=r("./utf8"),f=r("./zipEntries"),h=r("./stream/Crc32Probe"),y=r("./nodejsUtils");function _(w){return new u.Promise(function(v,x){var k=w.decompressed.getContentWorker().pipe(new h);k.on("error",function(E){x(E)}).on("end",function(){k.streamInfo.crc32!==w.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}o.exports=function(w,v){var x=this;return v=s.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),y.isNode&&y.isStream(w)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",w,!0,v.optimizedBinaryString,v.base64).then(function(k){var E=new f(v);return E.load(k),E}).then(function(k){var E=[u.Promise.resolve(k)],C=k.files;if(v.checkCRC32)for(var j=0;j<C.length;j++)E.push(_(C[j]));return u.Promise.all(E)}).then(function(k){for(var E=k.shift(),C=E.files,j=0;j<C.length;j++){var D=C[j],M=D.fileNameStr,F=s.resolve(D.fileNameStr);x.file(F,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:v.createFolders}),D.dir||(x.file(F).unsafeOriginalName=M)}return E.zipComment.length&&(x.comment=E.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,a){var s=r("../utils"),u=r("../stream/GenericWorker");function c(f,h){u.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(c,u),c.prototype._bindStream=function(f){var h=this;(this._stream=f).pause(),f.on("data",function(y){h.push({data:y,meta:{percent:0}})}).on("error",function(y){h.isPaused?this.generatedError=y:h.error(y)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,a){var s=r("readable-stream").Readable;function u(c,f,h){s.call(this,f),this._helper=c;var y=this;c.on("data",function(_,w){y.push(_)||y._helper.pause(),h&&h(w)}).on("error",function(_){y.emit("error",_)}).on("end",function(){y.push(null)})}r("../utils").inherits(u,s),u.prototype._read=function(){this._helper.resume()},o.exports=u},{"../utils":32,"readable-stream":16}],14:[function(r,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,u);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,u)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var u=new Buffer(s);return u.fill(0),u},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,o,a){function s(F,L,te){var se,Z=c.getTypeOf(L),de=c.extend(te||{},y);de.date=de.date||new Date,de.compression!==null&&(de.compression=de.compression.toUpperCase()),typeof de.unixPermissions=="string"&&(de.unixPermissions=parseInt(de.unixPermissions,8)),de.unixPermissions&&16384&de.unixPermissions&&(de.dir=!0),de.dosPermissions&&16&de.dosPermissions&&(de.dir=!0),de.dir&&(F=C(F)),de.createFolders&&(se=E(F))&&j.call(this,se,!0);var Ce=Z==="string"&&de.binary===!1&&de.base64===!1;te&&te.binary!==void 0||(de.binary=!Ce),(L instanceof _&&L.uncompressedSize===0||de.dir||!L||L.length===0)&&(de.base64=!1,de.binary=!0,L="",de.compression="STORE",Z="string");var K=null;K=L instanceof _||L instanceof f?L:x.isNode&&x.isStream(L)?new k(F,L):c.prepareContent(F,L,de.binary,de.optimizedBinaryString,de.base64);var fe=new w(F,K,de);this.files[F]=fe}var u=r("./utf8"),c=r("./utils"),f=r("./stream/GenericWorker"),h=r("./stream/StreamHelper"),y=r("./defaults"),_=r("./compressedObject"),w=r("./zipObject"),v=r("./generate"),x=r("./nodejsUtils"),k=r("./nodejs/NodejsStreamInputAdapter"),E=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var L=F.lastIndexOf("/");return 0<L?F.substring(0,L):""},C=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},j=function(F,L){return L=L!==void 0?L:y.createFolders,F=C(F),this.files[F]||s.call(this,F,null,{dir:!0,createFolders:L}),this.files[F]};function D(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var L,te,se;for(L in this.files)se=this.files[L],(te=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&F(te,se)},filter:function(F){var L=[];return this.forEach(function(te,se){F(te,se)&&L.push(se)}),L},file:function(F,L,te){if(arguments.length!==1)return F=this.root+F,s.call(this,F,L,te),this;if(D(F)){var se=F;return this.filter(function(de,Ce){return!Ce.dir&&se.test(de)})}var Z=this.files[this.root+F];return Z&&!Z.dir?Z:null},folder:function(F){if(!F)return this;if(D(F))return this.filter(function(Z,de){return de.dir&&F.test(Z)});var L=this.root+F,te=j.call(this,L),se=this.clone();return se.root=te.name,se},remove:function(F){F=this.root+F;var L=this.files[F];if(L||(F.slice(-1)!=="/"&&(F+="/"),L=this.files[F]),L&&!L.dir)delete this.files[F];else for(var te=this.filter(function(Z,de){return de.name.slice(0,F.length)===F}),se=0;se<te.length;se++)delete this.files[te[se].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var L,te={};try{if((te=c.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=te.type.toLowerCase(),te.compression=te.compression.toUpperCase(),te.type==="binarystring"&&(te.type="string"),!te.type)throw new Error("No output type specified.");c.checkSupport(te.type),te.platform!=="darwin"&&te.platform!=="freebsd"&&te.platform!=="linux"&&te.platform!=="sunos"||(te.platform="UNIX"),te.platform==="win32"&&(te.platform="DOS");var se=te.comment||this.comment||"";L=v.generateWorker(this,te,se)}catch(Z){(L=new f("error")).error(Z)}return new h(L,te.type||"string",te.mimeType)},generateAsync:function(F,L){return this.generateInternalStream(F).accumulate(L)},generateNodeStream:function(F,L){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(L)}};o.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,a){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,a){var s=r("./DataReader");function u(c){s.call(this,c);for(var f=0;f<this.data.length;f++)c[f]=255&c[f]}r("../utils").inherits(u,s),u.prototype.byteAt=function(c){return this.data[this.zero+c]},u.prototype.lastIndexOfSignature=function(c){for(var f=c.charCodeAt(0),h=c.charCodeAt(1),y=c.charCodeAt(2),_=c.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===f&&this.data[w+1]===h&&this.data[w+2]===y&&this.data[w+3]===_)return w-this.zero;return-1},u.prototype.readAndCheckSignature=function(c){var f=c.charCodeAt(0),h=c.charCodeAt(1),y=c.charCodeAt(2),_=c.charCodeAt(3),w=this.readData(4);return f===w[0]&&h===w[1]&&y===w[2]&&_===w[3]},u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},o.exports=u},{"../utils":32,"./DataReader":18}],18:[function(r,o,a){var s=r("../utils");function u(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var f,h=0;for(this.checkOffset(c),f=this.index+c-1;f>=this.index;f--)h=(h<<8)+this.byteAt(f);return this.index+=c,h},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},o.exports=u},{"../utils":32}],19:[function(r,o,a){var s=r("./Uint8ArrayReader");function u(c){s.call(this,c)}r("../utils").inherits(u,s),u.prototype.readData=function(c){this.checkOffset(c);var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},o.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,a){var s=r("./DataReader");function u(c){s.call(this,c)}r("../utils").inherits(u,s),u.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},u.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},u.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},u.prototype.readData=function(c){this.checkOffset(c);var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},o.exports=u},{"../utils":32,"./DataReader":18}],21:[function(r,o,a){var s=r("./ArrayReader");function u(c){s.call(this,c)}r("../utils").inherits(u,s),u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},o.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,a){var s=r("../utils"),u=r("../support"),c=r("./ArrayReader"),f=r("./StringReader"),h=r("./NodeBufferReader"),y=r("./Uint8ArrayReader");o.exports=function(_){var w=s.getTypeOf(_);return s.checkSupport(w),w!=="string"||u.uint8array?w==="nodebuffer"?new h(_):u.uint8array?new y(s.transformTo("uint8array",_)):new c(s.transformTo("array",_)):new f(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,a){var s=r("./GenericWorker"),u=r("../utils");function c(f){s.call(this,"ConvertWorker to "+f),this.destType=f}u.inherits(c,s),c.prototype.processChunk=function(f){this.push({data:u.transformTo(this.destType,f.data),meta:f.meta})},o.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,a){var s=r("./GenericWorker"),u=r("../crc32");function c(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(c,s),c.prototype.processChunk=function(f){this.streamInfo.crc32=u(f.data,this.streamInfo.crc32||0),this.push(f)},o.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,a){var s=r("../utils"),u=r("./GenericWorker");function c(f){u.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}s.inherits(c,u),c.prototype.processChunk=function(f){if(f){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+f.data.length}u.prototype.processChunk.call(this,f)},o.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,a){var s=r("../utils"),u=r("./GenericWorker");function c(f){u.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(y){h.dataIsReady=!0,h.data=y,h.max=y&&y.length||0,h.type=s.getTypeOf(y),h.isPaused||h._tickAndRepeat()},function(y){h.error(y)})}s.inherits(c,u),c.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,h);break;case"uint8array":f=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":f=this.data.slice(this.index,h)}return this.index=h,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,a){function s(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,c){return this._listeners[u].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,c){if(this._listeners[u])for(var f=0;f<this._listeners[u].length;f++)this._listeners[u][f].call(this,c)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var c=this;return u.on("data",function(f){c.processChunk(f)}),u.on("end",function(){c.end()}),u.on("error",function(f){c.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,c){return this.extraStreamInfo[u]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},o.exports=s},{}],29:[function(r,o,a){var s=r("../utils"),u=r("./ConvertWorker"),c=r("./GenericWorker"),f=r("../base64"),h=r("../support"),y=r("../external"),_=null;if(h.nodestream)try{_=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(x,k){return new y.Promise(function(E,C){var j=[],D=x._internalType,M=x._outputType,F=x._mimeType;x.on("data",function(L,te){j.push(L),k&&k(te)}).on("error",function(L){j=[],C(L)}).on("end",function(){try{var L=function(te,se,Z){switch(te){case"blob":return s.newBlob(s.transformTo("arraybuffer",se),Z);case"base64":return f.encode(se);default:return s.transformTo(te,se)}}(M,function(te,se){var Z,de=0,Ce=null,K=0;for(Z=0;Z<se.length;Z++)K+=se[Z].length;switch(te){case"string":return se.join("");case"array":return Array.prototype.concat.apply([],se);case"uint8array":for(Ce=new Uint8Array(K),Z=0;Z<se.length;Z++)Ce.set(se[Z],de),de+=se[Z].length;return Ce;case"nodebuffer":return Buffer.concat(se);default:throw new Error("concat : unsupported type '"+te+"'")}}(D,j),F);E(L)}catch(te){C(te)}j=[]}).resume()})}function v(x,k,E){var C=k;switch(k){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string"}try{this._internalType=C,this._outputType=k,this._mimeType=E,s.checkSupport(C),this._worker=x.pipe(new u(C)),x.lock()}catch(j){this._worker=new c("error"),this._worker.error(j)}}v.prototype={accumulate:function(x){return w(this,x)},on:function(x,k){var E=this;return x==="data"?this._worker.on(x,function(C){k.call(E,C.data,C.meta)}):this._worker.on(x,function(){s.delay(k,arguments,E)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},x)}},o.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var s=new ArrayBuffer(0);try{a.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(s),a.blob=u.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,a){for(var s=r("./utils"),u=r("./support"),c=r("./nodejsUtils"),f=r("./stream/GenericWorker"),h=new Array(256),y=0;y<256;y++)h[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;h[254]=h[254]=1;function _(){f.call(this,"utf-8 decode"),this.leftOver=null}function w(){f.call(this,"utf-8 encode")}a.utf8encode=function(v){return u.nodebuffer?c.newBufferFrom(v,"utf-8"):function(x){var k,E,C,j,D,M=x.length,F=0;for(j=0;j<M;j++)(64512&(E=x.charCodeAt(j)))==55296&&j+1<M&&(64512&(C=x.charCodeAt(j+1)))==56320&&(E=65536+(E-55296<<10)+(C-56320),j++),F+=E<128?1:E<2048?2:E<65536?3:4;for(k=u.uint8array?new Uint8Array(F):new Array(F),j=D=0;D<F;j++)(64512&(E=x.charCodeAt(j)))==55296&&j+1<M&&(64512&(C=x.charCodeAt(j+1)))==56320&&(E=65536+(E-55296<<10)+(C-56320),j++),E<128?k[D++]=E:(E<2048?k[D++]=192|E>>>6:(E<65536?k[D++]=224|E>>>12:(k[D++]=240|E>>>18,k[D++]=128|E>>>12&63),k[D++]=128|E>>>6&63),k[D++]=128|63&E);return k}(v)},a.utf8decode=function(v){return u.nodebuffer?s.transformTo("nodebuffer",v).toString("utf-8"):function(x){var k,E,C,j,D=x.length,M=new Array(2*D);for(k=E=0;k<D;)if((C=x[k++])<128)M[E++]=C;else if(4<(j=h[C]))M[E++]=65533,k+=j-1;else{for(C&=j===2?31:j===3?15:7;1<j&&k<D;)C=C<<6|63&x[k++],j--;1<j?M[E++]=65533:C<65536?M[E++]=C:(C-=65536,M[E++]=55296|C>>10&1023,M[E++]=56320|1023&C)}return M.length!==E&&(M.subarray?M=M.subarray(0,E):M.length=E),s.applyFromCharCode(M)}(v=s.transformTo(u.uint8array?"uint8array":"array",v))},s.inherits(_,f),_.prototype.processChunk=function(v){var x=s.transformTo(u.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var k=x;(x=new Uint8Array(k.length+this.leftOver.length)).set(this.leftOver,0),x.set(k,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var E=function(j,D){var M;for((D=D||j.length)>j.length&&(D=j.length),M=D-1;0<=M&&(192&j[M])==128;)M--;return M<0||M===0?D:M+h[j[M]]>D?M:D}(x),C=x;E!==x.length&&(u.uint8array?(C=x.subarray(0,E),this.leftOver=x.subarray(E,x.length)):(C=x.slice(0,E),this.leftOver=x.slice(E,x.length))),this.push({data:a.utf8decode(C),meta:v.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=_,s.inherits(w,f),w.prototype.processChunk=function(v){this.push({data:a.utf8encode(v.data),meta:v.meta})},a.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,a){var s=r("./support"),u=r("./base64"),c=r("./nodejsUtils"),f=r("./external");function h(k){return k}function y(k,E){for(var C=0;C<k.length;++C)E[C]=255&k.charCodeAt(C);return E}r("setimmediate"),a.newBlob=function(k,E){a.checkSupport("blob");try{return new Blob([k],{type:E})}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return C.append(k),C.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(k,E,C){var j=[],D=0,M=k.length;if(M<=C)return String.fromCharCode.apply(null,k);for(;D<M;)E==="array"||E==="nodebuffer"?j.push(String.fromCharCode.apply(null,k.slice(D,Math.min(D+C,M)))):j.push(String.fromCharCode.apply(null,k.subarray(D,Math.min(D+C,M)))),D+=C;return j.join("")},stringifyByChar:function(k){for(var E="",C=0;C<k.length;C++)E+=String.fromCharCode(k[C]);return E},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function w(k){var E=65536,C=a.getTypeOf(k),j=!0;if(C==="uint8array"?j=_.applyCanBeUsed.uint8array:C==="nodebuffer"&&(j=_.applyCanBeUsed.nodebuffer),j)for(;1<E;)try{return _.stringifyByChunk(k,C,E)}catch{E=Math.floor(E/2)}return _.stringifyByChar(k)}function v(k,E){for(var C=0;C<k.length;C++)E[C]=k[C];return E}a.applyFromCharCode=w;var x={};x.string={string:h,array:function(k){return y(k,new Array(k.length))},arraybuffer:function(k){return x.string.uint8array(k).buffer},uint8array:function(k){return y(k,new Uint8Array(k.length))},nodebuffer:function(k){return y(k,c.allocBuffer(k.length))}},x.array={string:w,array:h,arraybuffer:function(k){return new Uint8Array(k).buffer},uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return c.newBufferFrom(k)}},x.arraybuffer={string:function(k){return w(new Uint8Array(k))},array:function(k){return v(new Uint8Array(k),new Array(k.byteLength))},arraybuffer:h,uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return c.newBufferFrom(new Uint8Array(k))}},x.uint8array={string:w,array:function(k){return v(k,new Array(k.length))},arraybuffer:function(k){return k.buffer},uint8array:h,nodebuffer:function(k){return c.newBufferFrom(k)}},x.nodebuffer={string:w,array:function(k){return v(k,new Array(k.length))},arraybuffer:function(k){return x.nodebuffer.uint8array(k).buffer},uint8array:function(k){return v(k,new Uint8Array(k.length))},nodebuffer:h},a.transformTo=function(k,E){if(E=E||"",!k)return E;a.checkSupport(k);var C=a.getTypeOf(E);return x[C][k](E)},a.resolve=function(k){for(var E=k.split("/"),C=[],j=0;j<E.length;j++){var D=E[j];D==="."||D===""&&j!==0&&j!==E.length-1||(D===".."?C.pop():C.push(D))}return C.join("/")},a.getTypeOf=function(k){return typeof k=="string"?"string":Object.prototype.toString.call(k)==="[object Array]"?"array":s.nodebuffer&&c.isBuffer(k)?"nodebuffer":s.uint8array&&k instanceof Uint8Array?"uint8array":s.arraybuffer&&k instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(k){if(!s[k.toLowerCase()])throw new Error(k+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(k){var E,C,j="";for(C=0;C<(k||"").length;C++)j+="\\x"+((E=k.charCodeAt(C))<16?"0":"")+E.toString(16).toUpperCase();return j},a.delay=function(k,E,C){setImmediate(function(){k.apply(C||null,E||[])})},a.inherits=function(k,E){function C(){}C.prototype=E.prototype,k.prototype=new C},a.extend=function(){var k,E,C={};for(k=0;k<arguments.length;k++)for(E in arguments[k])Object.prototype.hasOwnProperty.call(arguments[k],E)&&C[E]===void 0&&(C[E]=arguments[k][E]);return C},a.prepareContent=function(k,E,C,j,D){return f.Promise.resolve(E).then(function(M){return s.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new f.Promise(function(F,L){var te=new FileReader;te.onload=function(se){F(se.target.result)},te.onerror=function(se){L(se.target.error)},te.readAsArrayBuffer(M)}):M}).then(function(M){var F=a.getTypeOf(M);return F?(F==="arraybuffer"?M=a.transformTo("uint8array",M):F==="string"&&(D?M=u.decode(M):C&&j!==!0&&(M=function(L){return y(L,s.uint8array?new Uint8Array(L.length):new Array(L.length))}(M))),M):f.Promise.reject(new Error("Can't read the data of '"+k+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,a){var s=r("./reader/readerFor"),u=r("./utils"),c=r("./signature"),f=r("./zipEntry"),h=r("./support");function y(_){this.files=[],this.loadOptions=_}y.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(w)+", expected "+u.pretty(_)+")")}},isSignature:function(_,w){var v=this.reader.index;this.reader.setIndex(_);var x=this.reader.readString(4)===w;return this.reader.setIndex(v),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),w=h.uint8array?"uint8array":"array",v=u.transformTo(w,_);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,w,v,x=this.zip64EndOfCentralSize-44;0<x;)_=this.reader.readInt(2),w=this.reader.readInt(4),v=this.reader.readData(w),this.zip64ExtensibleData[_]={id:_,length:w,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,w;for(_=0;_<this.files.length;_++)w=this.files[_],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(_=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var w=_;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var x=w-v;if(0<x)this.isSignature(w,c.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(_){this.reader=s(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,a){var s=r("./reader/readerFor"),u=r("./utils"),c=r("./compressedObject"),f=r("./crc32"),h=r("./utf8"),y=r("./compressions"),_=r("./support");function w(v,x){this.options=v,this.loadOptions=x}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var x,k;if(v.skip(22),this.fileNameLength=v.readInt(2),k=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(k),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(E){for(var C in y)if(Object.prototype.hasOwnProperty.call(y,C)&&y[C].magic===E)return y[C];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,x,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var x=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(x),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=s(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var x,k,E,C=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<C;)x=v.readInt(2),k=v.readInt(2),E=v.readData(k),this.extraFields[x]={id:x,length:k,value:E};v.setIndex(C)},handleUTF8:function(){var v=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var k=u.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(k)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var C=u.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var x=s(v.value);return x.readInt(1)!==1||f(this.fileName)!==x.readInt(4)?null:h.utf8decode(x.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var x=s(v.value);return x.readInt(1)!==1||f(this.fileComment)!==x.readInt(4)?null:h.utf8decode(x.readData(v.length-5))}return null}},o.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,a){function s(x,k,E){this.name=x,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=k,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var u=r("./stream/StreamHelper"),c=r("./stream/DataWorker"),f=r("./utf8"),h=r("./compressedObject"),y=r("./stream/GenericWorker");s.prototype={internalStream:function(x){var k=null,E="string";try{if(!x)throw new Error("No output type specified.");var C=(E=x.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),k=this._decompressWorker();var j=!this._dataBinary;j&&!C&&(k=k.pipe(new f.Utf8EncodeWorker)),!j&&C&&(k=k.pipe(new f.Utf8DecodeWorker))}catch(D){(k=new y("error")).error(D)}return new u(k,E,"")},async:function(x,k){return this.internalStream(x).accumulate(k)},nodeStream:function(x,k){return this.internalStream(x||"nodebuffer").toNodejsStream(k)},_compressWorker:function(x,k){if(this._data instanceof h&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new f.Utf8EncodeWorker)),h.createWorkerFrom(E,x,k)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof y?this._data:new c(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<_.length;v++)s.prototype[_[v]]=w;o.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,a){(function(s){var u,c,f=s.MutationObserver||s.WebKitMutationObserver;if(f){var h=0,y=new f(x),_=s.document.createTextNode("");y.observe(_,{characterData:!0}),u=function(){_.data=h=++h%2}}else if(s.setImmediate||s.MessageChannel===void 0)u="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var k=s.document.createElement("script");k.onreadystatechange=function(){x(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},s.document.documentElement.appendChild(k)}:function(){setTimeout(x,0)};else{var w=new s.MessageChannel;w.port1.onmessage=x,u=function(){w.port2.postMessage(0)}}var v=[];function x(){var k,E;c=!0;for(var C=v.length;C;){for(E=v,v=[],k=-1;++k<C;)E[k]();C=v.length}c=!1}o.exports=function(k){v.push(k)!==1||c||u()}}).call(this,typeof Xr<"u"?Xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,a){var s=r("immediate");function u(){}var c={},f=["REJECTED"],h=["FULFILLED"],y=["PENDING"];function _(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,C!==u&&k(this,C)}function w(C,j,D){this.promise=C,typeof j=="function"&&(this.onFulfilled=j,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function v(C,j,D){s(function(){var M;try{M=j(D)}catch(F){return c.reject(C,F)}M===C?c.reject(C,new TypeError("Cannot resolve promise with itself")):c.resolve(C,M)})}function x(C){var j=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof j=="function")return function(){j.apply(C,arguments)}}function k(C,j){var D=!1;function M(te){D||(D=!0,c.reject(C,te))}function F(te){D||(D=!0,c.resolve(C,te))}var L=E(function(){j(F,M)});L.status==="error"&&M(L.value)}function E(C,j){var D={};try{D.value=C(j),D.status="success"}catch(M){D.status="error",D.value=M}return D}(o.exports=_).prototype.finally=function(C){if(typeof C!="function")return this;var j=this.constructor;return this.then(function(D){return j.resolve(C()).then(function(){return D})},function(D){return j.resolve(C()).then(function(){throw D})})},_.prototype.catch=function(C){return this.then(null,C)},_.prototype.then=function(C,j){if(typeof C!="function"&&this.state===h||typeof j!="function"&&this.state===f)return this;var D=new this.constructor(u);return this.state!==y?v(D,this.state===h?C:j,this.outcome):this.queue.push(new w(D,C,j)),D},w.prototype.callFulfilled=function(C){c.resolve(this.promise,C)},w.prototype.otherCallFulfilled=function(C){v(this.promise,this.onFulfilled,C)},w.prototype.callRejected=function(C){c.reject(this.promise,C)},w.prototype.otherCallRejected=function(C){v(this.promise,this.onRejected,C)},c.resolve=function(C,j){var D=E(x,j);if(D.status==="error")return c.reject(C,D.value);var M=D.value;if(M)k(C,M);else{C.state=h,C.outcome=j;for(var F=-1,L=C.queue.length;++F<L;)C.queue[F].callFulfilled(j)}return C},c.reject=function(C,j){C.state=f,C.outcome=j;for(var D=-1,M=C.queue.length;++D<M;)C.queue[D].callRejected(j);return C},_.resolve=function(C){return C instanceof this?C:c.resolve(new this(u),C)},_.reject=function(C){var j=new this(u);return c.reject(j,C)},_.all=function(C){var j=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=C.length,M=!1;if(!D)return this.resolve([]);for(var F=new Array(D),L=0,te=-1,se=new this(u);++te<D;)Z(C[te],te);return se;function Z(de,Ce){j.resolve(de).then(function(K){F[Ce]=K,++L!==D||M||(M=!0,c.resolve(se,F))},function(K){M||(M=!0,c.reject(se,K))})}},_.race=function(C){var j=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=C.length,M=!1;if(!D)return this.resolve([]);for(var F=-1,L=new this(u);++F<D;)te=C[F],j.resolve(te).then(function(se){M||(M=!0,c.resolve(L,se))},function(se){M||(M=!0,c.reject(L,se))});var te;return L}},{immediate:36}],38:[function(r,o,a){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,a){var s=r("./zlib/deflate"),u=r("./utils/common"),c=r("./utils/strings"),f=r("./zlib/messages"),h=r("./zlib/zstream"),y=Object.prototype.toString,_=0,w=-1,v=0,x=8;function k(C){if(!(this instanceof k))return new k(C);this.options=u.assign({level:w,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},C||{});var j=this.options;j.raw&&0<j.windowBits?j.windowBits=-j.windowBits:j.gzip&&0<j.windowBits&&j.windowBits<16&&(j.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var D=s.deflateInit2(this.strm,j.level,j.method,j.windowBits,j.memLevel,j.strategy);if(D!==_)throw new Error(f[D]);if(j.header&&s.deflateSetHeader(this.strm,j.header),j.dictionary){var M;if(M=typeof j.dictionary=="string"?c.string2buf(j.dictionary):y.call(j.dictionary)==="[object ArrayBuffer]"?new Uint8Array(j.dictionary):j.dictionary,(D=s.deflateSetDictionary(this.strm,M))!==_)throw new Error(f[D]);this._dict_set=!0}}function E(C,j){var D=new k(j);if(D.push(C,!0),D.err)throw D.msg||f[D.err];return D.result}k.prototype.push=function(C,j){var D,M,F=this.strm,L=this.options.chunkSize;if(this.ended)return!1;M=j===~~j?j:j===!0?4:0,typeof C=="string"?F.input=c.string2buf(C):y.call(C)==="[object ArrayBuffer]"?F.input=new Uint8Array(C):F.input=C,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new u.Buf8(L),F.next_out=0,F.avail_out=L),(D=s.deflate(F,M))!==1&&D!==_)return this.onEnd(D),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(u.shrinkBuf(F.output,F.next_out))):this.onData(u.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&D!==1);return M===4?(D=s.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===_):M!==2||(this.onEnd(_),!(F.avail_out=0))},k.prototype.onData=function(C){this.chunks.push(C)},k.prototype.onEnd=function(C){C===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},a.Deflate=k,a.deflate=E,a.deflateRaw=function(C,j){return(j=j||{}).raw=!0,E(C,j)},a.gzip=function(C,j){return(j=j||{}).gzip=!0,E(C,j)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,a){var s=r("./zlib/inflate"),u=r("./utils/common"),c=r("./utils/strings"),f=r("./zlib/constants"),h=r("./zlib/messages"),y=r("./zlib/zstream"),_=r("./zlib/gzheader"),w=Object.prototype.toString;function v(k){if(!(this instanceof v))return new v(k);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},k||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||k&&k.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&!(15&E.windowBits)&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var C=s.inflateInit2(this.strm,E.windowBits);if(C!==f.Z_OK)throw new Error(h[C]);this.header=new _,s.inflateGetHeader(this.strm,this.header)}function x(k,E){var C=new v(E);if(C.push(k,!0),C.err)throw C.msg||h[C.err];return C.result}v.prototype.push=function(k,E){var C,j,D,M,F,L,te=this.strm,se=this.options.chunkSize,Z=this.options.dictionary,de=!1;if(this.ended)return!1;j=E===~~E?E:E===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof k=="string"?te.input=c.binstring2buf(k):w.call(k)==="[object ArrayBuffer]"?te.input=new Uint8Array(k):te.input=k,te.next_in=0,te.avail_in=te.input.length;do{if(te.avail_out===0&&(te.output=new u.Buf8(se),te.next_out=0,te.avail_out=se),(C=s.inflate(te,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&Z&&(L=typeof Z=="string"?c.string2buf(Z):w.call(Z)==="[object ArrayBuffer]"?new Uint8Array(Z):Z,C=s.inflateSetDictionary(this.strm,L)),C===f.Z_BUF_ERROR&&de===!0&&(C=f.Z_OK,de=!1),C!==f.Z_STREAM_END&&C!==f.Z_OK)return this.onEnd(C),!(this.ended=!0);te.next_out&&(te.avail_out!==0&&C!==f.Z_STREAM_END&&(te.avail_in!==0||j!==f.Z_FINISH&&j!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=c.utf8border(te.output,te.next_out),M=te.next_out-D,F=c.buf2string(te.output,D),te.next_out=M,te.avail_out=se-M,M&&u.arraySet(te.output,te.output,D,M,0),this.onData(F)):this.onData(u.shrinkBuf(te.output,te.next_out)))),te.avail_in===0&&te.avail_out===0&&(de=!0)}while((0<te.avail_in||te.avail_out===0)&&C!==f.Z_STREAM_END);return C===f.Z_STREAM_END&&(j=f.Z_FINISH),j===f.Z_FINISH?(C=s.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===f.Z_OK):j!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(te.avail_out=0))},v.prototype.onData=function(k){this.chunks.push(k)},v.prototype.onEnd=function(k){k===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},a.Inflate=v,a.inflate=x,a.inflateRaw=function(k,E){return(E=E||{}).raw=!0,x(k,E)},a.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(f){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var y=h.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var _ in y)y.hasOwnProperty(_)&&(f[_]=y[_])}}return f},a.shrinkBuf=function(f,h){return f.length===h?f:f.subarray?f.subarray(0,h):(f.length=h,f)};var u={arraySet:function(f,h,y,_,w){if(h.subarray&&f.subarray)f.set(h.subarray(y,y+_),w);else for(var v=0;v<_;v++)f[w+v]=h[y+v]},flattenChunks:function(f){var h,y,_,w,v,x;for(h=_=0,y=f.length;h<y;h++)_+=f[h].length;for(x=new Uint8Array(_),h=w=0,y=f.length;h<y;h++)v=f[h],x.set(v,w),w+=v.length;return x}},c={arraySet:function(f,h,y,_,w){for(var v=0;v<_;v++)f[w+v]=h[y+v]},flattenChunks:function(f){return[].concat.apply([],f)}};a.setTyped=function(f){f?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,u)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(s)},{}],42:[function(r,o,a){var s=r("./common"),u=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var f=new s.Buf8(256),h=0;h<256;h++)f[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function y(_,w){if(w<65537&&(_.subarray&&c||!_.subarray&&u))return String.fromCharCode.apply(null,s.shrinkBuf(_,w));for(var v="",x=0;x<w;x++)v+=String.fromCharCode(_[x]);return v}f[254]=f[254]=1,a.string2buf=function(_){var w,v,x,k,E,C=_.length,j=0;for(k=0;k<C;k++)(64512&(v=_.charCodeAt(k)))==55296&&k+1<C&&(64512&(x=_.charCodeAt(k+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),k++),j+=v<128?1:v<2048?2:v<65536?3:4;for(w=new s.Buf8(j),k=E=0;E<j;k++)(64512&(v=_.charCodeAt(k)))==55296&&k+1<C&&(64512&(x=_.charCodeAt(k+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),k++),v<128?w[E++]=v:(v<2048?w[E++]=192|v>>>6:(v<65536?w[E++]=224|v>>>12:(w[E++]=240|v>>>18,w[E++]=128|v>>>12&63),w[E++]=128|v>>>6&63),w[E++]=128|63&v);return w},a.buf2binstring=function(_){return y(_,_.length)},a.binstring2buf=function(_){for(var w=new s.Buf8(_.length),v=0,x=w.length;v<x;v++)w[v]=_.charCodeAt(v);return w},a.buf2string=function(_,w){var v,x,k,E,C=w||_.length,j=new Array(2*C);for(v=x=0;v<C;)if((k=_[v++])<128)j[x++]=k;else if(4<(E=f[k]))j[x++]=65533,v+=E-1;else{for(k&=E===2?31:E===3?15:7;1<E&&v<C;)k=k<<6|63&_[v++],E--;1<E?j[x++]=65533:k<65536?j[x++]=k:(k-=65536,j[x++]=55296|k>>10&1023,j[x++]=56320|1023&k)}return y(j,x)},a.utf8border=function(_,w){var v;for((w=w||_.length)>_.length&&(w=_.length),v=w-1;0<=v&&(192&_[v])==128;)v--;return v<0||v===0?w:v+f[_[v]]>w?v:w}},{"./common":41}],43:[function(r,o,a){o.exports=function(s,u,c,f){for(var h=65535&s|0,y=s>>>16&65535|0,_=0;c!==0;){for(c-=_=2e3<c?2e3:c;y=y+(h=h+u[f++]|0)|0,--_;);h%=65521,y%=65521}return h|y<<16|0}},{}],44:[function(r,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,a){var s=function(){for(var u,c=[],f=0;f<256;f++){u=f;for(var h=0;h<8;h++)u=1&u?3988292384^u>>>1:u>>>1;c[f]=u}return c}();o.exports=function(u,c,f,h){var y=s,_=h+f;u^=-1;for(var w=h;w<_;w++)u=u>>>8^y[255&(u^c[w])];return-1^u}},{}],46:[function(r,o,a){var s,u=r("../utils/common"),c=r("./trees"),f=r("./adler32"),h=r("./crc32"),y=r("./messages"),_=0,w=4,v=0,x=-2,k=-1,E=4,C=2,j=8,D=9,M=286,F=30,L=19,te=2*M+1,se=15,Z=3,de=258,Ce=de+Z+1,K=42,fe=113,z=1,be=2,Je=3,le=4;function ae(R,Ne){return R.msg=y[Ne],Ne}function _e(R){return(R<<1)-(4<R?9:0)}function Ke(R){for(var Ne=R.length;0<=--Ne;)R[Ne]=0}function W(R){var Ne=R.state,Be=Ne.pending;Be>R.avail_out&&(Be=R.avail_out),Be!==0&&(u.arraySet(R.output,Ne.pending_buf,Ne.pending_out,Be,R.next_out),R.next_out+=Be,Ne.pending_out+=Be,R.total_out+=Be,R.avail_out-=Be,Ne.pending-=Be,Ne.pending===0&&(Ne.pending_out=0))}function X(R,Ne){c._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,Ne),R.block_start=R.strstart,W(R.strm)}function Ie(R,Ne){R.pending_buf[R.pending++]=Ne}function Ae(R,Ne){R.pending_buf[R.pending++]=Ne>>>8&255,R.pending_buf[R.pending++]=255&Ne}function ze(R,Ne){var Be,ee,J=R.max_chain_length,xe=R.strstart,We=R.prev_length,Ge=R.nice_match,Oe=R.strstart>R.w_size-Ce?R.strstart-(R.w_size-Ce):0,et=R.window,$e=R.w_mask,Xe=R.prev,Dt=R.strstart+de,cr=et[xe+We-1],qt=et[xe+We];R.prev_length>=R.good_match&&(J>>=2),Ge>R.lookahead&&(Ge=R.lookahead);do if(et[(Be=Ne)+We]===qt&&et[Be+We-1]===cr&&et[Be]===et[xe]&&et[++Be]===et[xe+1]){xe+=2,Be++;do;while(et[++xe]===et[++Be]&&et[++xe]===et[++Be]&&et[++xe]===et[++Be]&&et[++xe]===et[++Be]&&et[++xe]===et[++Be]&&et[++xe]===et[++Be]&&et[++xe]===et[++Be]&&et[++xe]===et[++Be]&&xe<Dt);if(ee=de-(Dt-xe),xe=Dt-de,We<ee){if(R.match_start=Ne,Ge<=(We=ee))break;cr=et[xe+We-1],qt=et[xe+We]}}while((Ne=Xe[Ne&$e])>Oe&&--J!=0);return We<=R.lookahead?We:R.lookahead}function ke(R){var Ne,Be,ee,J,xe,We,Ge,Oe,et,$e,Xe=R.w_size;do{if(J=R.window_size-R.lookahead-R.strstart,R.strstart>=Xe+(Xe-Ce)){for(u.arraySet(R.window,R.window,Xe,Xe,0),R.match_start-=Xe,R.strstart-=Xe,R.block_start-=Xe,Ne=Be=R.hash_size;ee=R.head[--Ne],R.head[Ne]=Xe<=ee?ee-Xe:0,--Be;);for(Ne=Be=Xe;ee=R.prev[--Ne],R.prev[Ne]=Xe<=ee?ee-Xe:0,--Be;);J+=Xe}if(R.strm.avail_in===0)break;if(We=R.strm,Ge=R.window,Oe=R.strstart+R.lookahead,et=J,$e=void 0,$e=We.avail_in,et<$e&&($e=et),Be=$e===0?0:(We.avail_in-=$e,u.arraySet(Ge,We.input,We.next_in,$e,Oe),We.state.wrap===1?We.adler=f(We.adler,Ge,$e,Oe):We.state.wrap===2&&(We.adler=h(We.adler,Ge,$e,Oe)),We.next_in+=$e,We.total_in+=$e,$e),R.lookahead+=Be,R.lookahead+R.insert>=Z)for(xe=R.strstart-R.insert,R.ins_h=R.window[xe],R.ins_h=(R.ins_h<<R.hash_shift^R.window[xe+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[xe+Z-1])&R.hash_mask,R.prev[xe&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=xe,xe++,R.insert--,!(R.lookahead+R.insert<Z)););}while(R.lookahead<Ce&&R.strm.avail_in!==0)}function yt(R,Ne){for(var Be,ee;;){if(R.lookahead<Ce){if(ke(R),R.lookahead<Ce&&Ne===_)return z;if(R.lookahead===0)break}if(Be=0,R.lookahead>=Z&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+Z-1])&R.hash_mask,Be=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),Be!==0&&R.strstart-Be<=R.w_size-Ce&&(R.match_length=ze(R,Be)),R.match_length>=Z)if(ee=c._tr_tally(R,R.strstart-R.match_start,R.match_length-Z),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=Z){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+Z-1])&R.hash_mask,Be=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else ee=c._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(ee&&(X(R,!1),R.strm.avail_out===0))return z}return R.insert=R.strstart<Z-1?R.strstart:Z-1,Ne===w?(X(R,!0),R.strm.avail_out===0?Je:le):R.last_lit&&(X(R,!1),R.strm.avail_out===0)?z:be}function He(R,Ne){for(var Be,ee,J;;){if(R.lookahead<Ce){if(ke(R),R.lookahead<Ce&&Ne===_)return z;if(R.lookahead===0)break}if(Be=0,R.lookahead>=Z&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+Z-1])&R.hash_mask,Be=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=Z-1,Be!==0&&R.prev_length<R.max_lazy_match&&R.strstart-Be<=R.w_size-Ce&&(R.match_length=ze(R,Be),R.match_length<=5&&(R.strategy===1||R.match_length===Z&&4096<R.strstart-R.match_start)&&(R.match_length=Z-1)),R.prev_length>=Z&&R.match_length<=R.prev_length){for(J=R.strstart+R.lookahead-Z,ee=c._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-Z),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=J&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+Z-1])&R.hash_mask,Be=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=Z-1,R.strstart++,ee&&(X(R,!1),R.strm.avail_out===0))return z}else if(R.match_available){if((ee=c._tr_tally(R,0,R.window[R.strstart-1]))&&X(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return z}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(ee=c._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<Z-1?R.strstart:Z-1,Ne===w?(X(R,!0),R.strm.avail_out===0?Je:le):R.last_lit&&(X(R,!1),R.strm.avail_out===0)?z:be}function gt(R,Ne,Be,ee,J){this.good_length=R,this.max_lazy=Ne,this.nice_length=Be,this.max_chain=ee,this.func=J}function It(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=j,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*te),this.dyn_dtree=new u.Buf16(2*(2*F+1)),this.bl_tree=new u.Buf16(2*(2*L+1)),Ke(this.dyn_ltree),Ke(this.dyn_dtree),Ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(se+1),this.heap=new u.Buf16(2*M+1),Ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*M+1),Ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Rt(R){var Ne;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=C,(Ne=R.state).pending=0,Ne.pending_out=0,Ne.wrap<0&&(Ne.wrap=-Ne.wrap),Ne.status=Ne.wrap?K:fe,R.adler=Ne.wrap===2?0:1,Ne.last_flush=_,c._tr_init(Ne),v):ae(R,x)}function zt(R){var Ne=Rt(R);return Ne===v&&function(Be){Be.window_size=2*Be.w_size,Ke(Be.head),Be.max_lazy_match=s[Be.level].max_lazy,Be.good_match=s[Be.level].good_length,Be.nice_match=s[Be.level].nice_length,Be.max_chain_length=s[Be.level].max_chain,Be.strstart=0,Be.block_start=0,Be.lookahead=0,Be.insert=0,Be.match_length=Be.prev_length=Z-1,Be.match_available=0,Be.ins_h=0}(R.state),Ne}function pr(R,Ne,Be,ee,J,xe){if(!R)return x;var We=1;if(Ne===k&&(Ne=6),ee<0?(We=0,ee=-ee):15<ee&&(We=2,ee-=16),J<1||D<J||Be!==j||ee<8||15<ee||Ne<0||9<Ne||xe<0||E<xe)return ae(R,x);ee===8&&(ee=9);var Ge=new It;return(R.state=Ge).strm=R,Ge.wrap=We,Ge.gzhead=null,Ge.w_bits=ee,Ge.w_size=1<<Ge.w_bits,Ge.w_mask=Ge.w_size-1,Ge.hash_bits=J+7,Ge.hash_size=1<<Ge.hash_bits,Ge.hash_mask=Ge.hash_size-1,Ge.hash_shift=~~((Ge.hash_bits+Z-1)/Z),Ge.window=new u.Buf8(2*Ge.w_size),Ge.head=new u.Buf16(Ge.hash_size),Ge.prev=new u.Buf16(Ge.w_size),Ge.lit_bufsize=1<<J+6,Ge.pending_buf_size=4*Ge.lit_bufsize,Ge.pending_buf=new u.Buf8(Ge.pending_buf_size),Ge.d_buf=1*Ge.lit_bufsize,Ge.l_buf=3*Ge.lit_bufsize,Ge.level=Ne,Ge.strategy=xe,Ge.method=Be,zt(R)}s=[new gt(0,0,0,0,function(R,Ne){var Be=65535;for(Be>R.pending_buf_size-5&&(Be=R.pending_buf_size-5);;){if(R.lookahead<=1){if(ke(R),R.lookahead===0&&Ne===_)return z;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var ee=R.block_start+Be;if((R.strstart===0||R.strstart>=ee)&&(R.lookahead=R.strstart-ee,R.strstart=ee,X(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-Ce&&(X(R,!1),R.strm.avail_out===0))return z}return R.insert=0,Ne===w?(X(R,!0),R.strm.avail_out===0?Je:le):(R.strstart>R.block_start&&(X(R,!1),R.strm.avail_out),z)}),new gt(4,4,8,4,yt),new gt(4,5,16,8,yt),new gt(4,6,32,32,yt),new gt(4,4,16,16,He),new gt(8,16,32,32,He),new gt(8,16,128,128,He),new gt(8,32,128,256,He),new gt(32,128,258,1024,He),new gt(32,258,258,4096,He)],a.deflateInit=function(R,Ne){return pr(R,Ne,j,15,8,0)},a.deflateInit2=pr,a.deflateReset=zt,a.deflateResetKeep=Rt,a.deflateSetHeader=function(R,Ne){return R&&R.state?R.state.wrap!==2?x:(R.state.gzhead=Ne,v):x},a.deflate=function(R,Ne){var Be,ee,J,xe;if(!R||!R.state||5<Ne||Ne<0)return R?ae(R,x):x;if(ee=R.state,!R.output||!R.input&&R.avail_in!==0||ee.status===666&&Ne!==w)return ae(R,R.avail_out===0?-5:x);if(ee.strm=R,Be=ee.last_flush,ee.last_flush=Ne,ee.status===K)if(ee.wrap===2)R.adler=0,Ie(ee,31),Ie(ee,139),Ie(ee,8),ee.gzhead?(Ie(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),Ie(ee,255&ee.gzhead.time),Ie(ee,ee.gzhead.time>>8&255),Ie(ee,ee.gzhead.time>>16&255),Ie(ee,ee.gzhead.time>>24&255),Ie(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),Ie(ee,255&ee.gzhead.os),ee.gzhead.extra&&ee.gzhead.extra.length&&(Ie(ee,255&ee.gzhead.extra.length),Ie(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(R.adler=h(R.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=69):(Ie(ee,0),Ie(ee,0),Ie(ee,0),Ie(ee,0),Ie(ee,0),Ie(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),Ie(ee,3),ee.status=fe);else{var We=j+(ee.w_bits-8<<4)<<8;We|=(2<=ee.strategy||ee.level<2?0:ee.level<6?1:ee.level===6?2:3)<<6,ee.strstart!==0&&(We|=32),We+=31-We%31,ee.status=fe,Ae(ee,We),ee.strstart!==0&&(Ae(ee,R.adler>>>16),Ae(ee,65535&R.adler)),R.adler=1}if(ee.status===69)if(ee.gzhead.extra){for(J=ee.pending;ee.gzindex<(65535&ee.gzhead.extra.length)&&(ee.pending!==ee.pending_buf_size||(ee.gzhead.hcrc&&ee.pending>J&&(R.adler=h(R.adler,ee.pending_buf,ee.pending-J,J)),W(R),J=ee.pending,ee.pending!==ee.pending_buf_size));)Ie(ee,255&ee.gzhead.extra[ee.gzindex]),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>J&&(R.adler=h(R.adler,ee.pending_buf,ee.pending-J,J)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=73)}else ee.status=73;if(ee.status===73)if(ee.gzhead.name){J=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>J&&(R.adler=h(R.adler,ee.pending_buf,ee.pending-J,J)),W(R),J=ee.pending,ee.pending===ee.pending_buf_size)){xe=1;break}xe=ee.gzindex<ee.gzhead.name.length?255&ee.gzhead.name.charCodeAt(ee.gzindex++):0,Ie(ee,xe)}while(xe!==0);ee.gzhead.hcrc&&ee.pending>J&&(R.adler=h(R.adler,ee.pending_buf,ee.pending-J,J)),xe===0&&(ee.gzindex=0,ee.status=91)}else ee.status=91;if(ee.status===91)if(ee.gzhead.comment){J=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>J&&(R.adler=h(R.adler,ee.pending_buf,ee.pending-J,J)),W(R),J=ee.pending,ee.pending===ee.pending_buf_size)){xe=1;break}xe=ee.gzindex<ee.gzhead.comment.length?255&ee.gzhead.comment.charCodeAt(ee.gzindex++):0,Ie(ee,xe)}while(xe!==0);ee.gzhead.hcrc&&ee.pending>J&&(R.adler=h(R.adler,ee.pending_buf,ee.pending-J,J)),xe===0&&(ee.status=103)}else ee.status=103;if(ee.status===103&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&W(R),ee.pending+2<=ee.pending_buf_size&&(Ie(ee,255&R.adler),Ie(ee,R.adler>>8&255),R.adler=0,ee.status=fe)):ee.status=fe),ee.pending!==0){if(W(R),R.avail_out===0)return ee.last_flush=-1,v}else if(R.avail_in===0&&_e(Ne)<=_e(Be)&&Ne!==w)return ae(R,-5);if(ee.status===666&&R.avail_in!==0)return ae(R,-5);if(R.avail_in!==0||ee.lookahead!==0||Ne!==_&&ee.status!==666){var Ge=ee.strategy===2?function(Oe,et){for(var $e;;){if(Oe.lookahead===0&&(ke(Oe),Oe.lookahead===0)){if(et===_)return z;break}if(Oe.match_length=0,$e=c._tr_tally(Oe,0,Oe.window[Oe.strstart]),Oe.lookahead--,Oe.strstart++,$e&&(X(Oe,!1),Oe.strm.avail_out===0))return z}return Oe.insert=0,et===w?(X(Oe,!0),Oe.strm.avail_out===0?Je:le):Oe.last_lit&&(X(Oe,!1),Oe.strm.avail_out===0)?z:be}(ee,Ne):ee.strategy===3?function(Oe,et){for(var $e,Xe,Dt,cr,qt=Oe.window;;){if(Oe.lookahead<=de){if(ke(Oe),Oe.lookahead<=de&&et===_)return z;if(Oe.lookahead===0)break}if(Oe.match_length=0,Oe.lookahead>=Z&&0<Oe.strstart&&(Xe=qt[Dt=Oe.strstart-1])===qt[++Dt]&&Xe===qt[++Dt]&&Xe===qt[++Dt]){cr=Oe.strstart+de;do;while(Xe===qt[++Dt]&&Xe===qt[++Dt]&&Xe===qt[++Dt]&&Xe===qt[++Dt]&&Xe===qt[++Dt]&&Xe===qt[++Dt]&&Xe===qt[++Dt]&&Xe===qt[++Dt]&&Dt<cr);Oe.match_length=de-(cr-Dt),Oe.match_length>Oe.lookahead&&(Oe.match_length=Oe.lookahead)}if(Oe.match_length>=Z?($e=c._tr_tally(Oe,1,Oe.match_length-Z),Oe.lookahead-=Oe.match_length,Oe.strstart+=Oe.match_length,Oe.match_length=0):($e=c._tr_tally(Oe,0,Oe.window[Oe.strstart]),Oe.lookahead--,Oe.strstart++),$e&&(X(Oe,!1),Oe.strm.avail_out===0))return z}return Oe.insert=0,et===w?(X(Oe,!0),Oe.strm.avail_out===0?Je:le):Oe.last_lit&&(X(Oe,!1),Oe.strm.avail_out===0)?z:be}(ee,Ne):s[ee.level].func(ee,Ne);if(Ge!==Je&&Ge!==le||(ee.status=666),Ge===z||Ge===Je)return R.avail_out===0&&(ee.last_flush=-1),v;if(Ge===be&&(Ne===1?c._tr_align(ee):Ne!==5&&(c._tr_stored_block(ee,0,0,!1),Ne===3&&(Ke(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),W(R),R.avail_out===0))return ee.last_flush=-1,v}return Ne!==w?v:ee.wrap<=0?1:(ee.wrap===2?(Ie(ee,255&R.adler),Ie(ee,R.adler>>8&255),Ie(ee,R.adler>>16&255),Ie(ee,R.adler>>24&255),Ie(ee,255&R.total_in),Ie(ee,R.total_in>>8&255),Ie(ee,R.total_in>>16&255),Ie(ee,R.total_in>>24&255)):(Ae(ee,R.adler>>>16),Ae(ee,65535&R.adler)),W(R),0<ee.wrap&&(ee.wrap=-ee.wrap),ee.pending!==0?v:1)},a.deflateEnd=function(R){var Ne;return R&&R.state?(Ne=R.state.status)!==K&&Ne!==69&&Ne!==73&&Ne!==91&&Ne!==103&&Ne!==fe&&Ne!==666?ae(R,x):(R.state=null,Ne===fe?ae(R,-3):v):x},a.deflateSetDictionary=function(R,Ne){var Be,ee,J,xe,We,Ge,Oe,et,$e=Ne.length;if(!R||!R.state||(xe=(Be=R.state).wrap)===2||xe===1&&Be.status!==K||Be.lookahead)return x;for(xe===1&&(R.adler=f(R.adler,Ne,$e,0)),Be.wrap=0,$e>=Be.w_size&&(xe===0&&(Ke(Be.head),Be.strstart=0,Be.block_start=0,Be.insert=0),et=new u.Buf8(Be.w_size),u.arraySet(et,Ne,$e-Be.w_size,Be.w_size,0),Ne=et,$e=Be.w_size),We=R.avail_in,Ge=R.next_in,Oe=R.input,R.avail_in=$e,R.next_in=0,R.input=Ne,ke(Be);Be.lookahead>=Z;){for(ee=Be.strstart,J=Be.lookahead-(Z-1);Be.ins_h=(Be.ins_h<<Be.hash_shift^Be.window[ee+Z-1])&Be.hash_mask,Be.prev[ee&Be.w_mask]=Be.head[Be.ins_h],Be.head[Be.ins_h]=ee,ee++,--J;);Be.strstart=ee,Be.lookahead=Z-1,ke(Be)}return Be.strstart+=Be.lookahead,Be.block_start=Be.strstart,Be.insert=Be.lookahead,Be.lookahead=0,Be.match_length=Be.prev_length=Z-1,Be.match_available=0,R.next_in=Ge,R.input=Oe,R.avail_in=We,Be.wrap=xe,v},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,a){o.exports=function(s,u){var c,f,h,y,_,w,v,x,k,E,C,j,D,M,F,L,te,se,Z,de,Ce,K,fe,z,be;c=s.state,f=s.next_in,z=s.input,h=f+(s.avail_in-5),y=s.next_out,be=s.output,_=y-(u-s.avail_out),w=y+(s.avail_out-257),v=c.dmax,x=c.wsize,k=c.whave,E=c.wnext,C=c.window,j=c.hold,D=c.bits,M=c.lencode,F=c.distcode,L=(1<<c.lenbits)-1,te=(1<<c.distbits)-1;e:do{D<15&&(j+=z[f++]<<D,D+=8,j+=z[f++]<<D,D+=8),se=M[j&L];t:for(;;){if(j>>>=Z=se>>>24,D-=Z,(Z=se>>>16&255)===0)be[y++]=65535&se;else{if(!(16&Z)){if(!(64&Z)){se=M[(65535&se)+(j&(1<<Z)-1)];continue t}if(32&Z){c.mode=12;break e}s.msg="invalid literal/length code",c.mode=30;break e}de=65535&se,(Z&=15)&&(D<Z&&(j+=z[f++]<<D,D+=8),de+=j&(1<<Z)-1,j>>>=Z,D-=Z),D<15&&(j+=z[f++]<<D,D+=8,j+=z[f++]<<D,D+=8),se=F[j&te];r:for(;;){if(j>>>=Z=se>>>24,D-=Z,!(16&(Z=se>>>16&255))){if(!(64&Z)){se=F[(65535&se)+(j&(1<<Z)-1)];continue r}s.msg="invalid distance code",c.mode=30;break e}if(Ce=65535&se,D<(Z&=15)&&(j+=z[f++]<<D,(D+=8)<Z&&(j+=z[f++]<<D,D+=8)),v<(Ce+=j&(1<<Z)-1)){s.msg="invalid distance too far back",c.mode=30;break e}if(j>>>=Z,D-=Z,(Z=y-_)<Ce){if(k<(Z=Ce-Z)&&c.sane){s.msg="invalid distance too far back",c.mode=30;break e}if(fe=C,(K=0)===E){if(K+=x-Z,Z<de){for(de-=Z;be[y++]=C[K++],--Z;);K=y-Ce,fe=be}}else if(E<Z){if(K+=x+E-Z,(Z-=E)<de){for(de-=Z;be[y++]=C[K++],--Z;);if(K=0,E<de){for(de-=Z=E;be[y++]=C[K++],--Z;);K=y-Ce,fe=be}}}else if(K+=E-Z,Z<de){for(de-=Z;be[y++]=C[K++],--Z;);K=y-Ce,fe=be}for(;2<de;)be[y++]=fe[K++],be[y++]=fe[K++],be[y++]=fe[K++],de-=3;de&&(be[y++]=fe[K++],1<de&&(be[y++]=fe[K++]))}else{for(K=y-Ce;be[y++]=be[K++],be[y++]=be[K++],be[y++]=be[K++],2<(de-=3););de&&(be[y++]=be[K++],1<de&&(be[y++]=be[K++]))}break}}break}}while(f<h&&y<w);f-=de=D>>3,j&=(1<<(D-=de<<3))-1,s.next_in=f,s.next_out=y,s.avail_in=f<h?h-f+5:5-(f-h),s.avail_out=y<w?w-y+257:257-(y-w),c.hold=j,c.bits=D}},{}],49:[function(r,o,a){var s=r("../utils/common"),u=r("./adler32"),c=r("./crc32"),f=r("./inffast"),h=r("./inftrees"),y=1,_=2,w=0,v=-2,x=1,k=852,E=592;function C(K){return(K>>>24&255)+(K>>>8&65280)+((65280&K)<<8)+((255&K)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(K){var fe;return K&&K.state?(fe=K.state,K.total_in=K.total_out=fe.total=0,K.msg="",fe.wrap&&(K.adler=1&fe.wrap),fe.mode=x,fe.last=0,fe.havedict=0,fe.dmax=32768,fe.head=null,fe.hold=0,fe.bits=0,fe.lencode=fe.lendyn=new s.Buf32(k),fe.distcode=fe.distdyn=new s.Buf32(E),fe.sane=1,fe.back=-1,w):v}function M(K){var fe;return K&&K.state?((fe=K.state).wsize=0,fe.whave=0,fe.wnext=0,D(K)):v}function F(K,fe){var z,be;return K&&K.state?(be=K.state,fe<0?(z=0,fe=-fe):(z=1+(fe>>4),fe<48&&(fe&=15)),fe&&(fe<8||15<fe)?v:(be.window!==null&&be.wbits!==fe&&(be.window=null),be.wrap=z,be.wbits=fe,M(K))):v}function L(K,fe){var z,be;return K?(be=new j,(K.state=be).window=null,(z=F(K,fe))!==w&&(K.state=null),z):v}var te,se,Z=!0;function de(K){if(Z){var fe;for(te=new s.Buf32(512),se=new s.Buf32(32),fe=0;fe<144;)K.lens[fe++]=8;for(;fe<256;)K.lens[fe++]=9;for(;fe<280;)K.lens[fe++]=7;for(;fe<288;)K.lens[fe++]=8;for(h(y,K.lens,0,288,te,0,K.work,{bits:9}),fe=0;fe<32;)K.lens[fe++]=5;h(_,K.lens,0,32,se,0,K.work,{bits:5}),Z=!1}K.lencode=te,K.lenbits=9,K.distcode=se,K.distbits=5}function Ce(K,fe,z,be){var Je,le=K.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new s.Buf8(le.wsize)),be>=le.wsize?(s.arraySet(le.window,fe,z-le.wsize,le.wsize,0),le.wnext=0,le.whave=le.wsize):(be<(Je=le.wsize-le.wnext)&&(Je=be),s.arraySet(le.window,fe,z-be,Je,le.wnext),(be-=Je)?(s.arraySet(le.window,fe,z-be,be,0),le.wnext=be,le.whave=le.wsize):(le.wnext+=Je,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=Je))),0}a.inflateReset=M,a.inflateReset2=F,a.inflateResetKeep=D,a.inflateInit=function(K){return L(K,15)},a.inflateInit2=L,a.inflate=function(K,fe){var z,be,Je,le,ae,_e,Ke,W,X,Ie,Ae,ze,ke,yt,He,gt,It,Rt,zt,pr,R,Ne,Be,ee,J=0,xe=new s.Buf8(4),We=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!K||!K.state||!K.output||!K.input&&K.avail_in!==0)return v;(z=K.state).mode===12&&(z.mode=13),ae=K.next_out,Je=K.output,Ke=K.avail_out,le=K.next_in,be=K.input,_e=K.avail_in,W=z.hold,X=z.bits,Ie=_e,Ae=Ke,Ne=w;e:for(;;)switch(z.mode){case x:if(z.wrap===0){z.mode=13;break}for(;X<16;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}if(2&z.wrap&&W===35615){xe[z.check=0]=255&W,xe[1]=W>>>8&255,z.check=c(z.check,xe,2,0),X=W=0,z.mode=2;break}if(z.flags=0,z.head&&(z.head.done=!1),!(1&z.wrap)||(((255&W)<<8)+(W>>8))%31){K.msg="incorrect header check",z.mode=30;break}if((15&W)!=8){K.msg="unknown compression method",z.mode=30;break}if(X-=4,R=8+(15&(W>>>=4)),z.wbits===0)z.wbits=R;else if(R>z.wbits){K.msg="invalid window size",z.mode=30;break}z.dmax=1<<R,K.adler=z.check=1,z.mode=512&W?10:12,X=W=0;break;case 2:for(;X<16;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}if(z.flags=W,(255&z.flags)!=8){K.msg="unknown compression method",z.mode=30;break}if(57344&z.flags){K.msg="unknown header flags set",z.mode=30;break}z.head&&(z.head.text=W>>8&1),512&z.flags&&(xe[0]=255&W,xe[1]=W>>>8&255,z.check=c(z.check,xe,2,0)),X=W=0,z.mode=3;case 3:for(;X<32;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}z.head&&(z.head.time=W),512&z.flags&&(xe[0]=255&W,xe[1]=W>>>8&255,xe[2]=W>>>16&255,xe[3]=W>>>24&255,z.check=c(z.check,xe,4,0)),X=W=0,z.mode=4;case 4:for(;X<16;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}z.head&&(z.head.xflags=255&W,z.head.os=W>>8),512&z.flags&&(xe[0]=255&W,xe[1]=W>>>8&255,z.check=c(z.check,xe,2,0)),X=W=0,z.mode=5;case 5:if(1024&z.flags){for(;X<16;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}z.length=W,z.head&&(z.head.extra_len=W),512&z.flags&&(xe[0]=255&W,xe[1]=W>>>8&255,z.check=c(z.check,xe,2,0)),X=W=0}else z.head&&(z.head.extra=null);z.mode=6;case 6:if(1024&z.flags&&(_e<(ze=z.length)&&(ze=_e),ze&&(z.head&&(R=z.head.extra_len-z.length,z.head.extra||(z.head.extra=new Array(z.head.extra_len)),s.arraySet(z.head.extra,be,le,ze,R)),512&z.flags&&(z.check=c(z.check,be,ze,le)),_e-=ze,le+=ze,z.length-=ze),z.length))break e;z.length=0,z.mode=7;case 7:if(2048&z.flags){if(_e===0)break e;for(ze=0;R=be[le+ze++],z.head&&R&&z.length<65536&&(z.head.name+=String.fromCharCode(R)),R&&ze<_e;);if(512&z.flags&&(z.check=c(z.check,be,ze,le)),_e-=ze,le+=ze,R)break e}else z.head&&(z.head.name=null);z.length=0,z.mode=8;case 8:if(4096&z.flags){if(_e===0)break e;for(ze=0;R=be[le+ze++],z.head&&R&&z.length<65536&&(z.head.comment+=String.fromCharCode(R)),R&&ze<_e;);if(512&z.flags&&(z.check=c(z.check,be,ze,le)),_e-=ze,le+=ze,R)break e}else z.head&&(z.head.comment=null);z.mode=9;case 9:if(512&z.flags){for(;X<16;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}if(W!==(65535&z.check)){K.msg="header crc mismatch",z.mode=30;break}X=W=0}z.head&&(z.head.hcrc=z.flags>>9&1,z.head.done=!0),K.adler=z.check=0,z.mode=12;break;case 10:for(;X<32;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}K.adler=z.check=C(W),X=W=0,z.mode=11;case 11:if(z.havedict===0)return K.next_out=ae,K.avail_out=Ke,K.next_in=le,K.avail_in=_e,z.hold=W,z.bits=X,2;K.adler=z.check=1,z.mode=12;case 12:if(fe===5||fe===6)break e;case 13:if(z.last){W>>>=7&X,X-=7&X,z.mode=27;break}for(;X<3;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}switch(z.last=1&W,X-=1,3&(W>>>=1)){case 0:z.mode=14;break;case 1:if(de(z),z.mode=20,fe!==6)break;W>>>=2,X-=2;break e;case 2:z.mode=17;break;case 3:K.msg="invalid block type",z.mode=30}W>>>=2,X-=2;break;case 14:for(W>>>=7&X,X-=7&X;X<32;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}if((65535&W)!=(W>>>16^65535)){K.msg="invalid stored block lengths",z.mode=30;break}if(z.length=65535&W,X=W=0,z.mode=15,fe===6)break e;case 15:z.mode=16;case 16:if(ze=z.length){if(_e<ze&&(ze=_e),Ke<ze&&(ze=Ke),ze===0)break e;s.arraySet(Je,be,le,ze,ae),_e-=ze,le+=ze,Ke-=ze,ae+=ze,z.length-=ze;break}z.mode=12;break;case 17:for(;X<14;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}if(z.nlen=257+(31&W),W>>>=5,X-=5,z.ndist=1+(31&W),W>>>=5,X-=5,z.ncode=4+(15&W),W>>>=4,X-=4,286<z.nlen||30<z.ndist){K.msg="too many length or distance symbols",z.mode=30;break}z.have=0,z.mode=18;case 18:for(;z.have<z.ncode;){for(;X<3;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}z.lens[We[z.have++]]=7&W,W>>>=3,X-=3}for(;z.have<19;)z.lens[We[z.have++]]=0;if(z.lencode=z.lendyn,z.lenbits=7,Be={bits:z.lenbits},Ne=h(0,z.lens,0,19,z.lencode,0,z.work,Be),z.lenbits=Be.bits,Ne){K.msg="invalid code lengths set",z.mode=30;break}z.have=0,z.mode=19;case 19:for(;z.have<z.nlen+z.ndist;){for(;gt=(J=z.lencode[W&(1<<z.lenbits)-1])>>>16&255,It=65535&J,!((He=J>>>24)<=X);){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}if(It<16)W>>>=He,X-=He,z.lens[z.have++]=It;else{if(It===16){for(ee=He+2;X<ee;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}if(W>>>=He,X-=He,z.have===0){K.msg="invalid bit length repeat",z.mode=30;break}R=z.lens[z.have-1],ze=3+(3&W),W>>>=2,X-=2}else if(It===17){for(ee=He+3;X<ee;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}X-=He,R=0,ze=3+(7&(W>>>=He)),W>>>=3,X-=3}else{for(ee=He+7;X<ee;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}X-=He,R=0,ze=11+(127&(W>>>=He)),W>>>=7,X-=7}if(z.have+ze>z.nlen+z.ndist){K.msg="invalid bit length repeat",z.mode=30;break}for(;ze--;)z.lens[z.have++]=R}}if(z.mode===30)break;if(z.lens[256]===0){K.msg="invalid code -- missing end-of-block",z.mode=30;break}if(z.lenbits=9,Be={bits:z.lenbits},Ne=h(y,z.lens,0,z.nlen,z.lencode,0,z.work,Be),z.lenbits=Be.bits,Ne){K.msg="invalid literal/lengths set",z.mode=30;break}if(z.distbits=6,z.distcode=z.distdyn,Be={bits:z.distbits},Ne=h(_,z.lens,z.nlen,z.ndist,z.distcode,0,z.work,Be),z.distbits=Be.bits,Ne){K.msg="invalid distances set",z.mode=30;break}if(z.mode=20,fe===6)break e;case 20:z.mode=21;case 21:if(6<=_e&&258<=Ke){K.next_out=ae,K.avail_out=Ke,K.next_in=le,K.avail_in=_e,z.hold=W,z.bits=X,f(K,Ae),ae=K.next_out,Je=K.output,Ke=K.avail_out,le=K.next_in,be=K.input,_e=K.avail_in,W=z.hold,X=z.bits,z.mode===12&&(z.back=-1);break}for(z.back=0;gt=(J=z.lencode[W&(1<<z.lenbits)-1])>>>16&255,It=65535&J,!((He=J>>>24)<=X);){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}if(gt&&!(240&gt)){for(Rt=He,zt=gt,pr=It;gt=(J=z.lencode[pr+((W&(1<<Rt+zt)-1)>>Rt)])>>>16&255,It=65535&J,!(Rt+(He=J>>>24)<=X);){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}W>>>=Rt,X-=Rt,z.back+=Rt}if(W>>>=He,X-=He,z.back+=He,z.length=It,gt===0){z.mode=26;break}if(32&gt){z.back=-1,z.mode=12;break}if(64&gt){K.msg="invalid literal/length code",z.mode=30;break}z.extra=15&gt,z.mode=22;case 22:if(z.extra){for(ee=z.extra;X<ee;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}z.length+=W&(1<<z.extra)-1,W>>>=z.extra,X-=z.extra,z.back+=z.extra}z.was=z.length,z.mode=23;case 23:for(;gt=(J=z.distcode[W&(1<<z.distbits)-1])>>>16&255,It=65535&J,!((He=J>>>24)<=X);){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}if(!(240&gt)){for(Rt=He,zt=gt,pr=It;gt=(J=z.distcode[pr+((W&(1<<Rt+zt)-1)>>Rt)])>>>16&255,It=65535&J,!(Rt+(He=J>>>24)<=X);){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}W>>>=Rt,X-=Rt,z.back+=Rt}if(W>>>=He,X-=He,z.back+=He,64&gt){K.msg="invalid distance code",z.mode=30;break}z.offset=It,z.extra=15&gt,z.mode=24;case 24:if(z.extra){for(ee=z.extra;X<ee;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}z.offset+=W&(1<<z.extra)-1,W>>>=z.extra,X-=z.extra,z.back+=z.extra}if(z.offset>z.dmax){K.msg="invalid distance too far back",z.mode=30;break}z.mode=25;case 25:if(Ke===0)break e;if(ze=Ae-Ke,z.offset>ze){if((ze=z.offset-ze)>z.whave&&z.sane){K.msg="invalid distance too far back",z.mode=30;break}ke=ze>z.wnext?(ze-=z.wnext,z.wsize-ze):z.wnext-ze,ze>z.length&&(ze=z.length),yt=z.window}else yt=Je,ke=ae-z.offset,ze=z.length;for(Ke<ze&&(ze=Ke),Ke-=ze,z.length-=ze;Je[ae++]=yt[ke++],--ze;);z.length===0&&(z.mode=21);break;case 26:if(Ke===0)break e;Je[ae++]=z.length,Ke--,z.mode=21;break;case 27:if(z.wrap){for(;X<32;){if(_e===0)break e;_e--,W|=be[le++]<<X,X+=8}if(Ae-=Ke,K.total_out+=Ae,z.total+=Ae,Ae&&(K.adler=z.check=z.flags?c(z.check,Je,Ae,ae-Ae):u(z.check,Je,Ae,ae-Ae)),Ae=Ke,(z.flags?W:C(W))!==z.check){K.msg="incorrect data check",z.mode=30;break}X=W=0}z.mode=28;case 28:if(z.wrap&&z.flags){for(;X<32;){if(_e===0)break e;_e--,W+=be[le++]<<X,X+=8}if(W!==(4294967295&z.total)){K.msg="incorrect length check",z.mode=30;break}X=W=0}z.mode=29;case 29:Ne=1;break e;case 30:Ne=-3;break e;case 31:return-4;case 32:default:return v}return K.next_out=ae,K.avail_out=Ke,K.next_in=le,K.avail_in=_e,z.hold=W,z.bits=X,(z.wsize||Ae!==K.avail_out&&z.mode<30&&(z.mode<27||fe!==4))&&Ce(K,K.output,K.next_out,Ae-K.avail_out)?(z.mode=31,-4):(Ie-=K.avail_in,Ae-=K.avail_out,K.total_in+=Ie,K.total_out+=Ae,z.total+=Ae,z.wrap&&Ae&&(K.adler=z.check=z.flags?c(z.check,Je,Ae,K.next_out-Ae):u(z.check,Je,Ae,K.next_out-Ae)),K.data_type=z.bits+(z.last?64:0)+(z.mode===12?128:0)+(z.mode===20||z.mode===15?256:0),(Ie==0&&Ae===0||fe===4)&&Ne===w&&(Ne=-5),Ne)},a.inflateEnd=function(K){if(!K||!K.state)return v;var fe=K.state;return fe.window&&(fe.window=null),K.state=null,w},a.inflateGetHeader=function(K,fe){var z;return K&&K.state&&2&(z=K.state).wrap?((z.head=fe).done=!1,w):v},a.inflateSetDictionary=function(K,fe){var z,be=fe.length;return K&&K.state?(z=K.state).wrap!==0&&z.mode!==11?v:z.mode===11&&u(1,fe,be,0)!==z.check?-3:Ce(K,fe,be,be)?(z.mode=31,-4):(z.havedict=1,w):v},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,a){var s=r("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(y,_,w,v,x,k,E,C){var j,D,M,F,L,te,se,Z,de,Ce=C.bits,K=0,fe=0,z=0,be=0,Je=0,le=0,ae=0,_e=0,Ke=0,W=0,X=null,Ie=0,Ae=new s.Buf16(16),ze=new s.Buf16(16),ke=null,yt=0;for(K=0;K<=15;K++)Ae[K]=0;for(fe=0;fe<v;fe++)Ae[_[w+fe]]++;for(Je=Ce,be=15;1<=be&&Ae[be]===0;be--);if(be<Je&&(Je=be),be===0)return x[k++]=20971520,x[k++]=20971520,C.bits=1,0;for(z=1;z<be&&Ae[z]===0;z++);for(Je<z&&(Je=z),K=_e=1;K<=15;K++)if(_e<<=1,(_e-=Ae[K])<0)return-1;if(0<_e&&(y===0||be!==1))return-1;for(ze[1]=0,K=1;K<15;K++)ze[K+1]=ze[K]+Ae[K];for(fe=0;fe<v;fe++)_[w+fe]!==0&&(E[ze[_[w+fe]]++]=fe);if(te=y===0?(X=ke=E,19):y===1?(X=u,Ie-=257,ke=c,yt-=257,256):(X=f,ke=h,-1),K=z,L=k,ae=fe=W=0,M=-1,F=(Ke=1<<(le=Je))-1,y===1&&852<Ke||y===2&&592<Ke)return 1;for(;;){for(se=K-ae,de=E[fe]<te?(Z=0,E[fe]):E[fe]>te?(Z=ke[yt+E[fe]],X[Ie+E[fe]]):(Z=96,0),j=1<<K-ae,z=D=1<<le;x[L+(W>>ae)+(D-=j)]=se<<24|Z<<16|de|0,D!==0;);for(j=1<<K-1;W&j;)j>>=1;if(j!==0?(W&=j-1,W+=j):W=0,fe++,--Ae[K]==0){if(K===be)break;K=_[w+E[fe]]}if(Je<K&&(W&F)!==M){for(ae===0&&(ae=Je),L+=z,_e=1<<(le=K-ae);le+ae<be&&!((_e-=Ae[le+ae])<=0);)le++,_e<<=1;if(Ke+=1<<le,y===1&&852<Ke||y===2&&592<Ke)return 1;x[M=W&F]=Je<<24|le<<16|L-k|0}}return W!==0&&(x[L+W]=K-ae<<24|64<<16|0),C.bits=Je,0}},{"../utils/common":41}],51:[function(r,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,a){var s=r("../utils/common"),u=0,c=1;function f(J){for(var xe=J.length;0<=--xe;)J[xe]=0}var h=0,y=29,_=256,w=_+1+y,v=30,x=19,k=2*w+1,E=15,C=16,j=7,D=256,M=16,F=17,L=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],se=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ce=new Array(2*(w+2));f(Ce);var K=new Array(2*v);f(K);var fe=new Array(512);f(fe);var z=new Array(256);f(z);var be=new Array(y);f(be);var Je,le,ae,_e=new Array(v);function Ke(J,xe,We,Ge,Oe){this.static_tree=J,this.extra_bits=xe,this.extra_base=We,this.elems=Ge,this.max_length=Oe,this.has_stree=J&&J.length}function W(J,xe){this.dyn_tree=J,this.max_code=0,this.stat_desc=xe}function X(J){return J<256?fe[J]:fe[256+(J>>>7)]}function Ie(J,xe){J.pending_buf[J.pending++]=255&xe,J.pending_buf[J.pending++]=xe>>>8&255}function Ae(J,xe,We){J.bi_valid>C-We?(J.bi_buf|=xe<<J.bi_valid&65535,Ie(J,J.bi_buf),J.bi_buf=xe>>C-J.bi_valid,J.bi_valid+=We-C):(J.bi_buf|=xe<<J.bi_valid&65535,J.bi_valid+=We)}function ze(J,xe,We){Ae(J,We[2*xe],We[2*xe+1])}function ke(J,xe){for(var We=0;We|=1&J,J>>>=1,We<<=1,0<--xe;);return We>>>1}function yt(J,xe,We){var Ge,Oe,et=new Array(E+1),$e=0;for(Ge=1;Ge<=E;Ge++)et[Ge]=$e=$e+We[Ge-1]<<1;for(Oe=0;Oe<=xe;Oe++){var Xe=J[2*Oe+1];Xe!==0&&(J[2*Oe]=ke(et[Xe]++,Xe))}}function He(J){var xe;for(xe=0;xe<w;xe++)J.dyn_ltree[2*xe]=0;for(xe=0;xe<v;xe++)J.dyn_dtree[2*xe]=0;for(xe=0;xe<x;xe++)J.bl_tree[2*xe]=0;J.dyn_ltree[2*D]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function gt(J){8<J.bi_valid?Ie(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function It(J,xe,We,Ge){var Oe=2*xe,et=2*We;return J[Oe]<J[et]||J[Oe]===J[et]&&Ge[xe]<=Ge[We]}function Rt(J,xe,We){for(var Ge=J.heap[We],Oe=We<<1;Oe<=J.heap_len&&(Oe<J.heap_len&&It(xe,J.heap[Oe+1],J.heap[Oe],J.depth)&&Oe++,!It(xe,Ge,J.heap[Oe],J.depth));)J.heap[We]=J.heap[Oe],We=Oe,Oe<<=1;J.heap[We]=Ge}function zt(J,xe,We){var Ge,Oe,et,$e,Xe=0;if(J.last_lit!==0)for(;Ge=J.pending_buf[J.d_buf+2*Xe]<<8|J.pending_buf[J.d_buf+2*Xe+1],Oe=J.pending_buf[J.l_buf+Xe],Xe++,Ge===0?ze(J,Oe,xe):(ze(J,(et=z[Oe])+_+1,xe),($e=te[et])!==0&&Ae(J,Oe-=be[et],$e),ze(J,et=X(--Ge),We),($e=se[et])!==0&&Ae(J,Ge-=_e[et],$e)),Xe<J.last_lit;);ze(J,D,xe)}function pr(J,xe){var We,Ge,Oe,et=xe.dyn_tree,$e=xe.stat_desc.static_tree,Xe=xe.stat_desc.has_stree,Dt=xe.stat_desc.elems,cr=-1;for(J.heap_len=0,J.heap_max=k,We=0;We<Dt;We++)et[2*We]!==0?(J.heap[++J.heap_len]=cr=We,J.depth[We]=0):et[2*We+1]=0;for(;J.heap_len<2;)et[2*(Oe=J.heap[++J.heap_len]=cr<2?++cr:0)]=1,J.depth[Oe]=0,J.opt_len--,Xe&&(J.static_len-=$e[2*Oe+1]);for(xe.max_code=cr,We=J.heap_len>>1;1<=We;We--)Rt(J,et,We);for(Oe=Dt;We=J.heap[1],J.heap[1]=J.heap[J.heap_len--],Rt(J,et,1),Ge=J.heap[1],J.heap[--J.heap_max]=We,J.heap[--J.heap_max]=Ge,et[2*Oe]=et[2*We]+et[2*Ge],J.depth[Oe]=(J.depth[We]>=J.depth[Ge]?J.depth[We]:J.depth[Ge])+1,et[2*We+1]=et[2*Ge+1]=Oe,J.heap[1]=Oe++,Rt(J,et,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(qt,Yn){var gc,ao,Ia,$r,Ef,Mg,Oa=Yn.dyn_tree,Ug=Yn.max_code,Jy=Yn.stat_desc.static_tree,eb=Yn.stat_desc.has_stree,tb=Yn.stat_desc.extra_bits,Vg=Yn.stat_desc.extra_base,Ni=Yn.stat_desc.max_length,ja=0;for($r=0;$r<=E;$r++)qt.bl_count[$r]=0;for(Oa[2*qt.heap[qt.heap_max]+1]=0,gc=qt.heap_max+1;gc<k;gc++)Ni<($r=Oa[2*Oa[2*(ao=qt.heap[gc])+1]+1]+1)&&($r=Ni,ja++),Oa[2*ao+1]=$r,Ug<ao||(qt.bl_count[$r]++,Ef=0,Vg<=ao&&(Ef=tb[ao-Vg]),Mg=Oa[2*ao],qt.opt_len+=Mg*($r+Ef),eb&&(qt.static_len+=Mg*(Jy[2*ao+1]+Ef)));if(ja!==0){do{for($r=Ni-1;qt.bl_count[$r]===0;)$r--;qt.bl_count[$r]--,qt.bl_count[$r+1]+=2,qt.bl_count[Ni]--,ja-=2}while(0<ja);for($r=Ni;$r!==0;$r--)for(ao=qt.bl_count[$r];ao!==0;)Ug<(Ia=qt.heap[--gc])||(Oa[2*Ia+1]!==$r&&(qt.opt_len+=($r-Oa[2*Ia+1])*Oa[2*Ia],Oa[2*Ia+1]=$r),ao--)}}(J,xe),yt(et,cr,J.bl_count)}function R(J,xe,We){var Ge,Oe,et=-1,$e=xe[1],Xe=0,Dt=7,cr=4;for($e===0&&(Dt=138,cr=3),xe[2*(We+1)+1]=65535,Ge=0;Ge<=We;Ge++)Oe=$e,$e=xe[2*(Ge+1)+1],++Xe<Dt&&Oe===$e||(Xe<cr?J.bl_tree[2*Oe]+=Xe:Oe!==0?(Oe!==et&&J.bl_tree[2*Oe]++,J.bl_tree[2*M]++):Xe<=10?J.bl_tree[2*F]++:J.bl_tree[2*L]++,et=Oe,cr=(Xe=0)===$e?(Dt=138,3):Oe===$e?(Dt=6,3):(Dt=7,4))}function Ne(J,xe,We){var Ge,Oe,et=-1,$e=xe[1],Xe=0,Dt=7,cr=4;for($e===0&&(Dt=138,cr=3),Ge=0;Ge<=We;Ge++)if(Oe=$e,$e=xe[2*(Ge+1)+1],!(++Xe<Dt&&Oe===$e)){if(Xe<cr)for(;ze(J,Oe,J.bl_tree),--Xe!=0;);else Oe!==0?(Oe!==et&&(ze(J,Oe,J.bl_tree),Xe--),ze(J,M,J.bl_tree),Ae(J,Xe-3,2)):Xe<=10?(ze(J,F,J.bl_tree),Ae(J,Xe-3,3)):(ze(J,L,J.bl_tree),Ae(J,Xe-11,7));et=Oe,cr=(Xe=0)===$e?(Dt=138,3):Oe===$e?(Dt=6,3):(Dt=7,4)}}f(_e);var Be=!1;function ee(J,xe,We,Ge){Ae(J,(h<<1)+(Ge?1:0),3),function(Oe,et,$e,Xe){gt(Oe),Ie(Oe,$e),Ie(Oe,~$e),s.arraySet(Oe.pending_buf,Oe.window,et,$e,Oe.pending),Oe.pending+=$e}(J,xe,We)}a._tr_init=function(J){Be||(function(){var xe,We,Ge,Oe,et,$e=new Array(E+1);for(Oe=Ge=0;Oe<y-1;Oe++)for(be[Oe]=Ge,xe=0;xe<1<<te[Oe];xe++)z[Ge++]=Oe;for(z[Ge-1]=Oe,Oe=et=0;Oe<16;Oe++)for(_e[Oe]=et,xe=0;xe<1<<se[Oe];xe++)fe[et++]=Oe;for(et>>=7;Oe<v;Oe++)for(_e[Oe]=et<<7,xe=0;xe<1<<se[Oe]-7;xe++)fe[256+et++]=Oe;for(We=0;We<=E;We++)$e[We]=0;for(xe=0;xe<=143;)Ce[2*xe+1]=8,xe++,$e[8]++;for(;xe<=255;)Ce[2*xe+1]=9,xe++,$e[9]++;for(;xe<=279;)Ce[2*xe+1]=7,xe++,$e[7]++;for(;xe<=287;)Ce[2*xe+1]=8,xe++,$e[8]++;for(yt(Ce,w+1,$e),xe=0;xe<v;xe++)K[2*xe+1]=5,K[2*xe]=ke(xe,5);Je=new Ke(Ce,te,_+1,w,E),le=new Ke(K,se,0,v,E),ae=new Ke(new Array(0),Z,0,x,j)}(),Be=!0),J.l_desc=new W(J.dyn_ltree,Je),J.d_desc=new W(J.dyn_dtree,le),J.bl_desc=new W(J.bl_tree,ae),J.bi_buf=0,J.bi_valid=0,He(J)},a._tr_stored_block=ee,a._tr_flush_block=function(J,xe,We,Ge){var Oe,et,$e=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(Xe){var Dt,cr=4093624447;for(Dt=0;Dt<=31;Dt++,cr>>>=1)if(1&cr&&Xe.dyn_ltree[2*Dt]!==0)return u;if(Xe.dyn_ltree[18]!==0||Xe.dyn_ltree[20]!==0||Xe.dyn_ltree[26]!==0)return c;for(Dt=32;Dt<_;Dt++)if(Xe.dyn_ltree[2*Dt]!==0)return c;return u}(J)),pr(J,J.l_desc),pr(J,J.d_desc),$e=function(Xe){var Dt;for(R(Xe,Xe.dyn_ltree,Xe.l_desc.max_code),R(Xe,Xe.dyn_dtree,Xe.d_desc.max_code),pr(Xe,Xe.bl_desc),Dt=x-1;3<=Dt&&Xe.bl_tree[2*de[Dt]+1]===0;Dt--);return Xe.opt_len+=3*(Dt+1)+5+5+4,Dt}(J),Oe=J.opt_len+3+7>>>3,(et=J.static_len+3+7>>>3)<=Oe&&(Oe=et)):Oe=et=We+5,We+4<=Oe&&xe!==-1?ee(J,xe,We,Ge):J.strategy===4||et===Oe?(Ae(J,2+(Ge?1:0),3),zt(J,Ce,K)):(Ae(J,4+(Ge?1:0),3),function(Xe,Dt,cr,qt){var Yn;for(Ae(Xe,Dt-257,5),Ae(Xe,cr-1,5),Ae(Xe,qt-4,4),Yn=0;Yn<qt;Yn++)Ae(Xe,Xe.bl_tree[2*de[Yn]+1],3);Ne(Xe,Xe.dyn_ltree,Dt-1),Ne(Xe,Xe.dyn_dtree,cr-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,$e+1),zt(J,J.dyn_ltree,J.dyn_dtree)),He(J),Ge&&gt(J)},a._tr_tally=function(J,xe,We){return J.pending_buf[J.d_buf+2*J.last_lit]=xe>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&xe,J.pending_buf[J.l_buf+J.last_lit]=255&We,J.last_lit++,xe===0?J.dyn_ltree[2*We]++:(J.matches++,xe--,J.dyn_ltree[2*(z[We]+_+1)]++,J.dyn_dtree[2*X(xe)]++),J.last_lit===J.lit_bufsize-1},a._tr_align=function(J){Ae(J,2,3),ze(J,D,Ce),function(xe){xe.bi_valid===16?(Ie(xe,xe.bi_buf),xe.bi_buf=0,xe.bi_valid=0):8<=xe.bi_valid&&(xe.pending_buf[xe.pending++]=255&xe.bi_buf,xe.bi_buf>>=8,xe.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(r,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,a){(function(s){(function(u,c){if(!u.setImmediate){var f,h,y,_,w=1,v={},x=!1,k=u.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(u);E=E&&E.setTimeout?E:u,f={}.toString.call(u.process)==="[object process]"?function(M){process.nextTick(function(){j(M)})}:function(){if(u.postMessage&&!u.importScripts){var M=!0,F=u.onmessage;return u.onmessage=function(){M=!1},u.postMessage("","*"),u.onmessage=F,M}}()?(_="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",D,!1):u.attachEvent("onmessage",D),function(M){u.postMessage(_+M,"*")}):u.MessageChannel?((y=new MessageChannel).port1.onmessage=function(M){j(M.data)},function(M){y.port2.postMessage(M)}):k&&"onreadystatechange"in k.createElement("script")?(h=k.documentElement,function(M){var F=k.createElement("script");F.onreadystatechange=function(){j(M),F.onreadystatechange=null,h.removeChild(F),F=null},h.appendChild(F)}):function(M){setTimeout(j,0,M)},E.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var F=new Array(arguments.length-1),L=0;L<F.length;L++)F[L]=arguments[L+1];var te={callback:M,args:F};return v[w]=te,f(w),w++},E.clearImmediate=C}function C(M){delete v[M]}function j(M){if(x)setTimeout(j,0,M);else{var F=v[M];if(F){x=!0;try{(function(L){var te=L.callback,se=L.args;switch(se.length){case 0:te();break;case 1:te(se[0]);break;case 2:te(se[0],se[1]);break;case 3:te(se[0],se[1],se[2]);break;default:te.apply(c,se)}})(F)}finally{C(M),x=!1}}}}function D(M){M.source===u&&typeof M.data=="string"&&M.data.indexOf(_)===0&&j(+M.data.slice(_.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Xr<"u"?Xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}),cj,fS,WM,dj,qM,$M,fy,GM,fj,ZM,pS,py,hy,Qu,XM,YM,QM,mg,Ho,JM,e9,pj,hS,joe=I(()=>{cj=oe(pe(),1),fS=oe(pe(),1),WM=e=>typeof e=="function",dj=(e,t)=>WM(e)?e(t):e,qM=(()=>{let e=0;return()=>(++e).toString()})(),$M=20,fy=new Map,GM=1e3,fj=e=>{if(fy.has(e))return;let t=setTimeout(()=>{fy.delete(e),Qu({type:4,toastId:e})},GM);fy.set(e,t)},ZM=e=>{let t=fy.get(e);t&&clearTimeout(t)},pS=(e,t)=>{switch(t.type){case 0:return Pe(re({},e),{toasts:[t.toast,...e.toasts].slice(0,$M)});case 1:return t.toast.id&&ZM(t.toast.id),Pe(re({},e),{toasts:e.toasts.map(s=>s.id===t.toast.id?re(re({},s),t.toast):s)});case 2:let{toast:r}=t;return e.toasts.find(s=>s.id===r.id)?pS(e,{type:1,toast:r}):pS(e,{type:0,toast:r});case 3:let{toastId:o}=t;return o?fj(o):e.toasts.forEach(s=>{fj(s.id)}),Pe(re({},e),{toasts:e.toasts.map(s=>s.id===o||o===void 0?Pe(re({},s),{visible:!1}):s)});case 4:return t.toastId===void 0?Pe(re({},e),{toasts:[]}):Pe(re({},e),{toasts:e.toasts.filter(s=>s.id!==t.toastId)});case 5:return Pe(re({},e),{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Pe(re({},e),{pausedAt:void 0,toasts:e.toasts.map(s=>Pe(re({},s),{pauseDuration:s.pauseDuration+a}))})}},py=[],hy={toasts:[],pausedAt:void 0},Qu=e=>{hy=pS(hy,e),py.forEach(t=>{t(hy)})},XM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},YM=(e={})=>{let[t,r]=(0,cj.useState)(hy);(0,cj.useEffect)(()=>(py.push(r),()=>{let a=py.indexOf(r);a>-1&&py.splice(a,1)}),[t]);let o=t.toasts.map(a=>{var s,u;return Pe(re(re(re({},e),e[a.type]),a),{duration:a.duration||((s=e[a.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||XM[a.type],style:re(re(re({},e.style),(u=e[a.type])==null?void 0:u.style),a.style)})});return Pe(re({},t),{toasts:o})},QM=(e,t="blank",r)=>Pe(re({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{id:(r==null?void 0:r.id)||qM()}),mg=e=>(t,r)=>{let o=QM(t,e,r);return Qu({type:2,toast:o}),o.id},Ho=(e,t)=>mg("blank")(e,t),Ho.error=mg("error"),Ho.success=mg("success"),Ho.loading=mg("loading"),Ho.custom=mg("custom"),Ho.dismiss=e=>{Qu({type:3,toastId:e})},Ho.remove=e=>Qu({type:4,toastId:e}),Ho.promise=(e,t,r)=>{let o=Ho.loading(t.loading,re(re({},r),r==null?void 0:r.loading));return e.then(a=>(Ho.success(dj(t.success,a),re(re({id:o},r),r==null?void 0:r.success)),a)).catch(a=>{Ho.error(dj(t.error,a),re(re({id:o},r),r==null?void 0:r.error))}),e},JM=(e,t)=>{Qu({type:1,toast:{id:e,height:t}})},e9=()=>{Qu({type:5,time:Date.now()})},pj=e=>{let{toasts:t,pausedAt:r}=YM(e);(0,fS.useEffect)(()=>{if(r)return;let s=Date.now(),u=t.map(c=>{if(c.duration===1/0)return;let f=(c.duration||0)+c.pauseDuration-(s-c.createdAt);if(f<0){c.visible&&Ho.dismiss(c.id);return}return setTimeout(()=>Ho.dismiss(c.id),f)});return()=>{u.forEach(c=>c&&clearTimeout(c))}},[t,r]);let o=(0,fS.useCallback)(()=>{r&&Qu({type:6,time:Date.now()})},[r]),a=(0,fS.useCallback)((s,u)=>{let{reverseOrder:c=!1,gutter:f=8,defaultPosition:h}=u||{},y=t.filter(v=>(v.position||h)===(s.position||h)&&v.height),_=y.findIndex(v=>v.id===s.id),w=y.filter((v,x)=>x<_&&v.visible).length;return y.filter(v=>v.visible).slice(...c?[w+1]:[0,w]).reduce((v,x)=>v+(x.height||0)+f,0)},[t]);return{toasts:t,handlers:{updateHeight:JM,startPause:e9,endPause:o,calculateOffset:a}}},hS=Ho});function t9(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function Toe(e){$d=e}function Tn(e,t){if(t){if(u9.test(e))return e.replace(c9,hj)}else if(d9.test(e))return e.replace(f9,hj);return e}function r9(e){return e.replace(h9,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}function Or(e,t){e=typeof e=="string"?e:e.source,t=t||"";let r={replace:(o,a)=>(a=a.source||a,a=a.replace(g9,"$1"),e=e.replace(o,a),r),getRegex:()=>new RegExp(e,t)};return r}function n9(e,t,r){if(e){let o;try{o=decodeURIComponent(r9(r)).replace(m9,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}t&&!v9.test(r)&&(r=Aoe(t,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}function Aoe(e,t){gy[" "+e]||(y9.test(e)?gy[" "+e]=e+"/":gy[" "+e]=gS(e,"/",!0)),e=gy[" "+e];let r=e.indexOf(":")===-1;return t.substring(0,2)==="//"?r?t:e.replace(b9,"$1")+t:t.charAt(0)==="/"?r?t:e.replace(w9,"$1")+t:e+t}function wa(e){let t=1,r,o;for(;t<arguments.length;t++){r=arguments[t];for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}function o9(e,t){let r=e.replace(/\|/g,(s,u,c)=>{let f=!1,h=u;for(;--h>=0&&c[h]==="\\";)f=!f;return f?"|":" |"}),o=r.split(/ \|/),a=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>t)o.splice(t);else for(;o.length<t;)o.push("");for(;a<o.length;a++)o[a]=o[a].trim().replace(/\\\|/g,"|");return o}function gS(e,t,r){let o=e.length;if(o===0)return"";let a=0;for(;a<o;){let s=e.charAt(o-a-1);if(s===t&&!r)a++;else if(s!==t&&r)a++;else break}return e.slice(0,o-a)}function Doe(e,t){if(e.indexOf(t[1])===-1)return-1;let r=e.length,o=0,a=0;for(;a<r;a++)if(e[a]==="\\")a++;else if(e[a]===t[0])o++;else if(e[a]===t[1]&&(o--,o<0))return a;return-1}function i9(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function a9(e,t){if(t<1)return"";let r="";for(;t>1;)t&1&&(r+=e),t>>=1,e+=e;return r+e}function s9(e,t,r,o){let a=t.href,s=t.title?Tn(t.title):null,u=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){o.state.inLink=!0;let c={type:"link",raw:r,href:a,title:s,text:u,tokens:o.inlineTokens(u)};return o.state.inLink=!1,c}return{type:"image",raw:r,href:a,title:s,text:Tn(u)}}function zoe(e,t){let r=e.match(/^(\s+)(?:```)/);if(r===null)return t;let o=r[1];return t.split(`
`).map(a=>{let s=a.match(/^\s+/);if(s===null)return a;let[u]=s;return u.length>=o.length?a.slice(o.length):a}).join(`
`)}function Boe(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function l9(e){let t="",r,o,a=e.length;for(r=0;r<a;r++)o=e.charCodeAt(r),Math.random()>.5&&(o="x"+o.toString(16)),t+="&#"+o+";";return t}function Lt(e,t,r){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(r=t,t=null),t=wa({},Lt.defaults,t||{}),i9(t),r){let a=t.highlight,s;try{s=Gd.lex(e,t)}catch(f){return r(f)}let u=function(f){let h;if(!f)try{t.walkTokens&&Lt.walkTokens(s,t.walkTokens),h=Ju.parse(s,t)}catch(y){f=y}return t.highlight=a,f?r(f):r(null,h)};if(!a||a.length<3||(delete t.highlight,!s.length))return u();let c=0;Lt.walkTokens(s,function(f){f.type==="code"&&(c++,setTimeout(()=>{a(f.text,f.lang,function(h,y){if(h)return u(h);y!=null&&y!==f.text&&(f.text=y,f.escaped=!0),c--,c===0&&u()})},0))}),c===0&&u();return}function o(a){if(a.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Tn(a.message+"",!0)+"</pre>";throw a}try{let a=Gd.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Lt.walkTokens(a,t.walkTokens)).then(()=>Ju.parse(a,t)).catch(o);Lt.walkTokens(a,t.walkTokens)}return Ju.parse(a,t)}catch(a){o(a)}}var $d,u9,c9,d9,f9,p9,hj,h9,g9,m9,v9,gy,y9,b9,w9,my,mS,Bt,St,Gd,vS,gj,mj,Ju,Roe=I(()=>{$d=t9(),u9=/[&<>"']/,c9=/[&<>"']/g,d9=/[<>"']|&(?!#?\w+;)/,f9=/[<>"']|&(?!#?\w+;)/g,p9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hj=e=>p9[e],h9=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,g9=/(^|[^\[])\^/g,m9=/[^\w:]/g,v9=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,gy={},y9=/^[^:]+:\/*[^/]*$/,b9=/^([^:]+:)[\s\S]*$/,w9=/^([^:]+:\/*[^/]*)[\s\S]*$/,my={exec:function(){}},mS=class{constructor(e){this.options=e||$d}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:gS(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],o=zoe(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim():t[2],text:o}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){let o=gS(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,a,s,u,c,f,h,y,_,w,v,x=t[1].trim(),k=x.length>1,E={type:"list",raw:"",ordered:k,start:k?+x.slice(0,-1):"",loose:!1,items:[]};x=k?"\\d{1,9}\\".concat(x.slice(-1)):"\\".concat(x),this.options.pedantic&&(x=k?x:"[*+-]");let C=new RegExp("^( {0,3}".concat(x,")((?:[	 ][^\\n]*)?(?:\\n|$))"));for(;e&&(v=!1,!(!(t=C.exec(e))||this.rules.block.hr.test(e)));){if(r=t[0],e=e.substring(r.length),h=t[2].split(`
`,1)[0],y=e.split(`
`,1)[0],this.options.pedantic?(s=2,w=h.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,w=h.slice(s),s+=t[1].length),c=!1,!h&&/^ *$/.test(y)&&(r+=y+`
`,e=e.substring(y.length+1),v=!0),!v){let D=new RegExp("^ {0,".concat(Math.min(3,s-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),M=new RegExp("^ {0,".concat(Math.min(3,s-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),F=new RegExp("^ {0,".concat(Math.min(3,s-1),"}(?:```|~~~)")),L=new RegExp("^ {0,".concat(Math.min(3,s-1),"}#"));for(;e&&(_=e.split(`
`,1)[0],h=_,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(F.test(h)||L.test(h)||D.test(h)||M.test(e)));){if(h.search(/[^ ]/)>=s||!h.trim())w+=`
`+h.slice(s);else if(!c)w+=`
`+h;else break;!c&&!h.trim()&&(c=!0),r+=_+`
`,e=e.substring(_.length+1)}}E.loose||(f?E.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(w),o&&(a=o[0]!=="[ ] ",w=w.replace(/^\[[ xX]\] +/,""))),E.items.push({type:"list_item",raw:r,task:!!o,checked:a,loose:!1,text:w}),E.raw+=r}E.items[E.items.length-1].raw=r.trimRight(),E.items[E.items.length-1].text=w.trimRight(),E.raw=E.raw.trimRight();let j=E.items.length;for(u=0;u<j;u++){this.lexer.state.top=!1,E.items[u].tokens=this.lexer.blockTokens(E.items[u].text,[]);let D=E.items[u].tokens.filter(F=>F.type==="space"),M=D.every(F=>{let L=F.raw.split(""),te=0;for(let se of L)if(se===`
`&&(te+=1),te>1)return!0;return!1});!E.loose&&D.length&&M&&(E.loose=!0,E.items[u].loose=!0)}return E}}html(e){let t=this.rules.block.html.exec(e);if(t){let r={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){let o=this.options.sanitizer?this.options.sanitizer(t[0]):Tn(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){let t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){let t=this.rules.block.table.exec(e);if(t){let r={type:"table",header:o9(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=t[0];let o=r.align.length,a,s,u,c;for(a=0;a<o;a++)/^ *-+: *$/.test(r.align[a])?r.align[a]="right":/^ *:-+: *$/.test(r.align[a])?r.align[a]="center":/^ *:-+ *$/.test(r.align[a])?r.align[a]="left":r.align[a]=null;for(o=r.rows.length,a=0;a<o;a++)r.rows[a]=o9(r.rows[a],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],u=0;u<c.length;u++)c[u].tokens=this.lexer.inline(c[u].text);return r}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Tn(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Tn(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let s=gS(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=Doe(t[2],"()");if(s>-1){let u=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],a="";if(this.options.pedantic){let s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],a=s[3])}else a=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),s9(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o||!o.href){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return s9(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;let a=o[1]||o[2]||"";if(!a||a&&(r===""||this.rules.inline.punctuation.exec(r))){let s=o[0].length-1,u,c,f=s,h=0,y=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(y.lastIndex=0,t=t.slice(-1*e.length+s);(o=y.exec(t))!=null;){if(u=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!u)continue;if(c=u.length,o[3]||o[4]){f+=c;continue}else if((o[5]||o[6])&&s%3&&!((s+c)%3)){h+=c;continue}if(f-=c,f>0)continue;if(c=Math.min(c,c+f+h),Math.min(s,c)%2){let w=e.slice(1,s+o.index+c);return{type:"em",raw:e.slice(0,s+o.index+c+1),text:w,tokens:this.lexer.inlineTokens(w)}}let _=e.slice(2,s+o.index+c-1);return{type:"strong",raw:e.slice(0,s+o.index+c+1),text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," "),o=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return o&&a&&(r=r.substring(1,r.length-1)),r=Tn(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let r=this.rules.inline.autolink.exec(e);if(r){let o,a;return r[2]==="@"?(o=Tn(this.options.mangle?t(r[1]):r[1]),a="mailto:"+o):(o=Tn(r[1]),a=o),{type:"link",raw:r[0],text:o,href:a,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,a;if(r[2]==="@")o=Tn(this.options.mangle?t(r[0]):r[0]),a="mailto:"+o;else{let s;do s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(s!==r[0]);o=Tn(r[0]),r[1]==="www."?a="http://"+o:a=o}return{type:"link",raw:r[0],text:o,href:a,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){let r=this.rules.inline.text.exec(e);if(r){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Tn(r[0]):r[0]:o=Tn(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}},Bt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:my,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/},Bt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Bt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Bt.def=Or(Bt.def).replace("label",Bt._label).replace("title",Bt._title).getRegex(),Bt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Bt.listItemStart=Or(/^( *)(bull) */).replace("bull",Bt.bullet).getRegex(),Bt.list=Or(Bt.list).replace(/bull/g,Bt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Bt.def.source+")").getRegex(),Bt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Bt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Bt.html=Or(Bt.html,"i").replace("comment",Bt._comment).replace("tag",Bt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Bt.paragraph=Or(Bt._paragraph).replace("hr",Bt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bt._tag).getRegex(),Bt.blockquote=Or(Bt.blockquote).replace("paragraph",Bt.paragraph).getRegex(),Bt.normal=wa({},Bt),Bt.gfm=wa({},Bt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Bt.gfm.table=Or(Bt.gfm.table).replace("hr",Bt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bt._tag).getRegex(),Bt.gfm.paragraph=Or(Bt._paragraph).replace("hr",Bt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Bt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bt._tag).getRegex(),Bt.pedantic=wa({},Bt.normal,{html:Or(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Bt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:my,paragraph:Or(Bt.normal._paragraph).replace("hr",Bt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Bt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),St={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:my,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:my,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/},St._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",St.punctuation=Or(St.punctuation).replace(/punctuation/g,St._punctuation).getRegex(),St.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,St.escapedEmSt=/\\\*|\\_/g,St._comment=Or(Bt._comment).replace("(?:-->|$)","-->").getRegex(),St.emStrong.lDelim=Or(St.emStrong.lDelim).replace(/punct/g,St._punctuation).getRegex(),St.emStrong.rDelimAst=Or(St.emStrong.rDelimAst,"g").replace(/punct/g,St._punctuation).getRegex(),St.emStrong.rDelimUnd=Or(St.emStrong.rDelimUnd,"g").replace(/punct/g,St._punctuation).getRegex(),St._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,St._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,St._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,St.autolink=Or(St.autolink).replace("scheme",St._scheme).replace("email",St._email).getRegex(),St._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,St.tag=Or(St.tag).replace("comment",St._comment).replace("attribute",St._attribute).getRegex(),St._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,St._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,St._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,St.link=Or(St.link).replace("label",St._label).replace("href",St._href).replace("title",St._title).getRegex(),St.reflink=Or(St.reflink).replace("label",St._label).replace("ref",Bt._label).getRegex(),St.nolink=Or(St.nolink).replace("ref",Bt._label).getRegex(),St.reflinkSearch=Or(St.reflinkSearch,"g").replace("reflink",St.reflink).replace("nolink",St.nolink).getRegex(),St.normal=wa({},St),St.pedantic=wa({},St.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Or(/^!?\[(label)\]\((.*?)\)/).replace("label",St._label).getRegex(),reflink:Or(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",St._label).getRegex()}),St.gfm=wa({},St.normal,{escape:Or(St.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),St.gfm.url=Or(St.gfm.url,"i").replace("email",St.gfm._extended_email).getRegex(),St.breaks=wa({},St.gfm,{br:Or(St.br).replace("{2,}","*").getRegex(),text:Or(St.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Gd=class bA{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||$d,this.options.tokenizer=this.options.tokenizer||new mS,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={block:Bt.normal,inline:St.normal};this.options.pedantic?(r.block=Bt.pedantic,r.inline=St.pedantic):this.options.gfm&&(r.block=Bt.gfm,this.options.breaks?r.inline=St.breaks:r.inline=St.gfm),this.tokenizer.rules=r}static get rules(){return{block:Bt,inline:St}}static lex(t,r){return new bA(r).lex(t)}static lexInline(t,r){return new bA(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(c,f,h)=>f+"    ".repeat(h.length));let o,a,s,u;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(c=>(o=c.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))){if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length),o.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+o.raw,a.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+o.raw,a.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),r.push(o);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let c=1/0,f=t.slice(1),h;this.options.extensions.startBlock.forEach(function(y){h=y.call({lexer:this},f),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(s=t.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(s))){a=r[r.length-1],u&&a.type==="paragraph"?(a.raw+=`
`+o.raw,a.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(o),u=s.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length),a=r[r.length-1],a&&a.type==="text"?(a.raw+=`
`+o.raw,a.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(o);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let o,a,s,u=t,c,f,h;if(this.tokens.links){let y=Object.keys(this.tokens.links);if(y.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(u))!=null;)y.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,c.index)+"["+a9("a",c[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.blockSkip.exec(u))!=null;)u=u.slice(0,c.index)+"["+a9("a",c[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(c=this.tokenizer.rules.inline.escapedEmSt.exec(u))!=null;)u=u.slice(0,c.index)+"++"+u.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(f||(h=""),f=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(y=>(o=y.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))){if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),a=r[r.length-1],a&&o.type==="text"&&a.type==="text"?(a.raw+=o.raw,a.text+=o.text):r.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length),a=r[r.length-1],a&&o.type==="text"&&a.type==="text"?(a.raw+=o.raw,a.text+=o.text):r.push(o);continue}if(o=this.tokenizer.emStrong(t,u,h)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.autolink(t,l9)){t=t.substring(o.raw.length),r.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t,l9))){t=t.substring(o.raw.length),r.push(o);continue}if(s=t,this.options.extensions&&this.options.extensions.startInline){let y=1/0,_=t.slice(1),w;this.options.extensions.startInline.forEach(function(v){w=v.call({lexer:this},_),typeof w=="number"&&w>=0&&(y=Math.min(y,w))}),y<1/0&&y>=0&&(s=t.substring(0,y+1))}if(o=this.tokenizer.inlineText(s,Boe)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(h=o.raw.slice(-1)),f=!0,a=r[r.length-1],a&&a.type==="text"?(a.raw+=o.raw,a.text+=o.text):r.push(o);continue}if(t){let y="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return r}},vS=class{constructor(e){this.options=e||$d}code(e,t,r){let o=(t||"").match(/\S*/)[0];if(this.options.highlight){let a=this.options.highlight(e,o);a!=null&&a!==e&&(r=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+Tn(o,!0)+'">'+(r?e:Tn(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Tn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`.concat(e,`</blockquote>
`)}html(e){return e}heading(e,t,r,o){if(this.options.headerIds){let a=this.options.headerPrefix+o.slug(r);return"<h".concat(t,' id="').concat(a,'">').concat(e,"</h").concat(t,`>
`)}return"<h".concat(t,">").concat(e,"</h").concat(t,`>
`)}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,r){let o=t?"ol":"ul",a=t&&r!==1?' start="'+r+'"':"";return"<"+o+a+`>
`+e+"</"+o+`>
`}listitem(e){return"<li>".concat(e,`</li>
`)}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>".concat(e,`</p>
`)}table(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`.concat(e,`</tr>
`)}tablecell(e,t){let r=t.header?"th":"td";return(t.align?"<".concat(r,' align="').concat(t.align,'">'):"<".concat(r,">"))+e+"</".concat(r,`>
`)}strong(e){return"<strong>".concat(e,"</strong>")}em(e){return"<em>".concat(e,"</em>")}codespan(e){return"<code>".concat(e,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>".concat(e,"</del>")}link(e,t,r){if(e=n9(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let o='<a href="'+Tn(e)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(e=n9(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let o='<img src="'.concat(e,'" alt="').concat(r,'"');return t&&(o+=' title="'.concat(t,'"')),o+=this.options.xhtml?"/>":">",o}text(e){return e}},gj=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}},mj=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do o++,r=e+"-"+o;while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){let r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}},Ju=class wA{constructor(t){this.options=t||$d,this.options.renderer=this.options.renderer||new vS,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new gj,this.slugger=new mj}static parse(t,r){return new wA(r).parse(t)}static parseInline(t,r){return new wA(r).parseInline(t)}parse(t,r=!0){let o="",a,s,u,c,f,h,y,_,w,v,x,k,E,C,j,D,M,F,L,te=t.length;for(a=0;a<te;a++){if(v=t[a],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[v.type]&&(L=this.options.extensions.renderers[v.type].call({parser:this},v),L!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(v.type))){o+=L||"";continue}switch(v.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{o+=this.renderer.heading(this.parseInline(v.tokens),v.depth,r9(this.parseInline(v.tokens,this.textRenderer)),this.slugger);continue}case"code":{o+=this.renderer.code(v.text,v.lang,v.escaped);continue}case"table":{for(_="",y="",c=v.header.length,s=0;s<c;s++)y+=this.renderer.tablecell(this.parseInline(v.header[s].tokens),{header:!0,align:v.align[s]});for(_+=this.renderer.tablerow(y),w="",c=v.rows.length,s=0;s<c;s++){for(h=v.rows[s],y="",f=h.length,u=0;u<f;u++)y+=this.renderer.tablecell(this.parseInline(h[u].tokens),{header:!1,align:v.align[u]});w+=this.renderer.tablerow(y)}o+=this.renderer.table(_,w);continue}case"blockquote":{w=this.parse(v.tokens),o+=this.renderer.blockquote(w);continue}case"list":{for(x=v.ordered,k=v.start,E=v.loose,c=v.items.length,w="",s=0;s<c;s++)j=v.items[s],D=j.checked,M=j.task,C="",j.task&&(F=this.renderer.checkbox(D),E?j.tokens.length>0&&j.tokens[0].type==="paragraph"?(j.tokens[0].text=F+" "+j.tokens[0].text,j.tokens[0].tokens&&j.tokens[0].tokens.length>0&&j.tokens[0].tokens[0].type==="text"&&(j.tokens[0].tokens[0].text=F+" "+j.tokens[0].tokens[0].text)):j.tokens.unshift({type:"text",text:F}):C+=F),C+=this.parse(j.tokens,E),w+=this.renderer.listitem(C,M,D);o+=this.renderer.list(w,x,k);continue}case"html":{o+=this.renderer.html(v.text);continue}case"paragraph":{o+=this.renderer.paragraph(this.parseInline(v.tokens));continue}case"text":{for(w=v.tokens?this.parseInline(v.tokens):v.text;a+1<te&&t[a+1].type==="text";)v=t[++a],w+=`
`+(v.tokens?this.parseInline(v.tokens):v.text);o+=r?this.renderer.paragraph(w):w;continue}default:{let se='Token with "'+v.type+'" type was not found.';if(this.options.silent){console.error(se);return}else throw new Error(se)}}}return o}parseInline(t,r){r=r||this.renderer;let o="",a,s,u,c=t.length;for(a=0;a<c;a++){if(s=t[a],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(u=this.options.extensions.renderers[s.type].call({parser:this},s),u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){o+=u||"";continue}switch(s.type){case"escape":{o+=r.text(s.text);break}case"html":{o+=r.html(s.text);break}case"link":{o+=r.link(s.href,s.title,this.parseInline(s.tokens,r));break}case"image":{o+=r.image(s.href,s.title,s.text);break}case"strong":{o+=r.strong(this.parseInline(s.tokens,r));break}case"em":{o+=r.em(this.parseInline(s.tokens,r));break}case"codespan":{o+=r.codespan(s.text);break}case"br":{o+=r.br();break}case"del":{o+=r.del(this.parseInline(s.tokens,r));break}case"text":{o+=r.text(s.text);break}default:{let f='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(f);return}else throw new Error(f)}}}return o}},Lt.options=Lt.setOptions=function(e){return wa(Lt.defaults,e),Toe(Lt.defaults),Lt},Lt.getDefaults=t9,Lt.defaults=$d,Lt.use=function(...e){let t=wa({},...e),r=Lt.defaults.extensions||{renderers:{},childTokens:{}},o;e.forEach(a=>{if(a.extensions&&(o=!0,a.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){let u=r.renderers?r.renderers[s.name]:null;u?r.renderers[s.name]=function(...c){let f=s.renderer.apply(this,c);return f===!1&&(f=u.apply(this,c)),f}:r.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[s.level]?r[s.level].unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}s.childTokens&&(r.childTokens[s.name]=s.childTokens)})),a.renderer){let s=Lt.defaults.renderer||new vS;for(let u in a.renderer){let c=s[u];s[u]=(...f)=>{let h=a.renderer[u].apply(s,f);return h===!1&&(h=c.apply(s,f)),h}}t.renderer=s}if(a.tokenizer){let s=Lt.defaults.tokenizer||new mS;for(let u in a.tokenizer){let c=s[u];s[u]=(...f)=>{let h=a.tokenizer[u].apply(s,f);return h===!1&&(h=c.apply(s,f)),h}}t.tokenizer=s}if(a.walkTokens){let s=Lt.defaults.walkTokens;t.walkTokens=function(u){let c=[];return c.push(a.walkTokens.call(this,u)),s&&(c=c.concat(s.call(this,u))),c}}o&&(t.extensions=r),Lt.setOptions(t)})},Lt.walkTokens=function(e,t){let r=[];for(let o of e)switch(r=r.concat(t.call(Lt,o)),o.type){case"table":{for(let a of o.header)r=r.concat(Lt.walkTokens(a.tokens,t));for(let a of o.rows)for(let s of a)r=r.concat(Lt.walkTokens(s.tokens,t));break}case"list":{r=r.concat(Lt.walkTokens(o.items,t));break}default:Lt.defaults.extensions&&Lt.defaults.extensions.childTokens&&Lt.defaults.extensions.childTokens[o.type]?Lt.defaults.extensions.childTokens[o.type].forEach(function(a){r=r.concat(Lt.walkTokens(o[a],t))}):o.tokens&&(r=r.concat(Lt.walkTokens(o.tokens,t)))}return r},Lt.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=wa({},Lt.defaults,t||{}),i9(t);try{let r=Gd.lexInline(e,t);return t.walkTokens&&Lt.walkTokens(r,t.walkTokens),Ju.parseInline(r,t)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Tn(r.message+"",!0)+"</pre>";throw r}},Lt.Parser=Ju,Lt.parser=Ju.parse,Lt.Renderer=vS,Lt.TextRenderer=gj,Lt.Lexer=Gd,Lt.lexer=Gd.lex,Lt.Tokenizer=mS,Lt.Slugger=mj,Lt.parse=Lt,Lt.options,Lt.setOptions,Lt.use,Lt.walkTokens,Lt.parseInline,Ju.parse,Gd.lex}),_9,k9,vj,x9=I(()=>{Re(),dS(),k9=G(gg)(_9||(_9=Y([`
  padding: 6px;
`]))),vj=k9}),an,yS,vy,bS,S9,E9,P9,yj,C9,I9,O9,bj,j9,T9,A9,D9,z9,yy,by,B9,R9,N9,F9,M9,U9,V9,H9,L9,K9,W9,q9,wj,wy=I(()=>{an=oe(pe()),joe(),Re(),ur(),xt(),ut(),Roe(),dy(),x9(),yS=({title:e,message:t})=>"".concat(e," ").concat(t),vy=(()=>{let e=new Map;return{add:t=>{let r=yS(t);e.has(r)?e.set(r,e.get(r)+1):e.set(r,1)},delete:t=>{let r=yS(t);e.has(r)&&e.get(r)>1?e.set(r,e.get(r)-1):e.delete(r)},clear:()=>{e.clear()},check:t=>e.has(yS(t))}})(),bS=(()=>{let e=new Map;return{add:t=>{e.has(t)?e.set(t,e.get(t)+1):e.set(t,1)},delete:t=>{e.has(t)&&e.get(t)>1?e.set(t,e.get(t)-1):e.delete(t)},clear:()=>{e.clear()},check:t=>e.has(t),get types(){return Array.of(...e.keys())}}})(),E9=G.div(S9||(S9=Y([`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),ar),yj=G.div(P9||(P9=Y([`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`]))),I9=G.div(C9||(C9=Y([`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`]))),bj=G.div(O9||(O9=Y([`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`]))),T9=G.button(j9||(j9=Y([`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`]))),A9={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},z9=G.div(D9||(D9=Y([`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: `,`;
  }
`])),({type:e})=>A9[e]),yy=e=>(t,r,o=[],a=!1)=>{(a||!vy.check({title:t,message:r}))&&(vy.add({title:t,message:r}),bS.add(e),hS.custom(s=>an.default.createElement(E9,null,an.default.createElement(z9,{type:e}),an.default.createElement(I9,null,an.default.createElement(yj,null,t),an.default.createElement(bj,{dangerouslySetInnerHTML:{__html:Lt.parse(r)}}),o.length>0&&an.default.createElement(bj,null,an.default.createElement("span",null,"Docs:"," ",o.map((u,c)=>an.default.createElement(an.Fragment,{key:c},c>0&&", ",an.default.createElement("a",{target:"_blank",href:u.url},u.title)))))),an.default.createElement(T9,{onClick:()=>{hS.remove(s.id),vy.delete({title:t,message:r}),bS.delete(e)}},"Close")),{duration:1/0}))},by={warning:yy("warning"),success:yy("success"),info:yy("info"),error:yy("error")},R9=G.div(B9||(B9=Y([`
  display: flex;
  justify-content: `,`;
  gap: 12px;
`])),({align:e})=>e==="center"?"center":"flex-end"),F9=G.button(N9||(N9=Y([`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: `,`;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),ar,({danger:e})=>e?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),U9=G.div(M9||(M9=Y([`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`]))),H9=G.div(V9||(V9=Y([`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`]))),K9=G.div(L9||(L9=Y([`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`]))),W9=()=>{let{hasNotifications:e}=wj();return hg({enabled:!e},()=>an.default.createElement(vj,null,an.default.createElement(K9,null,an.default.createElement(yj,null,"No notifications"),"Notifications will appear here when you get them.")))},q9=()=>{var e;let{toasts:t,handlers:r}=pj(),{startPause:o,endPause:a}=r,s=(e=Gt(ve().atomP.ahistoric.pinNotifications))!=null?e:!1;return an.default.createElement(U9,null,s?t.length>0&&an.default.createElement(H9,{onMouseEnter:o,onMouseLeave:a},an.default.createElement("div",null,t.map(u=>an.default.createElement("div",{key:u.id},u.message(u))))):null,an.default.createElement(R9,{align:"side"},s&&t.length>0&&an.default.createElement(F9,{onClick:()=>{bS.clear(),vy.clear(),hS.remove()},danger:!0},"Clear")))},wj=()=>{let{toasts:e}=pj();return{hasNotifications:e.length>0}}});function _j(e,t){var r;let o=Object.values((r=(0,$9.val)(e.pointers.historic.sheetsById))!=null?r:{}),a=o.flatMap(u=>{var c;return Object.values((c=u==null?void 0:u.staticOverrides.byObject)!=null?c:{})}).flatMap(u=>Object.values(u??{})),s=[...o.flatMap(u=>{var c,f;return Object.values((f=(c=u==null?void 0:u.sequence)==null?void 0:c.tracksByObject)!=null?f:{})}).flatMap(u=>{var c;return Object.values((c=u==null?void 0:u.trackData)!=null?c:{})}).flatMap(u=>u==null?void 0:u.keyframes).map(u=>u==null?void 0:u.value)];return a.forEach(u=>{Cn(u,c=>{s.push(c)},[])}),s.filter(u=>(u==null?void 0:u.type)&&typeof(u==null?void 0:u.type)=="string").map(u=>u.id).filter((u,c,f)=>u!==null&&u!==""&&f.indexOf(u)===c)}var $9,G9=I(()=>{$9=rt(),yn()});function Z9(e,t){let r=new File([e],t),o=URL.createObjectURL(r),a=Object.assign(document.createElement("a"),{href:o,target:"_blank",rel:"noopener"});a.setAttribute("download",t),a.click(),setTimeout(()=>{URL.revokeObjectURL(o)},4e4)}var li,X9,Y9,Q9,J9,e7,t7,r7,n7,o7,Noe=I(()=>{ut(),cs(),ls(),li=oe(pe()),Re(),_M(),Ioe(),X9=oe(Ooe()),wy(),G9(),Q9=G.div(Y9||(Y9=Y([""]))),e7=G.div(J9||(J9=Y([`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`]))),r7=G(us)(t7||(t7=Y([`
  display flex;
  flex-direction: column;
  gap: 1em;
  width: 280px;
  padding: 1em;
`]))),n7=({projects:e})=>{let t=e[0],r=t.address.projectId,o=r.replace(/[^\w\d'_\-]+/g," ").trim(),a="".concat(o,".theatre-project-state.json"),[s,u]=(0,li.useState)(!1),c=(0,li.useCallback)(()=>Cr(void 0,null,function*(){var h,y;let _=_j(t),w=new Map;try{yield Promise.all(_.map(x=>Cr(void 0,null,function*(){let k=t.assetStorage.getAssetUrl(x),E=yield fetch(k);E.ok&&w.set(x,yield E.blob())})))}catch{by.error("Failed to access assets","Export aborted. Failed to access assets at ".concat((y=(h=t.config.assets)==null?void 0:h.baseUrl)!=null?y:"/",". This is likely due to a CORS issue."));return}if(w.size>0){let x=new X9.default;for(let[E,C]of w)x.file(E,C);let k=yield x.generateAsync({type:"blob"});Z9(k,"".concat(o,".assets.zip"))}let v=JSON.stringify(ve().createContentOfSaveFile(t.address.projectId),null,2);Z9(v,a),u(!0),setTimeout(()=>{u(!1)},2e3)}),[t,a]),f=ss({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>li.default.createElement(r7,null,li.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),li.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),li.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return li.default.createElement(li.default.Fragment,null,f.node,li.default.createElement(Q9,null,li.default.createElement(KM,{projectId:r}),li.default.createElement(e7,null,li.default.createElement(uS,{onMouseEnter:h=>f.open(h,h.target),onClick:s?void 0:c,disabled:s},s?"(Exported)":"Export ".concat(r," to JSON")))))},o7=n7}),ec,i7,a7,s7,l7,u7,c7,d7,f7,p7,h7,Foe=I(()=>{ec=oe(pe()),Re(),N0(),a7=G.div(i7||(i7=Y([`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`]))),l7=G.div(s7||(s7=Y([`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`]))),c7=G.div(u7||(u7=Y([`
  color: rgba(145, 145, 145, 0.8);
`]))),f7=G.a(d7||(d7=Y([`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`]))),p7=()=>ec.default.createElement(a7,null,ec.default.createElement(l7,null,ec.default.createElement(c7,null,ec.default.createElement(U5,null)),ec.default.createElement("div",null,"Please select an object from the ",ec.default.createElement("u",null,"Outline Menu")," to see its properties.")),ec.default.createElement(f7,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),h7=p7});function g7(){let[e,t]=(0,kj.useState)(!1),r=(0,kj.useMemo)(()=>{let o=new Set;return()=>{let a=()=>{o.delete(a),t(o.size>0)};return o.add(a),t(!0),a}},[]);return[e,r]}var kj,m7=I(()=>{kj=oe(pe())}),Tr,vg,v7,y7,wS,b7,xj,w7,Sj,_7,Ej,_y,k7,x7,_S,Zd,Pj=I(()=>{Ku(),xt(),Tr=oe(pe()),Re(),ce(),Pl(),ur(),Eoe(),Noe(),ut(),iz(),vg=rt(),Foe(),m7(),Wd(),v7="32px",wS=G.div(y7||(y7=Y([`
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: `,`;

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: `,`;

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),ar,Qh.propsPanel,({pin:e})=>e?"block":"none"),xj=G.div(b7||(b7=Y([`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  `,`;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`])),ar),Sj=G.div(w7||(w7=Y([`
  height: `,`;
  display: flex;
  align-items: center;
`])),v7),Ej=G.div(_7||(_7=Y([`
  `,`;
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`])),ar),_y=(0,Tr.createContext)([!1,()=>()=>{}]),k7=e=>{let t=Gt(ve().atomP.ahistoric.pinDetails)!==!1,r=oz("right");(0,Tr.useLayoutEffect)(()=>{_S.set(r)},[r]),(0,Tr.useEffect)(()=>()=>{Zd.set(!1),_S.set(!1)},[]);let[o]=(0,Tr.useContext)(_y),a=t||r||o,[s,u]=(0,Tr.useState)(null);return HN(s),Wt(()=>{let c=Lu(),f=c.find(yr);if(f)return Tr.default.createElement(wS,{"data-testid":"DetailPanel-Object",pin:a,ref:u,onMouseEnter:()=>{Zd.set(!0)},onMouseLeave:()=>{Zd.set(!1)}},Tr.default.createElement(Sj,null,Tr.default.createElement(xj,{title:"".concat(f.sheet.address.sheetId,": ").concat(f.sheet.address.sheetInstanceId," > ").concat(f.address.objectKey)},Tr.default.createElement(Hu,null,f.sheet.address.sheetId," "),Tr.default.createElement(R0,null,":",""),Tr.default.createElement(Hu,null,f.sheet.address.sheetInstanceId," "),Tr.default.createElement(R0,null,""),Tr.default.createElement(Hu,null,f.address.objectKey))),Tr.default.createElement(Ej,null,Tr.default.createElement(yM,{objects:[f]})));let h=c.find(qi);return h?Tr.default.createElement(wS,{pin:a},Tr.default.createElement(Sj,null,Tr.default.createElement(xj,{title:"".concat(h.address.projectId)},Tr.default.createElement(Hu,null,h.address.projectId," "))),Tr.default.createElement(Ej,null,Tr.default.createElement(o7,{projects:[h]}))):Tr.default.createElement(wS,{pin:a,onMouseEnter:()=>{Zd.set(!0)},onMouseLeave:()=>{Zd.set(!1)}},Tr.default.createElement(h7,null))},[a])},x7=()=>{let e=g7();return Tr.default.createElement(_y.Provider,{value:e},Tr.default.createElement(k7,null))},_S=new vg.Atom(!1),Zd=new vg.Atom(!1),(0,vg.prism)(()=>{let e=(0,vg.val)(Zd.prism),t=(0,vg.val)(_S.prism);return e||t})}),Cj,kS,xS,Ij,yg,S7,Oj,bg=I(()=>{Cj=rt(),xt(),ut(),m7(),kS=oe(pe()),AO(),xS=(e,t)=>{let r=e.left/t.width,o=(e.left+e.width)/t.width,a=e.top/t.height,s=(e.height+e.top)/t.height;return{edges:{left:r<=.5?{from:"screenLeft",distance:r}:{from:"screenRight",distance:1-r},right:o<=.5?{from:"screenLeft",distance:o}:{from:"screenRight",distance:1-o},top:a<=.5?{from:"screenTop",distance:a}:{from:"screenBottom",distance:1-a},bottom:s<=.5?{from:"screenTop",distance:s}:{from:"screenBottom",distance:1-s}}}},Ij=kS.default.createContext(null),yg=()=>(0,kS.useContext)(Ij),S7=({panelId:e,children:t,defaultPosition:r,minDims:o})=>{let a=Vx(800,200),[s,u]=g7(),{stuff:c}=Wt(()=>{var f;let{edges:h}=(f=(0,Cj.val)(ve().atomP.historic.panelPositions[e]))!=null?f:r,y=Math.floor(a.width*(h.left.from==="screenLeft"?h.left.distance:1-h.left.distance)),_=Math.floor(a.width*(h.right.from==="screenLeft"?h.right.distance:1-h.right.distance)),w=Math.floor(a.height*(h.top.from==="screenTop"?h.top.distance:1-h.top.distance)),v=Math.floor(a.height*(h.bottom.from==="screenTop"?h.bottom.distance:1-h.bottom.distance)),x=Math.max(_-y,o.width),k=Math.max(v-w,o.height);return{stuff:{dims:Cj.prism.memo("dims",()=>({width:x,left:y,top:w,height:k}),[x,y,w,k]),panelId:e,minDims:o,boundsHighlighted:s,addBoundsHighlightLock:u}}},[e,a,s,u]);return kS.default.createElement(Ij.Provider,{value:c},t)},Oj=S7}),ky,E7,P7,C7,jj,I7=I(()=>{lr(),ut(),hn(),ky=oe(pe()),Re(),bg(),si(),nn(),Pl(),P7=G.div(E7||(E7=Y([`
  cursor: move;
`]))),C7=e=>{let t=yg(),r=(0,ky.useRef)(t);r.current=t;let[o,a]=rr(null),s=(0,ky.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let h=r.current,y,_=t.addBoundsHighlightLock();return{onDrag(w,v){let x=Pe(re({},h.dims),{top:Ir(h.dims.top+v,0,window.innerHeight-ns),left:Ir(h.dims.left+w,-h.dims.width+ns,window.innerWidth-ns)}),k=xS(x,{width:window.innerWidth,height:window.innerHeight});y==null||y.discard(),y=ve().tempTransaction(({stateEditors:E})=>{E.studio.historic.panelPositions.setPanelPosition({position:k,panelId:h.panelId})})},onDragEnd(w){_(),w?y==null||y.commit():y==null||y.discard()}}}}),[]),[u]=Wr(a,s);Oi(u,"dragging","move");let[c,f]=(0,ky.useMemo)(()=>{let h;return[function(){if(h){let y=h;h=void 0,y()}h=t.addBoundsHighlightLock()},function(){if(h){let y=h;h=void 0,y()}}]},[]);return ky.default.createElement(P7,Pe(re({},e),{ref:o,onMouseEnter:c,onMouseLeave:f}))},jj=C7}),SS,O7,Tj,j7,Aj,T7,Dj,A7,D7,z7,B7,R7,zj,N7,F7,M7,U7,V7,xy,H7,L7,K7,W7,q7,$7,G7,Z7,X7,Bj,Y7,Bl,Moe=I(()=>{lr(),ut(),hn(),ai(),SS=oe(pe()),Re(),bg(),ur(),nn(),Pl(),Tj=G.div(O7||(O7=Y([`
  position: absolute;
  `,`;
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: `,`; */
  }

  &:hover {
    opacity: 1;
  }
`])),ar,Kh(.2,"#478698")),Aj=G(Tj)(j7||(j7=Y([`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`]))),Dj=G(Aj)(T7||(T7=Y([`
  left: 0px;
  right: 0px;
  height: 1px;
`]))),D7=G(Dj)(A7||(A7=Y([`
  top: -1px;
`]))),B7=G(Dj)(z7||(z7=Y([`
  bottom: -1px;
`]))),zj=G(Aj)(R7||(R7=Y([`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`]))),F7=G(zj)(N7||(N7=Y([`
  left: -1px;
`]))),U7=G(zj)(M7||(M7=Y([`
  right: -1px;
`]))),xy=G(Tj)(V7||(V7=Y([`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`]))),L7=G(xy)(H7||(H7=Y([`
  top: 0;
  left: 0;
`]))),W7=G(xy)(K7||(K7=Y([`
  top: 0;
  right: 0;
`]))),$7=G(xy)(q7||(q7=Y([`
  bottom: 0;
  left: 0;
`]))),Z7=G(xy)(G7||(G7=Y([`
  bottom: 0;
  right: 0;
`]))),X7={Top:D7,TopLeft:L7,TopRight:W7,Bottom:B7,BottomLeft:$7,BottomRight:Z7,Left:F7,Right:U7},Bj={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},Y7=({which:e})=>{let t=yg(),r=(0,SS.useRef)(t);r.current=t;let[o,a]=rr(null),s=(0,SS.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:Bj[e],onDragStart(){let h,y=r.current,_=t.addBoundsHighlightLock();return{onDrag(w,v){let x=re({},y.dims);if(e.startsWith("Bottom"))x.height=Math.max(x.height+v,y.minDims.height);else if(e.startsWith("Top")){let E=x.top+x.height,C=Ir(x.top+v,0,Math.min(E-y.minDims.height,window.innerHeight-ns)),j=E-C;x.height=j,x.top=C}if(e.endsWith("Left")){let E=x.left+x.width,C=Math.min(x.left+w,Math.min(E-y.minDims.width,window.innerWidth-ns)),j=E-C;x.width=j,x.left=C}else e.endsWith("Right")&&(x.width=Math.max(x.width+w,Math.max(y.minDims.width,ns-y.dims.left)));let k=xS(x,{width:window.innerWidth,height:window.innerHeight});h==null||h.discard(),h=ve().tempTransaction(({stateEditors:E})=>{E.studio.historic.panelPositions.setPanelPosition({position:k,panelId:y.panelId})})},onDragEnd(w){_(),w?h==null||h.commit():h==null||h.discard()}}}}),[e]),[u]=Wr(a,s),c=X7[e],f=e.length<=6;return SS.default.createElement(c,{ref:o,className:[u?"isDragging":"",t.boundsHighlighted&&f?"isHighlighted":""].join(" "),style:{cursor:Bj[e]}})},Bl=Y7}),_a,Q7,J7,Uoe=I(()=>{_a=oe(pe()),Moe(),Q7=e=>_a.default.createElement(_a.default.Fragment,null,_a.default.createElement(Bl,{which:"Bottom"}),_a.default.createElement(Bl,{which:"Top"}),_a.default.createElement(Bl,{which:"Left"}),_a.default.createElement(Bl,{which:"Right"}),_a.default.createElement(Bl,{which:"TopLeft"}),_a.default.createElement(Bl,{which:"TopRight"}),_a.default.createElement(Bl,{which:"BottomLeft"}),_a.default.createElement(Bl,{which:"BottomRight"})),J7=Q7}),ES,eU,tU,rU,Rj,nU=I(()=>{ur(),ES=oe(pe()),Re(),bg(),Uoe(),tU=G.div(eU||(eU=Y([`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  `,`;
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`])),ar),rU=ES.default.forwardRef((e,t)=>{let r=yg(),o=e,{style:a,children:s}=o,u=fr(o,["style","children"]);return ES.default.createElement(tU,Pe(re({ref:t},u),{style:re({width:r.dims.width+"px",height:r.dims.height+"px",top:r.dims.top+"px",left:r.dims.left+"px"},a??{})}),ES.default.createElement(J7,null),s)}),Rj=rU}),Voe=vt((e,t)=>{(function(r,o){typeof e=="object"&&typeof t<"u"?o(e,pe()):(r=typeof globalThis<"u"?globalThis:r||self,o(r.ReactErrorBoundary={},r.React))})(e,function(r,o){function a(v){if(v&&v.__esModule)return v;var x=Object.create(null);return v&&Object.keys(v).forEach(function(k){if(k!=="default"){var E=Object.getOwnPropertyDescriptor(v,k);Object.defineProperty(x,k,E.get?E:{enumerable:!0,get:function(){return v[k]}})}}),x.default=v,Object.freeze(x)}var s=a(o);function u(v,x){return u=Object.setPrototypeOf||function(k,E){return k.__proto__=E,k},u(v,x)}function c(v,x){v.prototype=Object.create(x.prototype),v.prototype.constructor=v,u(v,x)}var f=function(v,x){return v===void 0&&(v=[]),x===void 0&&(x=[]),v.length!==x.length||v.some(function(k,E){return!Object.is(k,x[E])})},h={error:null},y=function(v){c(x,v);function x(){for(var E,C=arguments.length,j=new Array(C),D=0;D<C;D++)j[D]=arguments[D];return E=v.call.apply(v,[this].concat(j))||this,E.state=h,E.updatedWithError=!1,E.resetErrorBoundary=function(){for(var M,F=arguments.length,L=new Array(F),te=0;te<F;te++)L[te]=arguments[te];E.props.onReset==null||(M=E.props).onReset.apply(M,L),E.reset()},E}x.getDerivedStateFromError=function(E){return{error:E}};var k=x.prototype;return k.reset=function(){this.updatedWithError=!1,this.setState(h)},k.componentDidCatch=function(E,C){var j,D;(j=(D=this.props).onError)==null||j.call(D,E,C)},k.componentDidMount=function(){var E=this.state.error;E!==null&&(this.updatedWithError=!0)},k.componentDidUpdate=function(E){var C=this.state.error,j=this.props.resetKeys;if(C!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(C!==null&&f(E.resetKeys,j)){var D,M;(D=(M=this.props).onResetKeysChange)==null||D.call(M,E.resetKeys,j),this.reset()}},k.render=function(){var E=this.state.error,C=this.props,j=C.fallbackRender,D=C.FallbackComponent,M=C.fallback;if(E!==null){var F={error:E,resetErrorBoundary:this.resetErrorBoundary};if(s.isValidElement(M))return M;if(typeof j=="function")return j(F);if(D)return s.createElement(D,F);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},x}(s.Component);function _(v,x){var k=function(C){return s.createElement(y,x,s.createElement(v,C))},E=v.displayName||v.name||"Unknown";return k.displayName="withErrorBoundary("+E+")",k}function w(v){var x=s.useState(null),k=x[0],E=x[1];if(v!=null)throw v;if(k!=null)throw k;return E}r.ErrorBoundary=y,r.useErrorHandler=w,r.withErrorBoundary=_,Object.defineProperty(r,"__esModule",{value:!0})})}),Kn,oU,iU,aU,sU,lU,uU,cU,dU,fU,pU,hU,gU,mU,vU,yU,bU,wU,_U,kU,Hoe=I(()=>{Kn=oe(pe()),Re(),Pl(),bg(),I7(),nU(),oU=oe(Voe()),ag(),ut(),Pl(),iU={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},aU={width:300,height:300},sU=({paneInstance:e})=>Kn.default.createElement(Oj,{panelId:"pane-".concat(e.instanceId),defaultPosition:iU,minDims:aU},Kn.default.createElement(_U,{paneInstance:e})),uU=G(Rj)(lU||(lU=Y([`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: `,`;
`])),Qh.pluginPanes),dU=G.div(cU||(cU=Y([`
  width: 100%;
`]))),pU=G.div(fU||(fU=Y([`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`]))),gU=G.button(hU||(hU=Y([`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`]))),vU=G(n8)(mU||(mU=Y([`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`]))),bU=G.div(yU||(yU=Y([`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`]))),wU=e=>Kn.default.createElement(bU,null,"An Error occurred rendering this pane. Open the console for more info.",Kn.default.createElement("pre",null,JSON.stringify({message:e.error.message,stack:e.error.stack},null,2))),_U=({paneInstance:e})=>{let[t,r]=(0,Kn.useState)(null),o=e.definition.mount;(0,Kn.useLayoutEffect)(()=>{if(!t)return;let s=o({paneId:e.instanceId,node:t});if(typeof s=="function")return s},[t,o,e.instanceId]);let a=(0,Kn.useCallback)(()=>{ve().paneManager.destroyPane(e.instanceId)},[e]);return Kn.default.createElement(uU,{"data-testid":"theatre-pane-wrapper-".concat(e.instanceId)},Kn.default.createElement(jj,null,Kn.default.createElement(F5,null,Kn.default.createElement(pU,null,Kn.default.createElement(gU,{onClick:a,title:"Close Pane"},Kn.default.createElement(Wre,null))),Kn.default.createElement(dU,null,e.instanceId))),Kn.default.createElement(oU.ErrorBoundary,{FallbackComponent:wU},Kn.default.createElement(vU,{"data-testid":"theatre-pane-content-".concat(e.instanceId),ref:r})))},kU=sU}),Nj,Fj,xU=I(()=>{Nj=rt(),Fj=(e,t)=>{let r=Nj.prism.memo(e,()=>new Nj.Atom(t),[]);return r.set(t),r}});function SU(e,t){(0,EU.useLayoutEffect)(()=>{if(!e||t.type!=="propWithChildren"&&t.type!=="primitiveProp"&&t.type!=="sheetObject")return;let r=null,o=Pe(re({},t.sheetObject.address),{pathToProp:t.type==="sheetObject"?[]:t.pathToProp});function a(){r=oS.replaceLock(o,()=>{})}function s(){r==null||r()}return e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",s),()=>{r==null||r(),e.removeEventListener("mouseenter",a),e.removeEventListener("mouseleave",s)}},[e])}var EU,PU=I(()=>{EU=oe(pe()),rj()}),tc,CU,Mj,IU,Uj,OU,Vj,jU,TU,AU,DU,zU,BU,RU,PS,CS=I(()=>{ur(),tc=oe(pe()),ag(),Re(),Ld(),PU(),Mj=G.li(CU||(CU=Y([`
  --depth: `,`;
  margin: 0;
  padding: 0;
  list-style: none;
`])),e=>e.depth),Uj=G.div(IU||(IU=Y([`
  border-bottom: 1px solid #7695b705;
`]))),Vj=G(Uj)(OU||(OU=Y([`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: `,`;

  box-sizing: border-box;

  `,`;
`])),Yh.panel.body.compoudThing.label.color,e=>e.isSelected&&"background: blue"),TU=G.span(jU||(jU=Y([`
  `,`;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  `,`:hover & {
    color: #ccc;
  }
`])),Zu,Vj),DU=G.span(AU||(AU=Y([`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>e.isCollapsed?15:75),BU=G.ul(zU||(zU=Y([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),RU=({leaf:e,label:t,children:r,isSelectable:o,isSelected:a,toggleSelect:s,toggleCollapsed:u,isCollapsed:c})=>{let f=Array.isArray(r)&&r.length>0,h=(0,tc.useRef)(null);return SU(h.current,e),e.shouldRender?tc.default.createElement(Mj,{depth:e.depth},tc.default.createElement(Vj,{ref:h,style:{height:e.nodeHeight+"px"},isSelectable:o===!0,isSelected:a===!0,onClick:s,isEven:e.n%2===0},tc.default.createElement(DU,{isCollapsed:c,onClick:u},tc.default.createElement(Xz,null)),tc.default.createElement(TU,null,t)),f&&tc.default.createElement(BU,null,r)):null},PS=RU});function Loe(e,t){return t.every((r,o)=>r===e[o])}function Koe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function IS(e){var t;let r=[];for(;;){let o=r.length,a=(t=e[0])==null?void 0:t[o];if(a===void 0)return r;for(let s of e)if(a!==s[o])return r;r.push(a)}}var hs,OS,gs=I(()=>{Kx(),hs=X0(e=>JSON.stringify(e)),OS=e=>JSON.parse(e)});function Woe(e,t){let r=(0,Hj.useRef)({combo:e,listener:t});r.current={combo:e,listener:t},(0,Hj.useEffect)(()=>{function o(u){u.key===r.current.combo&&r.current.listener({down:!0,event:u})}function a(u){u.key===r.current.combo&&r.current.listener({down:!1,event:u})}function s(u){r.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",o),document.addEventListener("keyup",a),window.addEventListener("blur",s),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",a),window.removeEventListener("blur",s)}},[])}var Hj,qoe=I(()=>{Hj=oe(pe())});function NU(e){let[t,r]=(0,FU.useState)(!1);return Woe(e,({down:o})=>{r(o)}),t}var FU,MU=I(()=>{FU=oe(pe()),qoe()});function $oe(e){let t=(0,Lj.useMemo)(()=>new UU.Atom(e),[]);return(0,Lj.useLayoutEffect)(()=>{t.set(e)},[e]),t}var UU,Lj,Goe=I(()=>{UU=rt(),Lj=oe(pe())});function VU(e,t,r){let o=(0,Kj.pointer)({root:{},path:[]}),a=t(o);pl(e,(0,Kj.getPointerParts)(a).path,r)}var Kj,Zoe=I(()=>{Kj=rt(),Ch()}),jS,HU,So,ka=I(()=>{jS="data-pos",HU={checkIfMouseEventSnapToPos(e,t){let r=e.composedPath().find(o=>o instanceof Element&&o!==(t==null?void 0:t.ignore)&&o.hasAttribute(jS));if(r){let o=parseFloat(r.getAttribute(jS));if(isFinite(o))return o}return null},includePositionSnapAttrs(e){return{[jS]:e}}},So=HU});function TS(e){let t=e.type==="sheet"?Yoe(e):Wj(e);return{byPosition:Xoe(t),tracks:t}}function Xoe(e){let t=new Map;for(let r of e)for(let o of r.data.keyframes){let a=t.get(o.position);a||(a=[],t.set(o.position,a)),a.push({kf:o,track:r,itemKey:xn.forTrackKeyframe(r.sheetObject,r.id,o.id)})}return t}function Yoe(e){return e.children.flatMap(Wj)}function Wj(e){return e.children.flatMap(t=>t.type==="propWithChildren"?Wj(t):Qoe(t))}function Qoe(e){let t=e.sheetObject,r=t.address.projectId,o=ve().atomP.historic.coreByProject[r].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey],a=(0,AS.val)(o.trackIdByPropPath[hs(e.pathToProp)]);if(!a)return[];let s=(0,AS.val)(o.trackData[a]);return s?[{id:a,data:s,sheetObject:t}]:[]}function Joe(e,t){return Ya(e.children.flatMap(r=>qj(r,t)))}function qj(e,t){return Ya(e.children.flatMap(r=>r.type==="propWithChildren"?qj(r,t):eie(r,t)))}function eie(e,t){var r,o;let a=e.sheetObject,s=a.address.projectId,u=ve().atomP.historic.coreByProject[s].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey],c=(0,AS.val)(u.trackIdByPropPath[hs(e.pathToProp)]);return c?(o=(r=t[a.address.objectKey])==null?void 0:r[c])!=null?o:[]:[]}var AS,wg=I(()=>{ut(),AS=rt(),Dl(),gs(),nn()});function tie(e,t){let[r,o]=rr(null),a=Wu("useCaptureSelection");return Wr(t,(0,_g.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(s){if(!s.shiftKey||s.target instanceof HTMLInputElement)return!1;let u=t.getBoundingClientRect(),c=s.clientX-u.left-(0,Ti.val)(e.scaledSpace.leftPadding),f=(0,Ti.val)(e.scaledSpace.toUnitSpace)(c);return r.current={h:[f,f],v:[s.clientY-u.top,s.clientY-u.top]},(0,Ti.val)(e.selectionAtom).set({current:void 0}),{onDrag(h,y,_){let w=t.getBoundingClientRect(),v=_.clientX-w.left-(0,Ti.val)(e.scaledSpace.leftPadding),x=(0,Ti.val)(e.scaledSpace.toUnitSpace)(v);r.current={h:[r.current.h[0],x],v:[r.current.v[0],_.clientY-w.top]};let k=$j.boundsToSelection(a,(0,Ti.val)(e),r.current);(0,Ti.val)(e.selectionAtom).set({current:k})},onDragEnd(h){r.current=null}}}}),[e,t,r])),o}var Ti,_g,rc,LU,KU,WU,$j,qU,$U,Gj,GU,ZU,rie=I(()=>{ut(),hn(),MU(),Goe(),Zoe(),lr(),xt(),Ti=rt(),_g=oe(pe()),Re(),ka(),wg(),qu(),rc=5,KU=G.div(LU||(LU=Y([`
  cursor: `,`;
`])),e=>e.isShiftDown?"cell":"default"),WU=({layoutP:e,children:t,height:r})=>{let[o,a]=rr(null),s=NU("Shift"),u=tie(e,a),c=(0,_g.useRef)(u);return c.current=u,_g.default.createElement(KU,{style:{height:r+"px"},ref:o,isShiftDown:s,className:"selectionview"},u&&_g.default.createElement(GU,{state:u,layoutP:e}),t)},(e=>{let t=(u,c,f,h,y)=>{let _=TS(f);if(f.top+f.nodeHeight/2+rc>h.v[0]&&f.top+f.nodeHeight/2-rc<h.v[1])for(let[w,v]of _.byPosition){let x=c.scaledSpace.toUnitSpace(rc);if(!(w+x<=h.h[0]||w-x>=h.h[1]))for(let k of v)VU(y,E=>E[k.track.sheetObject.address.objectKey].byTrackId[k.track.id].byKeyframeId[k.kf.id],!0)}o(u,c,f,h,y)},r={sheet(u,c,f,h,y){t(u,c,f,h,y)},propWithChildren(u,c,f,h,y){t(u,c,f,h,y)},sheetObject(u,c,f,h,y){t(u,c,f,h,y)},primitiveProp(u,c,f,h,y){let{sheetObject:_,trackId:w}=f,v=(0,Ti.val)(ve().atomP.historic.coreByProject[_.address.projectId].sheetsById[_.address.sheetId].sequence.tracksByObject[_.address.objectKey].trackData[w]);if(!(h.v[0]>f.top+f.heightIncludingChildren/2+rc||f.top+f.heightIncludingChildren/2-rc>h.v[1])){for(let x of v.keyframes)if(!(x.position+c.scaledSpace.toUnitSpace(rc)<=h.h[0])){if(x.position-c.scaledSpace.toUnitSpace(rc)>=h.h[1])break;VU(y,k=>k[_.address.objectKey].byTrackId[w].byKeyframeId[x.id],!0)}}}},o=(u,c,f,h,y)=>{if("children"in f)for(let _ of f.children)a(u,c,_,h,y)};function a(u,c,f,h,y){if(!f.shouldRender||h.v[0]>f.top+f.heightIncludingChildren||f.top>h.v[1])return;let _=r[f.type];_?_(u,c,f,h,y):o(u,c,f,h,y)}function s(u,c,f){let h={};f=Gj(f);let y=c.tree;a(u.utilFor.internal(),c,y,f,h);let _=c.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:h,getDragHandlers(w){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let v,x=c.scaledSpace.toUnitSpace;return{onDrag(k,E,C){v&&(v.discard(),v=void 0);let j=So.checkIfMouseEventSnapToPos(C,{ignore:w.domNode}),D=j!=null?j-w.positionAtStartOfDrag:x(k);v=ve().tempTransaction(({stateEditors:M})=>{let F=M.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let L of Object.keys(h)){let{byTrackId:te}=h[L];for(let se of Object.keys(te)){let{byKeyframeId:Z}=te[se];F({trackId:se,keyframeIds:Object.keys(Z),translate:D,scale:1,origin:0,snappingFunction:_.getSequence().closestGridPosition,objectKey:L,projectId:w.projectId,sheetId:w.sheetId})}}})},onDragEnd(k){k?v==null||v.commit():v==null||v.discard()}}}}},delete(){ve().transaction(({stateEditors:w})=>{let v=w.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let x of Object.keys(h)){let{byTrackId:k}=h[x];for(let E of Object.keys(k)){let{byKeyframeId:C}=k[E];v(Pe(re({},_.address),{objectKey:x,trackId:E,keyframeIds:Object.keys(C)}))}}})}}}e.boundsToSelection=s})($j||($j={})),$U=G.div(qU||(qU=Y([`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`]))),Gj=e=>({h:[...e.h].sort((t,r)=>t-r),v:[...e.v].sort((t,r)=>t-r)}),GU=({state:e,layoutP:t})=>{let r=$oe(e);return Wt(()=>{let o=(0,Ti.val)(r.pointer),a=Gj(o),s=(0,Ti.val)(t.scaledSpace.fromUnitSpace),u=(0,Ti.val)(t.scaledSpace.leftPadding),c=a.h.map(s).map(w=>w+u),f=a.v[0],h=a.v[1]-a.v[0],y=c[0],_=c[1]-c[0];return _g.default.createElement($U,{style:{top:f+"px",height:h+"px",left:y+"px",width:_+"px"}})},[t,r])},ZU=WU}),Xd,XU,YU,Zj,QU,JU,eV,tV=I(()=>{Jh(),Xd=oe(pe()),Re(),Ll(),YU=G.div(XU||(XU=Y([`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: `,`;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`])),()=>Es.scrollableArea),Zj=(0,Xd.createContext)(ga),QU=()=>(0,Xd.useContext)(Zj),JU=e=>{let t=(0,Xd.useRef)(null),r=(0,Xd.useCallback)(o=>{t.current.scrollBy(0,o.deltaY)},[]);return Xd.default.createElement(Zj.Provider,{value:r},Xd.default.createElement(YU,{ref:t},e.children))},eV=JU}),rV,nie=I(()=>{rV='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'}),Ai,DS=I(()=>{Ai=(e,t=e)=>`
  left: `.concat(e*-.5,`px;
  top: `).concat(t*-.5,`px;
  width: `).concat(e,`px;
  height: `).concat(t,`px;
`)}),zS,nV,oV,oie=I(()=>{zS=rt(),nV=(0,zS.prism)(()=>{let[e,t]=zS.prism.state("pos",null);return zS.prism.effect("setupListeners",()=>{let r=o=>{t(o)};return document.addEventListener("mousemove",r),()=>{document.removeEventListener("mousemove",r)}},[]),e}),oV=nV}),Rl,Eo,Sy,iV,aV,sV,lV,Nl,ms,BS,uV,cV,Wn=I(()=>{Rl=rt(),oie(),nn(),Eo=oe(pe()),Sy=(0,Eo.createContext)(null),iV=0,aV=({children:e,layoutP:t})=>{let r=(0,Eo.useMemo)(()=>new Rl.Atom([]),[]),o=(0,Eo.useMemo)(()=>(0,Rl.prism)(()=>{let u=Rl.prism.memo("p",()=>uV(t),[t]).getValue(),c=(0,Rl.val)(r.pointer);return c.length>0?dl(c).position:u}),[t]),a=(0,Eo.useCallback)(()=>{let u=iV++;return r.reduce(c=>[...c,{id:u,position:[-1,0]}]),{set:c=>{r.reduce(f=>{let h=f.findIndex(_=>_.id===u);if(h===-1)return console.warn("Lock is already freed. This is a bug."),f;let y=[...f];return y.splice(h,1,{id:u,position:[c,c===-1?0:1]}),y})},unlock:()=>{r.reduce(c=>c.filter(f=>f.id!==u))}}},[]),s={currentD:o,getLock:a};return Eo.default.createElement(Sy.Provider,{value:s},e)},sV=()=>(0,Eo.useContext)(Sy).currentD,lV=()=>{let{getLock:e}=(0,Eo.useContext)(Sy),t=(0,Eo.useRef)();return(0,Eo.useLayoutEffect)(()=>()=>{var r;(r=t.current)==null||r.unlock()},[]),(0,Eo.useMemo)(()=>{let r;return(o,a)=>{var s,u;(r==null?void 0:r.shouldLock)!==o&&(o?t.current=e():(s=t.current)==null||s.unlock()),(r==null?void 0:r.pos)!==a&&o&&((u=t.current)==null||u.set(a)),r={shouldLock:o,pos:a}}},[e])},Nl=(e,t)=>{let{getLock:r}=(0,Eo.useContext)(Sy),o=(0,Eo.useRef)();(0,Eo.useLayoutEffect)(()=>{if(e)return o.current=r(),()=>{o.current.unlock()}},[e,r]),(0,Eo.useLayoutEffect)(()=>{e&&o.current.set(t)},[t,e])},ms=e=>({[BS]:e==="hide"?e:e.toFixed(3)}),BS="data-theatre-lock-framestamp-to",uV=e=>(0,Rl.prism)(()=>{let t=(0,Rl.val)(e.rightDims),r=(0,Rl.val)(e.clippedSpace.toUnitSpace),o=(0,Rl.val)(oV);if(!o)return[-1,0];for(let y of o.composedPath()){if(!(y instanceof HTMLElement||y instanceof SVGElement))break;if(y.hasAttribute(BS)){let _=y.getAttribute(BS);if(typeof _!="string")continue;if(_==="hide")return[-1,0];let w=parseFloat(_);if(isFinite(w)&&w>=0)return[w,2]}}let{clientX:a,clientY:s}=o,{screenX:u,screenY:c,width:f,height:h}=t;if(ia(a,u,u+f)&&ia(s,c+16,c+h)){let y=a-u;return[r(y),3]}else return[-1,0]}),cV=aV}),dV,Ey,Xj,fV,pV,vs,hV=I(()=>{ur(),si(),Re(),nie(),DS(),ka(),Wn(),dV=12,Ey=34,Xj="beingDragged",vs={BEING_DRAGGED_CLASS:Xj,CSS:Mn(fV||(fV=Y([`
    position: absolute;
    `,`;
    `,`;

    &.`,` {
      pointer-events: none !important;
    }
  `])),Ai(dV),ar,Xj),CSS_WHEN_SOMETHING_DRAGGING:Mn(pV||(pV=Y([`
    pointer-events: auto;
    cursor: var(`,`);

    //  thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - `,`px);
      left: calc(50% - `,`px);
      width: `,`px;
      height: `,`px;
      display: block;
      content: ' ';
      background: url(`,`) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `])),Il,Ey/2,Ey/2,Ey,Ey,rV),reactProps(e){return Pe(re(re({},ms(e.position)),So.includePositionSnapAttrs(e.position)),{className:e.isDragging?vs.BEING_DRAGGED_CLASS:""})}}});function Yj(){Cy.set({mode:"snapToAll"})}function Yd(){Cy.set({mode:"snapToNone"})}function gV(e){Cy.set({mode:"snapToSome",positions:e})}function mV(e,t){return Object.fromEntries(Object.entries(e).map(([r,o])=>[r,Object.fromEntries(Object.entries(o.trackData).map(([a,s])=>[a,s.keyframes.filter(u=>t(u,{trackId:a,trackData:s,objectKey:r})).map(u=>u.position)]))]))}var vV,yV,Qj,bV,wV,_V,kV,xV,Py,Cy,Jj,Qd=I(()=>{vV=rt(),yV=rt(),Qj=oe(pe()),Re(),hV(),wV=G.div(bV||(bV=Y([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  #pointer-root.draggingPositionInSequenceEditor & {
    `,`
  }
`])),vs.CSS,vs.CSS_WHEN_SOMETHING_DRAGGING),kV=G.div(_V||(_V=Y([`
  position: absolute;
`]))),xV=e=>Qj.default.createElement(kV,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,yV.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(e.position,"px))")}},Qj.default.createElement(wV,re({},vs.reactProps({isDragging:!1,position:e.position})))),Py=xV,Cy=new vV.Atom({mode:"snapToNone"}),Jj=Cy.prism});function iie(e,t){let r=(0,Jd.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(a){if(a.target instanceof HTMLInputElement||a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||a.composedPath().some(_=>_ instanceof HTMLElement&&_.draggable===!0))return!1;let s=a.clientX-t.getBoundingClientRect().left,u=Ir((0,qr.val)(e.clippedSpace.toUnitSpace)(s),0,1/0),c=(0,qr.val)(e.seeker.setIsSeeking),f=(0,qr.val)(e.sheet).getSequence();f.position=u;let h=u,y=(0,qr.val)(e.scaledSpace.toUnitSpace);return c(!0),Yj(),{onDrag(_,w,v){let x=y(_),k=Ir(h+x,0,f.length),E=So.checkIfMouseEventSnapToPos(v,{});E!=null&&(k=E),f.position=k},onDragEnd(){c(!1),Yd()}}}}),[e,t]),[o]=Wr(t,r);Oi(o,"draggingPositionInSequenceEditor","ew-resize")}function aie(e,t){let r=QU();(0,Jd.useLayoutEffect)(()=>{if(!t)return;let o=s=>{if(s.ctrlKey){s.preventDefault(),s.stopPropagation();let u=s.clientX-t.getBoundingClientRect().left,c=(0,qr.val)(e.clippedSpace.toUnitSpace)(u),f=(0,qr.val)(e.clippedSpace.range),h=1+eT(s.deltaY,[-50,50])*.03,y=Za(f,v=>(v-c)*h+c),_=(0,qr.val)(e.sheet).getSequence().length,w=_+_*.25;(0,qr.val)(e.clippedSpace.setRange)(sie(y,[0,w]));return}else if(s.shiftKey){s.preventDefault(),s.stopPropagation();let u=(0,qr.val)(e.sheet).getSequence().length,c=(0,qr.val)(e.clippedSpace.range),f=(c.end-c.start)/u,h=eT(s.deltaY||s.deltaX,[-50,50])*.05*f,y=Za(c,_=>_+h);(0,qr.val)(e.clippedSpace.setRange)(y);return}else{r(s),s.preventDefault(),s.stopPropagation();let u=(0,qr.val)(e.scaledSpace.toUnitSpace)(s.deltaX*1),c=(0,qr.val)(e.clippedSpace.range),f=Za(c,h=>h+u);(0,qr.val)(e.clippedSpace.setRange)(f);return}},a={capture:!0,passive:!1};return t.addEventListener("wheel",o,a),()=>{t.removeEventListener("wheel",o,a)}},[t,e]),Wr(t,(0,Jd.useMemo)(()=>({onDragStart(o){let a=(0,qr.val)(e.clippedSpace.range),s=(0,qr.val)(e.clippedSpace.setRange),u=(0,qr.val)(e.scaledSpace.toUnitSpace);return o.preventDefault(),o.stopPropagation(),{onDrag(c,f,h,y,_){r({deltaY:-_});let w=-u(c),v=Za(a,x=>x+w);s(v)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[e]))}function eT(e,[t,r]){return Math.max(Math.min(e,r),t)}function sie(e,t){return Za(e,r=>eT(r,t))}function lie(e,t){(0,Jd.useLayoutEffect)(()=>{if(!t)return;let r=(0,qr.prism)(()=>{let u=(0,qr.val)(e.clippedSpace.range);return(0,qr.val)(e.scaledSpace.fromUnitSpace)(u.start)}),o=()=>{let u=r.getValue();t.scrollLeft=u},a=r.onStale(o);o();let s=setTimeout(o,100);return()=>{clearTimeout(s),a()}},[e,t])}var qr,Jd,SV,EV,PV,tT,CV=I(()=>{hn(),lr(),xt(),qr=rt(),nn(),Jd=oe(pe()),Re(),tV(),ur(),si(),ka(),Qd(),EV=G.div(SV||(SV=Y([`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  `,`;

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`])),ar),PV=Jd.default.memo(({layoutP:e,children:t,height:r})=>{let{width:o,unitSpaceToScaledSpaceMultiplier:a}=Wt(()=>({width:(0,qr.val)(e.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,qr.val)(e.scaledSpace.fromUnitSpace)(1)}),[e]),[s,u]=rr(null);return aie(e,u),iie(e,u),lie(e,u),Jd.default.createElement(EV,{ref:s,style:{width:o+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":a}},t)}),tT=PV}),RS,IV,OV,jV,TV,AV,DV,zV,kg,NS=I(()=>{RS=oe(pe()),Re(),OV=G.li(IV||(IV=Y([`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`]))),TV=G.div(jV||(jV=Y([`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: `,`;
  }
`])),e=>e.isEven?"transparent":"#6b8fb505"),DV=G.ul(AV||(AV=Y([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),zV=({leaf:e,children:t,node:r,isCollapsed:o})=>{let a=Array.isArray(t)&&t.length>0;return e.shouldRender?RS.default.createElement(OV,null,RS.default.createElement(TV,{style:{height:e.nodeHeight+"px"},isEven:e.n%2===0},r),a&&RS.default.createElement(DV,null,t)):null},kg=zV}),uie=vt((e,t)=>{(function(){var r=this,o={};typeof e<"u"?t.exports=o:r.fuzzy=o,o.simpleFilter=function(a,s){return s.filter(function(u){return o.test(a,u)})},o.test=function(a,s){return o.match(a,s)!==null},o.match=function(a,s,u){u=u||{};var c=0,f=[],h=s.length,y=0,_=0,w=u.pre||"",v=u.post||"",x=u.caseSensitive&&s||s.toLowerCase(),k;a=u.caseSensitive&&a||a.toLowerCase();for(var E=0;E<h;E++)k=s[E],x[E]===a[c]?(k=w+k+v,c+=1,_+=1+_):_=0,y+=_,f[f.length]=k;return c===a.length?(y=x===a?1/0:y,{rendered:f.join(""),score:y}):null},o.filter=function(a,s,u){return!s||s.length===0?[]:typeof a!="string"?s:(u=u||{},s.reduce(function(c,f,h,y){var _=f;u.extract&&(_=u.extract(f));var w=o.match(a,_,u);return w!=null&&(c[c.length]={string:w.rendered,score:w.score,index:h,original:f}),c},[]).sort(function(c,f){var h=f.score-c.score;return h||c.index-f.index}))}})()});function cie(e,t){let[r,o]=(0,FS.useState)(!1),a=(0,FS.useRef)(t);return r||(a.current=t),(0,FS.useMemo)(()=>e(o),a.current)}var FS,die=I(()=>{FS=oe(pe())}),rT,nc,MS=I(()=>{rT="rgba(26, 28, 30, 0.97);",nc="#272B2F"});function BV(e,t,r,o){let a=cie(s=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return s(!0),{onDrag(u,c){e&&r.onCurveChange(o(u,c))},onDragEnd(u){s(!1),r.onCancelCurveChange()}}}}),[e,r.onCurveChange,r.onCancelCurveChange]);Wr(t,a)}var ir,US,Iy,xg,RV,Oy,NV,VS,FV,MV,UV,Sg,VV,ef,HV,LV,nT,KV,HS,WV,oT,qV,$V,fie=I(()=>{ir=oe(pe()),hn(),lr(),_d(),Re(),ur(),die(),MS(),US=.12,Iy=1+US*2,xg=.01,RV=8,Oy=(1-xg)/(RV-1),NV="#3EAAA4",VS="#3EAAA4",FV="#3EAAA4",MV="#3EAAA4",UV="#3EAAA4",Sg="#3EAAA4",VV="#3EAAA4",ef="#B3B3B3",HV="#3eaaa4",LV="#67dfd8",nT=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],HS=G.circle(KV||(KV=Y([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: `,`;
`])),HV),oT=G.circle(WV||(WV=Y([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  `,`;
  &:hover {
    opacity: 0.4;
  }
  &:hover + `,` {
    fill: `,`;
  }
`])),ar,HS,LV),qV=e=>{let{curveConnection:{left:t,right:r},backgroundConnections:o}=e,a=Math.min(0,1-r.handles[1],1-t.handles[3]),s=Math.max(1,1-r.handles[1],1-t.handles[3]),u=Math.max(1,s-a),c=C=>(C-a)/u,[f,h]=rr(null),y=Iy/((h==null?void 0:h.clientWidth)||1),_=Iy/((h==null?void 0:h.clientHeight)||1),[w,v]=rr(null);BV(h,v,e,(C,j)=>{let D=Ir(t.handles[2]+C*y,0,1),M=t.handles[3]-j*_;return[D,M,r.handles[0],r.handles[1]]});let[x,k]=rr(null);BV(h,k,e,(C,j)=>{let D=Ir(r.handles[0]+C*y,0,1),M=r.handles[1]-j*_;return[t.handles[2],t.handles[3],D,M]});let E=C=>"M0 ".concat(c(1)," C").concat(C.left.handles[2]," ").concat(c(1-C.left.handles[3])," ").concat(C.right.handles[0]," ").concat(c(1-C.right.handles[1])," 1 ").concat(c(0));return ir.default.createElement("svg",{height:"100%",width:"100%",ref:f,viewBox:"".concat(-US," ").concat(-US," ").concat(Iy," ").concat(Iy),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},ir.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},ir.default.createElement("stop",{offset:c(-1),stopColor:VV}),ir.default.createElement("stop",{offset:c(0),stopColor:Sg}),ir.default.createElement("stop",{offset:c(.3),stopColor:UV}),ir.default.createElement("stop",{offset:c(.5),stopColor:MV}),ir.default.createElement("stop",{offset:c(.7),stopColor:FV}),ir.default.createElement("stop",{offset:c(1),stopColor:VS}),ir.default.createElement("stop",{offset:c(2),stopColor:NV})),ir.default.createElement("pattern",{id:"dot-background-pattern-1",width:Oy,height:Oy/u,y:-a/u},ir.default.createElement("rect",{width:xg,height:xg,fill:ef,opacity:.3})),ir.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),ir.default.createElement("pattern",{id:"dot-background-pattern-2",width:Oy,height:Oy},ir.default.createElement("rect",{width:xg,height:xg,fill:ef})),ir.default.createElement("rect",{x:0,y:c(0),width:"1",height:c(1)-c(0),fill:"url(#dot-background-pattern-2)"}),!t.type||t.type==="bezier"?ir.default.createElement(ir.default.Fragment,null,ir.default.createElement("line",{x1:0,y1:c(1),x2:t.handles[2],y2:c(1-t.handles[3]),stroke:ef,strokeWidth:"0.01"}),ir.default.createElement("line",{x1:1,y1:c(0),x2:r.handles[0],y2:c(1-r.handles[1]),stroke:ef,strokeWidth:"0.01"}),ir.default.createElement("path",{d:E(e.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),o.map((C,j)=>ir.default.createElement("path",{key:C.objectKey+"/"+C.left.id,d:E(C),stroke:nT[j%nT.length],opacity:.6,strokeWidth:"0.01"})),ir.default.createElement("path",{d:E(e.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),ir.default.createElement("circle",{cx:0,cy:c(1),r:"0.025",stroke:VS,strokeWidth:"0.02",fill:nc}),ir.default.createElement("circle",{cx:1,cy:c(0),r:"0.025",stroke:Sg,strokeWidth:"0.02",fill:nc}),ir.default.createElement(oT,{ref:w,cx:t.handles[2],cy:c(1-t.handles[3]),fill:VS,opacity:.2}),ir.default.createElement(HS,{cx:t.handles[2],cy:c(1-t.handles[3])}),ir.default.createElement(oT,{ref:x,cx:r.handles[0],cy:c(1-r.handles[1]),fill:Sg,opacity:.2}),ir.default.createElement(HS,{cx:r.handles[0],cy:c(1-r.handles[1])})):ir.default.createElement(ir.default.Fragment,null,ir.default.createElement("line",{x1:0,y1:c(1),x2:1,y2:c(1),stroke:ef,strokeWidth:"0.01"}),ir.default.createElement("line",{x1:1,y1:c(1),x2:1,y2:0,stroke:ef,strokeWidth:"0.01"}),ir.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:Sg,strokeWidth:"0.02",fill:nc}),ir.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:Sg,strokeWidth:"0.02",fill:nc})))},$V=qV});function LS(e){return e.map(t=>t.toFixed(3)).join(", ")}function KS(e){if(!e||(e==null?void 0:e.length)>GV)return null;let t=e.split(",");if(t.length!==4)return null;let r=t.map(o=>Number(o.trim()));return!r.every(o=>isFinite(o))||r[0]<0||r[0]>1||r[2]<0||r[2]>1?null:r}function pie(e,t,r={threshold:.02}){if(!e||!t)return!1;let o=0;for(let a=0;a<4;a++)o+=Math.abs(e[a]-t[a]);return o<r.threshold}var GV,WS,ZV=I(()=>{GV=128,WS=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]}),io,qS,tf,iT,XV,YV,jy,aT,sT,QV,JV,hie=I(()=>{io=oe(pe()),qS=.75,tf=.1,iT=1+qS*2,XV="#F5F5F5",YV="#888888",jy="#4f4f4f",aT="rgba(255, 255, 255, 0.1)",sT=e=>1-e,QV=e=>{let{easing:t,isSelected:r}=e,o=r?XV:YV,a="".concat(-qS," ").concat(-qS," ").concat(iT," ").concat(iT);if(t){let s=[t[0],sT(t[1])],u=[t[2],sT(t[3])];return io.default.createElement("svg",{height:"100%",width:"100%",viewBox:a,fill:"none",xmlns:"http://www.w3.org/2000/svg"},io.default.createElement("line",{x1:"0",y1:"1",x2:s[0],y2:s[1],stroke:jy,strokeWidth:"0.1"}),io.default.createElement("line",{x1:"1",y1:"0",x2:u[0],y2:u[1],stroke:jy,strokeWidth:"0.1"}),io.default.createElement("circle",{cx:s[0],cy:s[1],r:.1,fill:aT}),io.default.createElement("circle",{cx:u[0],cy:u[1],r:.1,fill:aT}),io.default.createElement("circle",{cx:s[0],cy:s[1],r:tf,fill:jy}),io.default.createElement("circle",{cx:u[0],cy:u[1],r:tf,fill:jy}),io.default.createElement("path",{d:"M0 1 C".concat(s[0]," ").concat(s[1]," ").concat(u[0],` 
        `).concat(u[1]," 1 0"),stroke:o,strokeWidth:"0.08"}),io.default.createElement("circle",{cx:0,cy:1,r:tf,fill:o}),io.default.createElement("circle",{cx:1,cy:0,r:tf,fill:o}))}return io.default.createElement("svg",{height:"100%",width:"100%",viewBox:a,fill:"none",xmlns:"http://www.w3.org/2000/svg"},io.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),io.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),io.default.createElement("circle",{cx:0,cy:1,r:tf,fill:o}),io.default.createElement("circle",{cx:1,cy:0,r:tf,fill:o}))},JV=QV}),Ty,eH,tH,rH,nH,oH,iH,aH,gie=I(()=>{dy(),Ty=oe(pe()),Re(),ZV(),hie(),Sx(),MS(),cs(),rH=G.div(tH||(tH=Y([`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: `,`;
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  `,`

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`])),nc,({isSelected:e})=>e&&Mn(eH||(eH=Y([`
      background-color: #383d42;
    `])))),oH=G(us)(nH||(nH=Y([`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`]))),iH=Ty.default.forwardRef((e,t)=>{let[r,o]=hg({enabled:!0,verticalPlacement:e.tooltipPlacement,verticalGap:0},()=>Ty.default.createElement(oH,{showPopoverEdgeTriangle:!1},e.easing.label));return Ty.default.createElement(rH,re({ref:xx([o,t])},e),r,Ty.default.createElement(JV,{easing:KS(e.easing.value),isSelected:e.isSelected}))}),aH=iH});function mie(e){var t;let[r,o]=(0,sH.useState)(null),a=u=>{if(r===null){e.items.length>0&&o(0);return}let c=r+u*e.uiColumns,f=c<0,h=c>e.items.length-1;if(f||h){if(e.canVerticleExit&&e.canVerticleExit(f?"top":"bottom")){o(null);return}return}o(c)},s=u=>{r===null?o(wie(u,e.items.length)):r+u<0?o(null):o(Math.min(r+u,e.items.length-1))};return{focusFirstItem(){o(0)},onParentEltKeyDown:u=>{if(u.key==="ArrowRight")s(1);else if(u.key==="ArrowLeft")s(-1);else if(u.key==="ArrowUp")a(-1);else if(u.key==="ArrowDown")a(1);else return 0;return 1},gridItems:e.items.map((u,c)=>e.renderItem({isSelected:c===r,item:u,select(f){o(c),e.onSelectItem(u)===1&&(f==null||f.preventDefault(),f==null||f.stopPropagation())}})),currentSelection:(t=e.items[r??-1])!=null?t:null}}var sH,vie=I(()=>{sH=oe(pe()),GS()});function lH(e,t,r){var o;(o=e.current)==null||o.discard(),e.current=null;let a=KS(r);a===null?e.current=bie(t):e.current=yie(t,a)}function uH(e){var t;(t=e.current)==null||t.discard(),e.current=null}function yie(e,t){return ve().tempTransaction(({stateEditors:r})=>{let{setHandlesForKeyframe:o,setKeyframeType:a}=r.coreByProject.historic.sheetsById.sequence;for(let{projectId:s,sheetId:u,objectKey:c,trackId:f,left:h,right:y}of e)o({projectId:s,sheetId:u,objectKey:c,trackId:f,keyframeId:h.id,start:[t[0],t[1]]}),o({projectId:s,sheetId:u,objectKey:c,trackId:f,keyframeId:y.id,end:[t[2],t[3]]}),a({projectId:s,sheetId:u,objectKey:c,trackId:f,keyframeId:h.id,keyframeType:"bezier"})})}function bie(e){return ve().tempTransaction(({stateEditors:t})=>{let{setKeyframeType:r}=t.coreByProject.historic.sheetsById.sequence;for(let{projectId:o,sheetId:a,objectKey:s,trackId:u,left:c}of e)r({projectId:o,sheetId:a,objectKey:s,trackId:u,keyframeId:c.id,keyframeType:"hold"})})}function wie(e,t){return(e%t+t)%t}function _ie(e,t){return()=>setTimeout(e,t)}function kie({left:e,right:t}){return({left:r,right:o})=>e.handles[2]!==r.handles[2]||e.handles[3]!==r.handles[3]||t.handles[0]!==o.handles[0]||t.handles[1]!==o.handles[1]}var $S,Mr,cH,lT,uT,dH,fH,pH,hH,gH,mH,vH,yH,bH,wH,_H,kH,cT,xie,dT,xH,GS=I(()=>{$S=rt(),Mr=oe(pe()),Re(),cH=oe(uie()),ut(),fie(),gie(),ZV(),MS(),lr(),vie(),lT=3,uT=53,dH=25,pH=G.div(fH||(fH=Y([`
  background: `,`;
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: `,`px 120px;
  gap: 1px;
  height: 120px;
`])),rT,lT*uT),gH=G.div(hH||(hH=Y([`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(`,`, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`])),lT),vH=G.input.attrs({type:"text"})(mH||(mH=Y([`
  background-color: `,`;
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`])),nc),bH=G.div(yH||(yH=Y([`
  grid-area: tween;
  background: `,`;
`])),nc),_H=G.div(wH||(wH=Y([`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`]))),kH=e=>{let t=(0,Mr.useMemo)(()=>[e.curveConnection,...e.additionalConnections],[e.curveConnection,...e.additionalConnections]),r=(0,Mr.useRef)(null);(0,Mr.useEffect)(()=>{let K=xH(t);return()=>{var fe;K(),(fe=r.current)==null||fe.commit()}},[r]);let o=[e.curveConnection.left.handles[2],e.curveConnection.left.handles[3],e.curveConnection.right.handles[0],e.curveConnection.right.handles[1]],a=(0,Mr.useRef)(null);(0,Mr.useLayoutEffect)(()=>{var K,fe;(K=a.current)==null||K.select(),(fe=a.current)==null||fe.focus()},[a.current]);let[s,u]=(0,Mr.useState)(LS(o)),c=K=>{K!==void 0&&(y(1),u(K.target.value),KS(K.target.value)&&w(K.target.value))},f=K=>{var fe,z;y(1),(K.key==="ArrowDown"||K.key==="ArrowUp")&&K.preventDefault(),K.key==="ArrowDown"?(Ce.focusFirstItem(),(z=(fe=L.current[C[0].label])==null?void 0:fe.current)==null||z.focus()):K.key==="Escape"?(uH(r),e.onRequestClose("key Escape")):K.key==="Enter"&&e.onRequestClose("key Enter")},[h,y]=(0,Mr.useState)(0);(0,Mr.useEffect)(()=>{h===2?u(LS(o)):h===3&&s!==""&&u("")},t);let[_,w]=(0,Mr.useState)(LS(o)),[v,x]=(0,Mr.useState)(null);(0,Mr.useEffect)(()=>{var K;h!==0&&h!==3&&lH(r,t,(K=v??_)!=null?K:"")},[v,_,h]),t.some(kie(e.curveConnection))&&h===0&&y(3);let k=K=>{var fe,z;y(2);let be=LS(K);u(be),w(be),(fe=a.current)==null||fe.select(),(z=a.current)==null||z.focus()},E=()=>{},C=(0,Mr.useMemo)(()=>/^[A-Za-z]/.test(s)?cH.default.filter(s,WS,{extract:K=>K.label}).map(K=>K.original):WS,[s]);(0,Mr.useEffect)(()=>{h===1&&C[0]&&w(C[0].value)},[C]);let j=K=>{K.key==="Escape"?(uH(r),e.onRequestClose("key Escape"),K.stopPropagation()):K.key==="Enter"&&(e.onRequestClose("key Enter"),K.stopPropagation())},D=K=>{h===0&&y(2),x(K.value)},M=()=>x(null),F=K=>(lH(r,t,K.value),e.onRequestClose("selected easing option"),1),L=(0,Mr.useRef)(WS.reduce((K,fe)=>(K[fe.label]={current:null},K),{})),[te,se]=rr(null),[Z,de]=(0,Mr.useState)(0);(0,Mr.useEffect)(()=>{let K=()=>{var fe;de((fe=se==null?void 0:se.scrollTop)!=null?fe:0)};return se==null||se.addEventListener("scroll",K),()=>se==null?void 0:se.removeEventListener("scroll",K)},[se]);let Ce=mie({items:C,uiColumns:3,onSelectItem:F,canVerticleExit(K){var fe,z;return K==="top"?((fe=a.current)==null||fe.select(),(z=a.current)==null||z.focus(),1):0},renderItem:({item:K,select:fe})=>{var z,be;return Mr.default.createElement(aH,{key:K.label,easing:K,tabIndex:0,onKeyDown:j,ref:L.current[K.label],onMouseOver:()=>D(K),onMouseOut:M,onClick:fe,tooltipPlacement:((be=(z=L.current[K.label].current)==null?void 0:z.offsetTop)!=null?be:0)-(Z??0)<uT+dH?"bottom":"top",isSelected:pie(o,KS(K.value))})}});return(0,Mr.useLayoutEffect)(()=>{var K,fe;if(Ce.currentSelection!==null&&document.activeElement!==a.current){let z=(fe=(K=L.current)==null?void 0:K[Ce.currentSelection.label])==null?void 0:fe.current;z==null||z.focus(),w(Ce.currentSelection.value),/^[A-Za-z]/.test(s)||u(Ce.currentSelection.value)}},[Ce.currentSelection]),Mr.default.createElement(pH,null,Mr.default.createElement(vH,{value:s,placeholder:h===3?"Multiple easings selected":"Search presets...",onPaste:_ie(c),onChange:c,ref:a,onKeyDown:f}),Mr.default.createElement(gH,{ref:te,onKeyDown:K=>Ce.onParentEltKeyDown(K)},Ce.gridItems,Ce.gridItems.length===0?Mr.default.createElement(_H,null,"No results found"):void 0),Mr.default.createElement(bH,{onClick:()=>{var K;return(K=a.current)==null?void 0:K.focus()}},Mr.default.createElement($V,{curveConnection:e.curveConnection,backgroundConnections:e.additionalConnections,onCurveChange:k,onCancelCurveChange:E})))},cT=kH,{isCurveEditorOpenD:xie,isConnectionEditingInCurvePopover:dT,getLock:xH}=(()=>{let e=new $S.Atom([]);return{getLock(t){return e.set(t),function(){e.set([])}},isCurveEditorOpenD:(0,$S.prism)(()=>e.prism.getValue().length>0),isConnectionEditingInCurvePopover(t){return $S.prism.ensurePrism(),e.prism.getValue().some(({left:r,right:o})=>t.left.id===r.id&&t.right.id===o.id)}}})()});function Sie(e,t){for(let{keyframeId:r}of Cie(t))if(e.left.id===r)return!0;return!1}function SH(e,t,r){return(0,XS.prism)(()=>{if(r===void 0)return[];let o=[];for(let{objectKey:a,trackId:s}of EH(r)){let u=(0,XS.val)(ve().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[a].trackData[s]);u&&(o=o.concat(Pie(u.keyframes).filter(c=>Sie(c,r)).map(({left:c,right:f})=>({left:c,right:f,trackId:s,objectKey:a,sheetId:t,projectId:e}))))}return o})}function ZS(e,t,r){var o;if(r===void 0)return[];let a=[];for(let{objectKey:u,trackId:c,keyframeIds:f}of EH(r))a=a.concat((o=fT({projectId:e,sheetId:t,objectKey:u,trackId:c,keyframeIds:f}))!=null?o:[]);let s=IS(a.map(u=>u.pathToProp));return a.map(({keyframe:u,pathToProp:c})=>({keyframe:u,pathToProp:c.slice(s.length)}))}function fT({projectId:e,sheetId:t,objectKey:r,trackId:o,keyframeIds:a}){let s=(0,XS.val)(ve().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[r]),u=s==null?void 0:s.trackData[o];if(!u)return null;let c=Eie((s==null?void 0:s.trackIdByPropPath)||{})[o];if(!c)return null;let f=[r,...OS(c)];return a.map(h=>({keyframe:u.keyframes.find(y=>y.id===h),pathToProp:f})).filter(({keyframe:h})=>h!==void 0)}function Eie(e){let t={};for(let[r,o]of Object.entries(e))t[o]=r;return t}function Pie(e){return e.map((t,r)=>({left:t,right:e[r+1]})).slice(0,-1)}function Cie(e){var t,r,o;let a=[];for(let[s,u]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[c,f]of Object.entries((r=u==null?void 0:u.byTrackId)!=null?r:{}))for(let h of Object.keys((o=f==null?void 0:f.byKeyframeId)!=null?o:{}))a.push({objectKey:s,trackId:c,keyframeId:h});return a}function EH(e){var t,r,o;let a=[];for(let[s,u]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[c,f]of Object.entries((r=u==null?void 0:u.byTrackId)!=null?r:{}))a.push({objectKey:s,trackId:c,keyframeIds:Object.keys((o=f==null?void 0:f.byKeyframeId)!=null?o:{})});return a}var XS,Eg=I(()=>{XS=rt(),ut(),gs()});function Iie(e,t){return(0,PH.useMemo)(()=>Oie(e,t),[])}function Oie(e,t){let r=null,o=u=>ve().tempTransaction(c=>e(c,u));function a(){r==null||r.discard(),r=null}let s={createAsset:t.sheet.project.assetStorage.createAsset,getAssetUrl:u=>u.id?t.sheet.project.assetStorage.getAssetUrl(u.id):void 0};return re({temporarilySetValue(u){a(),r=o(u)},discardTemporaryValue:a,permanentlySetValue(u){a(),o(u).commit()}},s)}var PH,jie=I(()=>{ut(),PH=oe(pe())});function pT(e){var t;if(e.type==="sheetObject")return qn.default.createElement(qn.default.Fragment,null,qn.default.createElement(YS,{style:{paddingLeft:"".concat(e.indent*QS,"px")}},e.sheetObject.address.objectKey),e.children.map((r,o)=>qn.default.createElement(pT,Pe(re({key:o},r),{autoFocusInput:e.autoFocusInput&&o===0,indent:e.indent+1}))));if(e.type==="propWithChildren"){let r=(t=e.propConfig.label)!=null?t:dl(e.pathToProp);return qn.default.createElement(qn.default.Fragment,null,qn.default.createElement(YS,{style:{paddingLeft:"".concat(e.indent*QS,"px")}},r),e.children.map((o,a)=>qn.default.createElement(pT,Pe(re({key:a},o),{autoFocusInput:e.autoFocusInput&&a===0,indent:e.indent+1}))))}else return qn.default.createElement(Tie,Pe(re({},e),{autoFocusInput:e.autoFocusInput,indent:e.indent}))}function Tie(e){var t;let r=(t=e.propConfig.label)!=null?t:dl(e.pathToProp),o=Aie(e);if(e.propConfig.type==="enum")return qn.default.createElement(qn.default.Fragment,null);{let a=LO[e.propConfig.type];return qn.default.createElement(IH,null,qn.default.createElement(YS,null,qn.default.createElement("span",{style:{paddingLeft:"".concat(e.indent*QS,"px")}},r)),qn.default.createElement(TH,null,qn.default.createElement(a,{editingTools:o,propConfig:e.propConfig,value:qx(e.keyframe.value,e.propConfig),autoFocus:e.autoFocusInput})))}}function Aie(e){let t=e.sheetObject;return Iie(({stateEditors:r},o)=>{let a=Pe(re({},e.keyframe),{value:o});r.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Pe(re({},t.address),{trackId:e.trackId,keyframes:[a],snappingFunction:t.sheet.getSequence().closestGridPosition}))},t)}var qn,CH,IH,OH,YS,QS,jH,TH,Die=I(()=>{qn=oe(pe()),Re(),gN(),bh(),jie(),Gu(),IH=G.div(CH||(CH=Y([`
  display: flex;
  align-items: stretch;
  min-width: 200px;

  select {
    min-width: 100px;
  }
`]))),YS=G.div(OH||(OH=Y([`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`]))),QS=10,TH=G.div(jH||(jH=Y([`
  display: flex;
  align-items: center;
  width: 60%;
`])))});function JS(e){return ss({debugName:"useKeyframeInlineEditorPopover"},()=>eE.default.createElement(us,{showPopoverEdgeTriangle:!0},eE.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(e)?e.map((t,r)=>eE.default.createElement(pT,Pe(re({key:r},t),{autoFocusInput:r===0,indent:0}))):void 0)))}var eE,tE=I(()=>{eE=oe(pe()),ls(),cs(),Die()});function zie(e,t,r){return ko(e,{displayName:"Keyframe",menuItems:()=>{let o=ZS(r.leaf.sheetObject.address.projectId,r.leaf.sheetObject.address.sheetId,r.selection);return[{label:o.length>0?"Copy (selection)":"Copy",callback:()=>{o.length>0?ve().transaction(a=>{a.stateEditors.studio.ahistoric.setClipboardKeyframes(o)}):ve().transaction(a=>{a.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:r.keyframe,pathToProp:r.leaf.pathToProp}])})}},{label:r.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{r.selection?r.selection.delete():ve().transaction(({stateEditors:a})=>{a.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Pe(re({},r.leaf.sheetObject.address),{keyframeIds:[r.keyframe.id],trackId:r.leaf.trackId}))})}}]},onOpen(){t._debug("Show keyframe",r)}})}function Bie(e,t,r){let o=(0,oc.useRef)(t);o.current=t;let{onClickFromDrag:a}=r,s=(0,oc.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(c){let f=o.current,h=(0,rE.val)(ve().atomP.historic.coreByProject[f.leaf.sheetObject.address.projectId].sheetsById[f.leaf.sheetObject.address.sheetId].sequence.tracksByObject),y=mV(h,function(x,{trackId:k,objectKey:E}){var C,j;return x.id!==f.keyframe.id&&!(f.selection&&(j=(C=f.selection.byObjectKey[E])==null?void 0:C.byTrackId[k])!=null&&j.byKeyframeId[x.id])});if(gV(y),f.selection){let{selection:x,leaf:k}=f,{sheetObject:E}=k,C=x.getDragHandlers(Pe(re({},E.address),{domNode:e,positionAtStartOfDrag:f.track.data.keyframes[f.index].position})).onDragStart(c);return C&&Pe(re({},C),{onClick:a,onDragEnd:(...j)=>{var D;(D=C.onDragEnd)==null||D.call(C,...j),Yd()}})}let _=f,w=(0,rE.val)(_.layoutP.scaledSpace.toUnitSpace),v;return{onDrag(x,k,E){var C;let j=_.track.data.keyframes[_.index],D=Math.max((C=So.checkIfMouseEventSnapToPos(E,{ignore:e}))!=null?C:j.position+w(x),0);v==null||v.discard(),v=void 0,v=ve().tempTransaction(({stateEditors:M})=>{M.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Pe(re({},_.leaf.sheetObject.address),{trackId:_.leaf.trackId,keyframes:[Pe(re({},j),{position:D})],snappingFunction:(0,rE.val)(_.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(x){x?v==null||v.commit():v==null||v.discard(),Yd()},onClick(x){a(x)}}}}),[a]),[u]=Wr(e,s);return Nl(u,t.keyframe.position),Oi(u,"draggingPositionInSequenceEditor","ew-resize"),[u]}var oc,rE,Ay,hT,Dy,gT,AH,nE,DH,zH,BH,RH,NH,FH,MH=I(()=>{oc=oe(pe()),Re(),ut(),xo(),hn(),lr(),rE=rt(),Wn(),si(),ka(),DS(),qu(),Eg(),ur(),Qd(),tE(),Wd(),Ay=6,hT=Ay+2,Dy={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},gT=({isSelected:e,isInlineEditorPopoverOpen:t})=>e&&t?Dy.inlineEditorOpenColor:e?Dy.selectedColor:t?Dy.selectedAndInlineEditorOpenColor:Dy.normalColor,nE=G.div(AH||(AH=Y([`
  position: absolute;
  `,`

  background: `,`;
  transform: rotateZ(45deg);

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Ai(Ay),e=>gT(e),e=>e.flag===2?"outline: 2px solid white;":""),zH=G.div(DH||(DH=Y([`
  position: absolute;
  `,`

  background: `,`;

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Ai(Ay*1.5),e=>gT(e),e=>e.flag===2?"outline: 2px solid white;":""),RH=G.div(BH||(BH=Y([`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  & + `,` {
    `,`
  }

  &:hover + `,` {
    `,`
  }
`])),Ai(12),ar,nE,e=>e.isInlineEditorPopoverOpen?Ai(hT):"",nE,Ai(hT)),NH=e=>{let t=Wu("SingleKeyframeDot",e.keyframe.id),r=Kd(e.itemKey),[o,a]=rr(null),[s]=zie(a,t,e),{node:u,toggle:c,isOpen:f}=JS([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.leaf.pathToProp,propConfig:e.leaf.propConf,sheetObject:e.leaf.sheetObject,trackId:e.leaf.trackId}]);Bie(a,e,{onClickFromDrag(y){c(y,o.current)}});let h=!e.keyframe.type||e.keyframe.type==="bezier";return oc.default.createElement(oc.default.Fragment,null,oc.default.createElement(RH,re({ref:o,isInlineEditorPopoverOpen:f},r.attrs)),h?oc.default.createElement(nE,{isSelected:!!e.selection,isInlineEditorPopoverOpen:f,flag:r.flag}):oc.default.createElement(zH,{isSelected:!!e.selection,isInlineEditorPopoverOpen:f,flag:r.flag}),u,s)},FH=NH}),mT,vT,yT,rf,UH,VH,bT,HH=I(()=>{ai(),mT=oe(pe()),Re(),MH(),vT=Ay/2+1,yT=1e3,rf={normalColor:"#365b59",selectedColor:"#8A7842",barColor:e=>{let t=e.isSelected?rf.selectedColor:rf.normalColor;return e.isPopoverOpen?ux(.2,Kh(.2,t)):t},hoverColor:e=>{let t=e.isSelected?rf.selectedColor:rf.normalColor;return e.isPopoverOpen?ux(.2,Kh(.2,t)):ux(.1,Kh(.1,t))}},VH=G.div(UH||(UH=Y([`
  position: absolute;
  background: `,`;
  height: `,`px;
  width: `,`px;

  left: 0;
  top: -`,`px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: `,`;
  }
`])),rf.barColor,vT,yT,vT/2,rf.hoverColor),bT=mT.default.forwardRef((e,t)=>{let r={isPopoverOpen:e.isPopoverOpen,isSelected:e.isSelected};return mT.default.createElement(VH,Pe(re({},r),{ref:t,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e.connectorLengthInUnitSpace/yT,"))")},onClick:o=>{var a;(a=e.openPopover)==null||a.call(e,o)}}),e.children)})});function Rie(e,t){let r=(0,wT.useRef)(t);r.current=t;let o=(0,wT.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(a){let s=r.current,u;if(s.selection){let{selection:y,leaf:_}=s,{sheetObject:w}=_;return y.getDragHandlers(Pe(re({},w.address),{domNode:e,positionAtStartOfDrag:s.track.data.keyframes[s.index].position})).onDragStart(a)}let c=s,f=(0,oE.val)(c.layoutP.sheet).getSequence(),h=(0,oE.val)(c.layoutP.scaledSpace.toUnitSpace);return{onDrag(y,_,w){let v=h(y);u&&(u.discard(),u=void 0),u=ve().tempTransaction(({stateEditors:x})=>{x.coreByProject.historic.sheetsById.sequence.transformKeyframes(Pe(re({},c.leaf.sheetObject.address),{trackId:c.leaf.trackId,keyframeIds:[c.keyframe.id,c.track.data.keyframes[c.index+1].id],translate:v,scale:1,origin:0,snappingFunction:f.closestGridPosition}))})},onDragEnd(y){y?u&&u.commit():u&&u.discard()}}}}),[]);Wr(e,o)}function Nie(e,t,r,o){return ko(t,{displayName:"Tween",menuItems:()=>{let a=ZS(e.leaf.sheetObject.address.projectId,e.leaf.sheetObject.address.sheetId,e.selection);return[{label:a.length>0?"Copy (selection)":"Copy",callback:()=>{a.length>0?ve().transaction(s=>{s.stateEditors.studio.ahistoric.setClipboardKeyframes(a)}):ve().transaction(s=>{s.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:r,pathToProp:e.leaf.pathToProp},{keyframe:o,pathToProp:e.leaf.pathToProp}])})}},{label:e.selection?"Delete (selection)":"Delete",callback:()=>{e.selection?e.selection.delete():ve().transaction(({stateEditors:s})=>{s.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Pe(re({},e.leaf.sheetObject.address),{keyframeIds:[r.id,o.id],trackId:e.leaf.trackId}))})}}]}})}var oE,ic,wT,_T,LH,KH,WH,qH,$H,Fie=I(()=>{ut(),xo(),hn(),lr(),oE=rt(),ic=oe(pe()),wT=oe(pe()),ls(),cs(),GS(),HH(),MS(),xt(),Eg(),Eg(),Re(),_T=5,KH=G(us)(LH||(LH=Y([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: `,`;
`])),rT),WH=e=>{let{index:t,track:r}=e,o=r.data.keyframes[t],a=r.data.keyframes[t+1],[s,u]=rr(null),{node:c,toggle:f,close:h}=ss(()=>{let v=(0,oE.val)(e.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:v.screenX+_T,maxX:v.screenX+v.width-_T}}},()=>ic.default.createElement($H,Pe(re({},e),{closePopover:h}))),[y]=Nie(e,u,o,a);Rie(u,e);let _=a.position-o.position,w={isPopoverOpen:Wt(()=>dT(Pe(re({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,left:o,right:a})),[e.leaf.sheetObject.address,e.leaf.trackId,o,a]),isSelected:e.selection!==void 0};return ic.default.createElement(ic.default.Fragment,null,ic.default.createElement(bT,Pe(re({ref:s,connectorLengthInUnitSpace:_},w),{openPopover:v=>{u&&f(v,u)}}),c),y)},qH=WH,$H=ic.default.forwardRef((e,t)=>{let{index:r,track:{data:o},selection:a}=e,s=o.keyframes[r],u=o.keyframes[r+1],c=e.leaf.trackId,f=e.leaf.sheetObject.address,h=Wt(()=>SH(f.projectId,f.sheetId,a).getValue(),[f,a]),y=re({left:s,right:u,trackId:c},f);return ic.default.createElement(KH,{showPopoverEdgeTriangle:!1,ref:t},ic.default.createElement(cT,{curveConnection:y,additionalConnections:h,onRequestClose:e.closePopover}))})}),GH,nf,ZH,XH,YH,QH,JH,Mie=I(()=>{GH=rt(),nf=oe(pe()),Re(),Fie(),MH(),XH=G.div(ZH||(ZH=Y([`
  position: absolute;
`]))),YH=nf.default.createElement(nf.default.Fragment,null),QH=nf.default.memo(e=>{let{index:t,track:{data:r}}=e,o=r.keyframes[t],a=r.keyframes[t+1],s=o.connectedRight&&!!a;return nf.default.createElement(XH,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,GH.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(o.position,"px))")}},nf.default.createElement(FH,Pe(re({},e),{itemKey:e.itemKey})),s?nf.default.createElement(qH,re({},e)):YH)}),JH=QH});function Uie(e,t){return ko(e,{displayName:"Keyframe Track",menuItems:()=>{var r;let o=(r=(0,Pg.val)(ve().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?r:[];return[Vie(t,o)]}})}function Vie(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{var r;let o=(0,Pg.val)(e.layoutP.sheet).getSequence(),a=(r=t[0])==null?void 0:r.pathToProp,s=t.filter(({keyframe:u,pathToProp:c})=>Koe(a,c)).map(({keyframe:u,pathToProp:c})=>u);ve().transaction(({stateEditors:u})=>{var c;o.position=o.closestGridPosition(o.position);let f=(c=Hie(s))==null?void 0:c.position;for(let h of s)u.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(Pe(re({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,position:o.position+h.position-f,handles:h.handles,value:h.value,snappingFunction:o.closestGridPosition,type:h.type}))})}}}function Hie(e){let t=null;for(let r of e)(t===null||r.position<t.position)&&(t=r);return t}var Pg,Fl,eL,tL,kT,rL,Lie=I(()=>{xt(),Pg=rt(),Fl=oe(pe()),Re(),Mie(),xo(),lr(),ut(),gs(),Qd(),Dl(),tL=G.div(eL||(eL=Y([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),kT=Fl.default.memo(e=>{var t;let{layoutP:r,trackData:o,leaf:a}=e,[s,u]=rr(null),{selectedKeyframeIds:c,selection:f}=Wt(()=>{let D=(0,Pg.val)(r.selectionAtom),M=(0,Pg.val)(D.pointer.current.byObjectKey[a.sheetObject.address.objectKey].byTrackId[a.trackId].byKeyframeId);return M?{selectedKeyframeIds:M,selection:(0,Pg.val)(D.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[r,a.trackId]),[h,y,_]=Uie(u,e),w=Gt(Jj),v=w.mode==="snapToSome"?(t=w.positions[a.sheetObject.address.objectKey])==null?void 0:t[a.trackId]:[],x=w.mode==="snapToAll",k=(0,Fl.useMemo)(()=>({data:o,id:a.trackId,sheetObject:e.leaf.sheetObject}),[o,a.trackId]),E=o.keyframes.map((D,M)=>Fl.default.createElement(JH,{key:"keyframe-"+D.id,itemKey:xn.forTrackKeyframe(a.sheetObject,a.trackId,D.id),keyframe:D,index:M,track:k,layoutP:r,leaf:a,selection:c[D.id]===!0?f:void 0})),C=v.map(D=>Fl.default.createElement(Py,{key:"snap-target-"+D,layoutP:r,leaf:a,position:D})),j=x?o.keyframes.map(D=>Fl.default.createElement(Py,{key:"additionalSnapTarget-".concat(D.id),layoutP:r,leaf:a,position:D.position})):null;return Fl.default.createElement(tL,{ref:s,style:{background:_?"#444850 ":"unset"}},E,C,Fl.default.createElement(Fl.default.Fragment,null,j),h)}),kT.displayName="BasicKeyframedTrack",rL=kT}),nL,zy,oL,iL,Kie=I(()=>{ut(),xt(),nL=rt(),zy=oe(pe()),NS(),Lie(),qu(),oL=({leaf:e,layoutP:t})=>{let r=Wu("PrimitivePropRow",e.pathToProp.join());return Wt(()=>{let{sheetObject:o}=e,{trackId:a}=e,s=(0,nL.val)(ve().atomP.historic.coreByProject[o.address.projectId].sheetsById[o.address.sheetId].sequence.tracksByObject[o.address.objectKey].trackData[a]);return(s==null?void 0:s.type)!=="BasicKeyframedTrack"?(r.errorDev("trackData type ".concat(s==null?void 0:s.type," is not yet supported on the sequence editor")),zy.default.createElement(kg,{leaf:e,isCollapsed:!1,node:zy.default.createElement("div",null)})):zy.default.createElement(kg,{leaf:e,isCollapsed:!1,node:zy.default.createElement(rL,{layoutP:t,trackData:s,leaf:e})})},[e,t])},iL=oL});function Wie(e){return e()}var qie=I(()=>{});function aL(e){let{index:t,aggregateKeyframes:r,selection:o}=e;return Wt(sL(e),[t,r,o,e.viewModel])}function sL(e){let{index:t,aggregateKeyframes:r,selection:o}=e,{projectId:a,sheetId:s}=e.viewModel.type==="sheet"?e.viewModel.sheet.address:e.viewModel.sheetObject.address;return()=>{let u=r[t],c=r[t+1],f=c&&u.keyframes.length===c.keyframes.length&&u.keyframes.every(({track:w},v)=>c.keyframes[v].track===w)?{length:c.position-u.position,selected:u.selected===0&&c.selected===0}:null,h=f?u.keyframes.map(({kf:w,track:v},x)=>Pe(re({},v.sheetObject.address),{trackId:v.id,left:w,right:c.keyframes[x].kf})):[],y=Wie(()=>{let w=xT.prism.memo("selectedConnections",()=>SH(a,s,o),[a,s,o]).getValue();return[...h,...w]}),_=h.every(w=>dT(w));return{itemKey:xT.prism.memo("itemKey",()=>e.viewModel.type==="sheet"?xn.forSheetAggregateKeyframe(e.viewModel.sheet,u.position):e.viewModel.type==="sheetObject"?xn.forSheetObjectAggregateKeyframe(e.viewModel.sheetObject,u.position):xn.forCompoundPropAggregateKeyframe(e.viewModel.sheetObject,e.viewModel.pathToProp,u.position),[e.viewModel,u.position]),cur:u,connected:f,isAggregateEditingInCurvePopover:_,allConnections:y}}}var xT,ST=I(()=>{xT=rt(),Dl(),GS(),xt(),Eg(),qie()});function $ie(e,t){let r=(0,Di.useRef)(t);r.current=t;let o=(0,Di.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(a){let s=r.current,u,c=s.aggregateKeyframes[s.index].keyframes,{selection:f,viewModel:h}=s,y=h.type==="sheet"?h.sheet.address:h.sheetObject.address;if(f&&s.aggregateKeyframes[s.index].selected===0)return f.getDragHandlers(Pe(re({},y),{domNode:e,positionAtStartOfDrag:s.aggregateKeyframes[s.index].position})).onDragStart(a);let _=s,w=(0,iE.val)(_.layoutP.sheet).getSequence(),v=(0,iE.val)(_.layoutP.scaledSpace.toUnitSpace);return{onDrag(x,k,E){let C=v(x);u&&(u.discard(),u=void 0),u=ve().tempTransaction(({stateEditors:j})=>{for(let D of c)j.coreByProject.historic.sheetsById.sequence.transformKeyframes(Pe(re({},D.track.sheetObject.address),{trackId:D.track.id,keyframeIds:[D.kf.id,D.track.data.keyframes[D.track.data.keyframes.indexOf(D.kf)+1].id],translate:C,scale:1,origin:0,snappingFunction:w.closestGridPosition}))})},onDragEnd(x){x?u&&u.commit():u&&u.discard()}}}}),[]);return Wr(e,o)}function Gie(e,t){return ko(t,{displayName:"Aggregate Tween",menuItems:()=>{let r=e.utils.allConnections.reduce((c,f)=>{var h;return c.concat((h=fT(Pe(re({},f),{keyframeIds:[f.left.id,f.right.id]})))!=null?h:[])},[]),o=IS(r.map(c=>c.pathToProp)),a=r.map(({keyframe:c,pathToProp:f})=>({keyframe:c,pathToProp:f.slice(o.length)})),s=e.editorProps.viewModel,u=s.type==="sheet"?s.sheet.address:s.sheetObject.address;return[{label:"Copy",callback:()=>{if(e.editorProps.selection){let c=ZS(u.projectId,u.sheetId,e.editorProps.selection);ve().transaction(f=>{f.stateEditors.studio.ahistoric.setClipboardKeyframes(c)})}else ve().transaction(c=>{c.stateEditors.studio.ahistoric.setClipboardKeyframes(a)})}},{label:"Delete",callback:()=>{e.editorProps.selection?e.editorProps.selection.delete():ve().transaction(({stateEditors:c})=>{for(let f of e.utils.allConnections)c.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Pe(re({},u),{objectKey:f.objectKey,keyframeIds:[f.left.id,f.right.id],trackId:f.trackId}))})}}]}})}var iE,Di,ET,lL,uL,cL,dL,Zie=I(()=>{iE=rt(),Di=oe(pe()),HH(),ls(),lr(),ut(),hn(),GS(),ST(),Re(),cs(),Eg(),xo(),gs(),ET=5,uL=G(us)(lL||(lL=Y([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`]))),cL=Di.default.forwardRef((e,t)=>{let{allConnections:r}=aL(e);return Di.default.createElement(uL,{showPopoverEdgeTriangle:!1,ref:t},Di.default.createElement(cT,{curveConnection:r[0],additionalConnections:r,onRequestClose:e.closePopover}))}),dL=e=>{let[t,r]=rr(null),{editorProps:o}=e,[a]=Gie(e,r),[s]=$ie(r,e.editorProps),{node:u,toggle:c,close:f}=ss(()=>{let _=(0,iE.val)(o.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:_.screenX+ET,maxX:_.screenX+_.width-ET}}},()=>Di.default.createElement(cL,Pe(re({},o),{closePopover:f}))),{connected:h,isAggregateEditingInCurvePopover:y}=e.utils;return h||s?Di.default.createElement(Di.default.Fragment,null,Di.default.createElement(bT,{ref:t,connectorLengthInUnitSpace:h?h.length:0,isSelected:h?h.selected:!1,isPopoverOpen:y,openPopover:_=>{r&&c(_,r)}}),u,a):Di.default.createElement(Di.default.Fragment,null)}});function Xie(e){let t={isSelected:e.isSelected,flag:e.flag};return Ml.default.createElement(aE,null,e.isAllHere?Ml.default.createElement(vL,re({},t)):Ml.default.createElement(yL,re({},t)))}var Ml,PT,fL,pL,aE,hL,gL,CT,IT,OT,jT,mL,vL,yL,Yie=I(()=>{Ml=oe(pe()),Re(),DS(),ur(),PT=16,fL=PT+2,aE=G.div(pL||(pL=Y([`
  position: absolute;
  `,`
  z-index: 1;
`])),Ai(PT)),gL=G.div(hL||(hL=Y([`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  &:hover
    + `,`,
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + `,` {
    `,`
  }
`])),Ai(12),ar,aE,aE,Ai(fL)),CT="#F2C95C",IT="#40AAA4",OT="#45747C",jT=e=>e.isSelected===0?CT:e.isSelected===1?IT:OT,mL=e=>e.isSelected===0?CT:e.isSelected===1?IT:OT,vL=e=>Ml.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ml.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:mL(e)}),Ml.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:jT(e),stroke:e.flag===2?"white":void 0,strokeWidth:e.flag===2?"2px":void 0})),yL=e=>Ml.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ml.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:e.flag===2?"white":jT(e),strokeWidth:e.flag===2?"2px":void 0}))});function Qie(e,t){let r=e.children.map(o=>o.type==="propWithChildren"?TT(o,t):bL(o,t)).filter(AT);return r.length===0?null:{type:"sheetObject",sheetObject:e.sheetObject,children:r}}function TT(e,t){let r=e.children.map(o=>o.type==="propWithChildren"?TT(o,t):bL(o,t)).filter(AT);return r.length===0?null:{type:"propWithChildren",pathToProp:e.pathToProp,propConfig:e.propConf,children:r}}function bL(e,t){let r=t.find(o=>o.track.id===e.trackId);return r?{type:"primitiveProp",keyframe:r.kf,pathToProp:e.pathToProp,propConfig:e.propConf,sheetObject:e.sheetObject,trackId:e.trackId}:null}function Jie(e){var t,r,o,a;let{cur:s}=e.utils,u=JS(e.editorProps.viewModel.type==="sheet"?null:e.editorProps.viewModel.type==="sheetObject"?(r=(t=Qie(e.editorProps.viewModel,s.keyframes))==null?void 0:t.children)!=null?r:null:(a=(o=TT(e.editorProps.viewModel,s.keyframes))==null?void 0:o.children)!=null?a:null),c=Kd(e.utils.itemKey);c.useRelations(()=>s.keyframes.map(_=>({affects:_.itemKey,flag:2})),[s.keyframes.map(_=>_.track.id).join("-")]);let[f,h]=rr(null),[y]=eae(e,h);return By.default.createElement(By.default.Fragment,null,By.default.createElement(gL,Pe(re(re({ref:f},c.attrs),So.includePositionSnapAttrs(s.position)),{onClick:_=>e.editorProps.viewModel.type!=="sheet"?u.open(_,f.current):null})),By.default.createElement(Xie,{flag:c.flag,isAllHere:s.allHere,isSelected:s.selected}),y,u.node)}function eae(e,t){return ko(t,{displayName:"Aggregate Keyframe",menuItems:()=>{let r=e.editorProps.viewModel,o=e.editorProps.selection;return[{label:o?"Copy (selection)":"Copy",callback:()=>{if(o){let{projectId:a,sheetId:s}=r.type==="sheet"?r.sheet.address:r.sheetObject.address,u=ZS(a,s,o);ve().transaction(c=>{c.stateEditors.studio.ahistoric.setClipboardKeyframes(u)})}else{let a=e.utils.cur.keyframes.flatMap(f=>{var h;return(h=fT(Pe(re({},f.track.sheetObject.address),{trackId:f.track.id,keyframeIds:[f.kf.id]})))!=null?h:[]}),s=r.type==="sheet"?[]:r.type==="sheetObject"?[r.sheetObject.address.objectKey]:r.type==="propWithChildren"?[r.sheetObject.address.objectKey,...r.pathToProp]:[],u=IS([s,...a.map(f=>f.pathToProp)]),c=a.map(({keyframe:f,pathToProp:h})=>({keyframe:f,pathToProp:h.slice(u.length)}));ve().transaction(f=>{f.stateEditors.studio.ahistoric.setClipboardKeyframes(c)})}}},{label:o?"Delete (selection)":"Delete",callback:()=>{o?o.delete():ve().transaction(({stateEditors:a})=>{for(let s of e.utils.cur.keyframes)a.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Pe(re({},s.track.sheetObject.address),{keyframeIds:[s.kf.id],trackId:s.track.id}))})}}]}})}var By,AT,tae=I(()=>{By=oe(pe()),lr(),Wd(),xo(),Yie(),ut(),Eg(),gs(),ka(),tE(),AT=e=>e!==null}),wL,Ry,_L,kL,xL,SL,rae=I(()=>{wL=rt(),Ry=oe(pe()),Re(),Zie(),ST(),tae(),kL=G.div(_L||(_L=Y([`
  position: absolute;
`]))),xL=Ry.default.memo(e=>{let t=aL(e);return Ry.default.createElement(kL,{style:{top:"".concat(e.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,wL.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.cur.position,"px))")}},Ry.default.createElement(Jie,{editorProps:e,utils:t}),Ry.default.createElement(dL,{editorProps:e,utils:t}))}),SL=xL});function nae(e){let{layoutP:t,aggregatedKeyframes:r,viewModel:o}=e,a=Wu("AggregatedKeyframeTrack"),[s,u]=rr(null),{selectedPositions:c,selection:f}=oae(t,r),[h,y,_]=sae(u,e,()=>a._debug("see aggregatedKeyframes",e.aggregatedKeyframes)),w=(0,zi.useMemo)(()=>[...r.byPosition.entries()].sort((D,M)=>D[0]-M[0]).map(([D,M])=>({position:D,keyframes:M,selected:c.get(D),allHere:M.length===r.tracks.length})),[r,c]),v=Gt(Jj),x=v.mode==="snapToAll",k=v.mode==="snapToSome"?v.positions:tj,E=(0,zi.useMemo)(()=>o.type==="sheet"?Joe(o,k):qj(o,k),[k]).map(D=>zi.default.createElement(Py,{key:"snap-target-"+D,layoutP:t,leaf:o,position:D})),C=(0,zi.useMemo)(()=>w.map(({position:D,keyframes:M},F)=>({position:D,editorProps:{index:F,layoutP:t,viewModel:o,aggregateKeyframes:w,selection:c.has(D)?f:void 0}})),[w,o,c]);dae(u,D=>{var M;return(M=C.find(F=>F.position===D))==null?void 0:M.editorProps},{onClickFromDrag(D){}});let j=C.map((D,M)=>zi.default.createElement(zi.Fragment,{key:"agg-"+w[M].keyframes[0].kf.id},x&&zi.default.createElement(Py,{layoutP:t,leaf:o,position:D.position}),zi.default.createElement(SL,re({},D.editorProps))));return zi.default.createElement(IL,{ref:s,style:{background:_?"#444850 ":"unset"}},j,E,h)}function oae(e,t){return Wt(()=>(0,Po.val)(iae(e,t)),[e,t])}function iae(e,t){return(0,Po.prism)(()=>{let r=(0,Po.val)(e.selectionAtom),o=(0,Po.val)(r.pointer.current);if(!o)return OL;let a=new Map;for(let[s,u]of t.byPosition){let c=aae(u,o);c!==void 0&&c!==lE&&a.set(s,c)}return{selectedPositions:a,selection:(0,Po.val)(r.pointer.current)}})}function aae(e,t){var r,o,a;let s;for(let{track:u,kf:c}of e){let f=((a=(o=(r=t.byObjectKey[u.sheetObject.address.objectKey])==null?void 0:r.byTrackId[u.id])==null?void 0:o.byKeyframeId)==null?void 0:a[c.id])===!0;s===void 0?f?s=BT:s=lE:f?s===lE&&(s=RT):s===BT&&(s=RT)}return s}function sae(e,t,r){return ko(e,{onOpen:r,displayName:"Aggregate Keyframe Track",menuItems:()=>{var o;let a=(o=(0,Po.pointerToPrism)(ve().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?o:[];return[lae(t,a)]}})}function lae(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{let r=(0,Po.val)(e.layoutP.sheet).getSequence();e.viewModel.type==="sheet"?uae(e.viewModel,t,r):cae(e.viewModel,t,r)}}}function uae(e,t,r){var o;let{projectId:a,sheetId:s,sheetInstanceId:u}=e.sheet.address;if(t.every(({pathToProp:c})=>c.length===0))for(let c of e.children.map(f=>f.sheetObject)){let f=(0,Po.pointerToPrism)(ve().atomP.historic.coreByProject[a].sheetsById[s].sequence.tracksByObject[c.address.objectKey]).getValue(),h=Object.keys((o=f==null?void 0:f.trackData)!=null?o:{});DT(c.address,h,t,r)}else{let c=(0,Po.pointerToPrism)(ve().atomP.historic.coreByProject[a].sheetsById[s].sequence.tracksByObject).getValue(),f=t.map(({keyframe:h,pathToProp:y})=>{var _,w;let v=y[0],x=y.slice(1),k=hs([...x]),E=((w=(_=c==null?void 0:c[v])==null?void 0:_.trackIdByPropPath)!=null?w:{})[k];return E?{keyframe:h,trackId:E,address:{objectKey:v,projectId:a,sheetId:s,sheetInstanceId:u}}:null}).filter(h=>h!==null);EL(f,r)}}function cae(e,t,r){var o;let{projectId:a,sheetId:s,objectKey:u}=e.sheetObject.address,c=(0,Po.pointerToPrism)(ve().atomP.historic.coreByProject[a].sheetsById[s].sequence.tracksByObject[u]).getValue();if(t.every(({pathToProp:f})=>f.length===0)){let f=Object.keys((o=c==null?void 0:c.trackData)!=null?o:{});if(e.type==="sheetObject")DT(e.sheetObject.address,f,t,r);else{let h=(c==null?void 0:c.trackIdByPropPath)||{},y=Object.entries(h).filter(([_,w])=>w!==void 0&&Loe(OS(_),e.pathToProp)).map(([_,w])=>w);DT(e.sheetObject.address,y,t,r)}}else{let f=(c==null?void 0:c.trackIdByPropPath)||{},h=e.type==="propWithChildren"?e.pathToProp:[],y=t.map(({keyframe:_,pathToProp:w})=>{let v=hs([...h,...w]),x=f[v];return x?{keyframe:_,trackId:x,address:e.sheetObject.address}:null}).filter(_=>_!==null);EL(y,r)}}function DT(e,t,r,o){var a;o.position=o.closestGridPosition(o.position);let s=(a=PL(r.map(({keyframe:u})=>u)))==null?void 0:a.position;ve().transaction(({stateEditors:u})=>{for(let c of t)for(let{keyframe:f}of r)u.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(Pe(re({},e),{trackId:c,position:o.position+f.position-s,handles:f.handles,value:f.value,snappingFunction:o.closestGridPosition,type:f.type}))})}function EL(e,t){var r;t.position=t.closestGridPosition(t.position);let o=(r=PL(e.map(({keyframe:a})=>a)))==null?void 0:r.position;ve().transaction(({stateEditors:a})=>{for(let{keyframe:s,trackId:u,address:c}of e)a.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(Pe(re({},c),{trackId:u,position:t.position+s.position-o,handles:s.handles,value:s.value,snappingFunction:t.closestGridPosition,type:s.type}))})}function PL(e){let t=null;for(let r of e)(t===null||r.position<t.position)&&(t=r);return t}function dae(e,t,r){let o=Wu("useDragForAggregateKeyframeDot"),a=lV(),s=(0,zi.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(c){o._debug("onDragStart",{target:c.target});let f=Number(c.target.dataset.pos),h=t(f);if(!h)return o._debug("no props found for ",{positionToFind:f}),!1;a(!0,f);let y=(0,Po.prism)(sL(h)).getValue().cur.keyframes,_=h.viewModel.type==="sheet"?h.viewModel.sheet.address:h.viewModel.sheetObject.address,w=(0,Po.val)(ve().atomP.historic.coreByProject[_.projectId].sheetsById[_.sheetId].sequence.tracksByObject),v=mV(w,function(C,{trackId:j,objectKey:D}){var M,F;return y.every(L=>C.id!==L.kf.id)&&!(h.selection&&(F=(M=h.selection.byObjectKey[D])==null?void 0:M.byTrackId[j])!=null&&F.byKeyframeId[C.id])});if(gV(v),h.selection&&h.aggregateKeyframes[h.index].selected===0){let{selection:C,viewModel:j}=h,D=C.getDragHandlers(Pe(re({},_),{domNode:e,positionAtStartOfDrag:y[0].kf.position})).onDragStart(c);return D&&Pe(re({},D),{onClick:r.onClickFromDrag,onDragEnd:(...M)=>{var F;(F=D.onDragEnd)==null||F.call(D,...M),Yd()}})}let x=h,k=(0,Po.val)(x.layoutP.scaledSpace.toUnitSpace),E;return{onDrag(C,j,D){var M;let F=Math.max((M=So.checkIfMouseEventSnapToPos(D,{}))!=null?M:y[0].kf.position+k(C),0);a(!0,F),E==null||E.discard(),E=void 0,E=ve().tempTransaction(({stateEditors:L})=>{for(let te of y){let se=te.kf;L.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Pe(re({},te.track.sheetObject.address),{trackId:te.track.id,keyframes:[Pe(re({},se),{position:F})],snappingFunction:(0,Po.val)(x.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(C){a(!1,-1),C?E==null||E.commit():(E==null||E.discard(),r.onClickFromDrag(c)),Yd()},onClick(C){r.onClickFromDrag(C)}}}}),[t,r.onClickFromDrag]),[u]=Wr(e,s);return Oi(u,"draggingPositionInSequenceEditor","ew-resize"),[u]}var Po,zi,CL,IL,OL,jL,sE,zT,BT,RT,lE,NT=I(()=>{xt(),Po=rt(),zi=oe(pe()),Re(),xo(),lr(),rae(),wg(),qu(),ST(),ka(),hn(),Wn(),si(),ut(),gs(),Qd(),yF(),Qd(),wg(),IL=G.div(CL||(CL=Y([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),OL=Object.freeze({selectedPositions:new Map,selection:void 0}),jL=zi.default.memo(nae),sE=jL,zT=(e=>(e[e.AllSelected=0]="AllSelected",e[e.AtLeastOneUnselected=1]="AtLeastOneUnselected",e[e.NoneSelected=2]="NoneSelected",e))(zT||{}),{AllSelected:BT,AtLeastOneUnselected:RT,NoneSelected:lE}=zT}),Cg,FT,TL,fae=I(()=>{xt(),Cg=oe(pe()),Kie(),NS(),NT(),wg(),qu(),FT=(e,t)=>e.type==="propWithChildren"?Cg.default.createElement(TL,{layoutP:t,viewModel:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}):Cg.default.createElement(iL,{layoutP:t,leaf:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}),TL=({viewModel:e,layoutP:t})=>{let r=Wu("RightPropWithChildrenRow",e.pathToProp.join());return Wt(()=>{let o=TS(e);return Cg.default.createElement(Ez,{logger:r},Cg.default.createElement(kg,{leaf:e,node:Cg.default.createElement(sE,{layoutP:t,aggregatedKeyframes:o,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(a=>FT(a,t))))},[e,t])}}),MT,AL,DL,pae=I(()=>{xt(),MT=oe(pe()),fae(),NS(),wg(),NT(),AL=({leaf:e,layoutP:t})=>Wt(()=>{let r=TS(e);return MT.default.createElement(kg,{leaf:e,node:MT.default.createElement(sE,{layoutP:t,aggregatedKeyframes:r,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>FT(o,t)))},[e,t]),DL=AL}),uE,zL,BL,hae=I(()=>{xt(),uE=oe(pe()),pae(),NS(),wg(),NT(),zL=({leaf:e,layoutP:t})=>Wt(()=>{let r=TS(e);return uE.default.createElement(kg,{leaf:e,node:uE.default.createElement(sE,{layoutP:t,aggregatedKeyframes:r,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>uE.default.createElement(DL,{layoutP:t,key:"sheetObject-"+o.sheetObject.address.objectKey,leaf:o})))},[e,t]),BL=zL}),Ny,of,cE,RL,NL,FL,ML,UL=I(()=>{xt(),Ny=rt(),of=oe(pe()),Re(),rie(),CV(),hae(),cE=1e6,NL=G.ul(RL||(RL=Y([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: `,`px;
`])),cE),FL=({layoutP:e})=>Wt(()=>{let t=(0,Ny.val)(e.tree),r=(0,Ny.val)(e.tree.top)+Math.max((0,Ny.val)(e.tree.heightIncludingChildren),(0,Ny.val)(e.dopeSheetDims.height));return of.default.createElement(of.default.Fragment,null,of.default.createElement(tT,{layoutP:e,height:r},of.default.createElement(ZU,{layoutP:e,height:r},of.default.createElement(NL,{style:{top:t.top+"px"}},of.default.createElement(BL,{leaf:t,layoutP:e})))))},[e]),ML=FL});function UT(e,t,r,o){let a="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e,"px)"),s="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(t,") * 1px)");r===0&&(r=1e-4);let u="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(r,")");o===0&&(o=.001);let c="calc(var(--graphEditorVerticalSpace) * ".concat(o*-1,")");return"translate(".concat(a,", ").concat(s,") scale(").concat(u,", ").concat(c,")")}function gae(e,t){let{index:r,trackData:o}=t,a=o.keyframes[r],s=o.keyframes[r+1];return ko(e,{menuItems:()=>[{label:"Delete",callback:()=>{ve().transaction(({stateEditors:u})=>{let{deleteKeyframes:c}=u.coreByProject.historic.sheetsById.sequence;c(Pe(re({},t.sheetObject.address),{trackId:t.trackId,keyframeIds:[a.id,s.id]}))})}}]})}var dE,VL,HL,LL,KL,WL,VT=I(()=>{Gu(),ut(),xo(),lr(),dE=oe(pe()),Re(),HL=G.path(VL||(VL=Y([`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),LL="M 0 0 L 1 0 L 1 1",KL=e=>{let{index:t,trackData:r}=e,o=r.keyframes[t],a=r.keyframes[t+1],s=a.position-o.position,[u,c]=rr(null),[f]=gae(c,e),h=e.isScalar?qx(o.value,e.propConfig):0,y=e.isScalar?qx(a.value,e.propConfig):1,_=e.extremumSpace.fromValueSpace(h),w=e.extremumSpace.fromValueSpace(y)-_,v=UT(o.position,_,s,w),x=o.handles[2],k=o.handles[3],E=a.handles[0],C=a.handles[1],j="M 0 0 C ".concat(x," ").concat(k," ").concat(E," ").concat(C," 1 1");return dE.default.createElement(dE.default.Fragment,null,dE.default.createElement(HL,{ref:u,d:!o.type||o.type==="bezier"?j:LL,style:{transform:v}}),f)},WL=KL});function mae(e,t){let r=(0,af.useRef)(t);r.current=t;let o=(0,af.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let a,s=r.current,u=(0,Fy.val)(s.layoutP.scaledSpace.toUnitSpace),c=(0,Fy.val)(s.layoutP.graphEditorVerticalSpace.toExtremumSpace),f=s.extremumSpace.lock();return{onDrag(h,y){a&&(a.discard(),a=void 0);let{index:_,trackData:w}=s,v=w.keyframes[_],x=w.keyframes[_+1],k=u(h)/(x.position-v.position),E=-y,C=c(E),j=s.extremumSpace.deltaToValueSpace(C),D=t.isScalar?v.value:0,M=t.isScalar?x.value:1,F=j/(M-D);if(s.which==="left"){let L=Ir(v.handles[2]+k,0,1),te=v.handles[3]+F;a=ve().tempTransaction(({stateEditors:se})=>{se.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Pe(re({},s.sheetObject.address),{snappingFunction:(0,Fy.val)(s.layoutP.sheet).getSequence().closestGridPosition,trackId:s.trackId,keyframes:[Pe(re({},v),{handles:[v.handles[0],v.handles[1],L,te]})]}))})}else{let L=Ir(x.handles[0]+k,0,1),te=x.handles[1]+F;a=ve().tempTransaction(({stateEditors:se})=>{se.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Pe(re({},s.sheetObject.address),{trackId:s.trackId,snappingFunction:(0,Fy.val)(s.layoutP.sheet).getSequence().closestGridPosition,keyframes:[Pe(re({},x),{handles:[L,te,x.handles[2],x.handles[3]]})]}))})}},onDragEnd(h){f(),h?a&&a.commit():a&&a.discard()}}}}),[]);Wr(e,o)}function vae(e,t){return ko(e,{menuItems:()=>[{label:"Delete",callback:()=>{ve().transaction(({stateEditors:r})=>{r.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Pe(re({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var Fy,af,qL,HT,$L,GL,ZL,XL,YL,LT,yae=I(()=>{ut(),xo(),hn(),lr(),Fy=rt(),nn(),af=oe(pe()),Re(),VT(),ur(),HT=G.circle(qL||(qL=Y([`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`]))),GL=G.circle($L||($L=Y([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  `,`;
  &:hover {
  }
  &:hover + `,` {
    r: 6px;
  }
`])),ar,HT),XL=G.path(ZL||(ZL=Y([`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),YL=e=>{let[t,r]=rr(null),{index:o,trackData:a}=e,s=a.keyframes[o],u=a.keyframes[o+1],[c]=vae(r,e);mae(r,e);let f=e.which==="left"?s.handles[2]:u.handles[0],h=s.position+(u.position-s.position)*f,y=e.which==="left"?s.handles[3]:u.handles[1],_=e.isScalar?s.value:0,w=e.isScalar?u.value:1,v=_+(w-_)*y,x=e.extremumSpace.fromValueSpace(v),k=x-e.extremumSpace.fromValueSpace(e.which==="left"?_:w),E=UT(e.which==="left"?s.position:u.position,e.extremumSpace.fromValueSpace(e.which==="left"?_:w),h-(e.which==="left"?s.position:u.position),k);return af.default.createElement("g",null,af.default.createElement(GL,{ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(h," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(x,") * 1px)")}}),af.default.createElement(HT,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(h," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(x,") * 1px)")}}),af.default.createElement(XL,{d:"M 0 0 L 1 1",style:{transform:E}}),c)},LT=YL});function bae(e){let[t,r]=(0,ac.useState)(!1);Nl(t,e.props.keyframe.position);let o=(0,ac.useRef)(e.props);o.current=e.props;let a=(0,ac.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(s){r(!0);let u=!!s.altKey,c=o.current,f=(0,fE.val)(c.layoutP.scaledSpace.toUnitSpace),h=(0,fE.val)(c.layoutP.graphEditorVerticalSpace.toExtremumSpace),y=c.extremumSpace.lock(),_;return{onDrag(w,v){let x=c.trackData.keyframes[c.index],k=f(w),E=-v,C=h(E),j=c.extremumSpace.deltaToValueSpace(C),D=[],M=Pe(re({},x),{position:x.position+k,value:x.value+j,handles:[...x.handles]});if(D.push(M),u){let F=c.trackData.keyframes[c.index-1];if(F&&Math.abs(x.value-F.value)>0){let te=Pe(re({},F),{handles:[...F.handles]});D.push(te),te.handles[3]=_ae(F.handles[3],F.value,F.value,x.value,M.value)}let L=c.trackData.keyframes[c.index+1];if(L&&Math.abs(x.value-L.value)>0){let te=Pe(re({},L),{handles:[...L.handles]});D.push(te),te.handles[1]=kae(te.handles[1],te.value,te.value,x.value,M.value)}}_==null||_.discard(),_=ve().tempTransaction(({stateEditors:F})=>{F.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Pe(re({},c.sheetObject.address),{trackId:c.trackId,keyframes:D,snappingFunction:(0,fE.val)(c.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(w){r(!1),y(),w?_==null||_.commit():(_==null||_.discard(),e.onDetectedClick(s))}}}}),[]);return Wr(e.node,a),Oi(t,"draggingPositionInSequenceEditor","move"),t}function wae(e,t){return ko(e,{menuItems:()=>[{label:"Delete",callback:()=>{ve().transaction(({stateEditors:r})=>{r.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Pe(re({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}function _ae(e,t,r,o,a){return(o-t)*e/(a-r)}function kae(e,t,r,o,a){return((t-o)*e+o-t+r-a)/(r-a)}var fE,ac,QL,KT,JL,eK,tK,rK,xae=I(()=>{ut(),xo(),hn(),lr(),fE=rt(),ac=oe(pe()),Re(),Wn(),Wn(),ur(),si(),ka(),tE(),Wd(),KT=G.circle(QL||(QL=Y([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),eK=G.circle(JL||(JL=Y([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),ar,KT,Il),tK=e=>{let[t,r]=rr(null),{index:o,trackData:a}=e,s=a.keyframes[o],[u]=wae(r,e),c=Kd(e.itemKey),f=s.value,h=e.extremumSpace.fromValueSpace(f),y=JS([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),_=bae({node:r,props:e,onDetectedClick:w=>y.toggle(w,w.target instanceof Element?w.target:r)});return ac.default.createElement(ac.default.Fragment,null,ac.default.createElement(eK,Pe(re(re(re({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(h,") * 1px)")}},ms(s.position)),So.includePositionSnapAttrs(s.position)),c.attrs),{className:_?"beingDragged":""})),ac.default.createElement(KT,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(h,") * 1px)"),fill:c.flag===2?"white":void 0}}),y.node,u)},rK=tK});function Sae(e){let[t,r]=(0,sc.useState)(!1);Nl(t,e.props.keyframe.position);let o=(0,sc.useRef)(e.props);o.current=e.props;let a=(0,sc.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(s){r(!0);let u=o.current,c=(0,WT.val)(u.layoutP.scaledSpace.toUnitSpace),f=u.extremumSpace.lock(),h;return{onDrag(y,_){let w=u.trackData.keyframes[u.index],v=c(y),x=[],k=Pe(re({},w),{position:w.position+v,value:w.value,handles:[...w.handles]});x.push(k),h==null||h.discard(),h=ve().tempTransaction(({stateEditors:E})=>{E.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Pe(re({},u.sheetObject.address),{trackId:u.trackId,keyframes:x,snappingFunction:(0,WT.val)(u.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(y){r(!1),f(),y?h==null||h.commit():(h==null||h.discard(),e.onDetectedClick(s))}}}}),[]);return Wr(e.node,a),Oi(t,"draggingPositionInSequenceEditor","ew-resize"),t}function Eae(e,t){return ko(e,{menuItems:()=>[{label:"Delete",callback:()=>{ve().transaction(({stateEditors:r})=>{r.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Pe(re({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var WT,sc,nK,qT,oK,iK,aK,$T,Pae=I(()=>{ut(),xo(),hn(),lr(),WT=rt(),sc=oe(pe()),Re(),Wn(),Wn(),ur(),si(),ka(),tE(),Wd(),qT=G.circle(nK||(nK=Y([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),iK=G.circle(oK||(oK=Y([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),ar,qT,Il),aK=e=>{let[t,r]=rr(null),{index:o,trackData:a,itemKey:s}=e,u=a.keyframes[o],[c]=Eae(r,e),f=Kd(s),h=e.which==="left"?0:1,y=JS([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),_=Sae({node:r,props:e,onDetectedClick:v=>y.toggle(v,v.target instanceof Element?v.target:r)}),w=e.extremumSpace.fromValueSpace(h);return sc.default.createElement(sc.default.Fragment,null,sc.default.createElement(iK,Pe(re(re(re({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(w,") * 1px)")}},f.attrs),ms(u.position)),So.includePositionSnapAttrs(u.position)),{className:_?"beingDragged":""})),sc.default.createElement(qT,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(w,") * 1px)"),fill:f.flag===2?"white":void 0}}),y.node,c)},$T=aK}),pE,sK,lK,uK,cK,Cae=I(()=>{pE=oe(pe()),Re(),VT(),lK=G.path(sK||(sK=Y([`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`]))),uK=e=>{let{index:t,trackData:r}=e,o="M 0 0 L 1 1",a=UT(r.keyframes[t].position,e.extremumSpace.fromValueSpace(0),0,e.extremumSpace.fromValueSpace(1)-e.extremumSpace.fromValueSpace(0));return pE.default.createElement(pE.default.Fragment,null,pE.default.createElement(lK,{d:o,style:{transform:a}}))},cK=uK}),$n,dK,fK,pK,hK,gK,Iae=I(()=>{$n=oe(pe()),Re(),VT(),yae(),xae(),Pae(),Cae(),fK=G.g(dK||(dK=Y([`
  /* position: absolute; */
`]))),pK=$n.default.createElement($n.default.Fragment,null),hK=e=>{let{index:t,trackData:r,isScalar:o}=e,a=r.keyframes[t],s=r.keyframes[t+1],u=a.connectedRight&&!!s&&s.value!==a.value;return $n.default.createElement(fK,null,u?$n.default.createElement($n.default.Fragment,null,$n.default.createElement(WL,re({},e)),!a.type||a.type==="bezier"&&$n.default.createElement($n.default.Fragment,null,$n.default.createElement(LT,Pe(re({},e),{which:"left"})),$n.default.createElement(LT,Pe(re({},e),{which:"right"})))):pK,o?$n.default.createElement(rK,re({},e)):$n.default.createElement($n.default.Fragment,null,$n.default.createElement($T,Pe(re({},e),{which:"left"})),$n.default.createElement($T,Pe(re({},e),{which:"right"})),$n.default.createElement(cK,re({},e))))},gK=hK});function Oae(e,t){let r=1/0,o=-1/0;function a(s){r=Math.min(s,r),o=Math.max(s,o)}return e.forEach((s,u)=>{let c=qx(s.value,t);if(a(c),!s.connectedRight)return;let f=e[u+1];if(!f)return;let h=(typeof f.value=="number"?f.value:1)-c;a(c+s.handles[3]*h),a(c+f.handles[1]*h)}),[r,o]}function jae(e){let t=0,r=1;function o(a){t=Math.min(a,t),r=Math.max(a,r)}return e.forEach((a,s)=>{if(!a.connectedRight)return;let u=e[s+1];u&&(o(a.handles[3]),o(u.handles[1]))}),[t,r]}var ys,mK,vK,Tae=I(()=>{Dl(),ys=oe(pe()),gE(),Iae(),Gu(),xt(),mK=ys.default.memo(({layoutP:e,trackData:t,sheetObject:r,trackId:o,color:a,pathToProp:s})=>{let u=Wx(Gt(r.template.configPointer),s);if(fs(u))return console.error("Composite prop types cannot be keyframed"),ys.default.createElement(ys.default.Fragment,null);let[c,f]=(0,ys.useState)(!1),h=(0,ys.useMemo)(()=>{let v=new Set;return function(){let x=v.size===0;v.add(k),x&&f(!0);function k(){let E=v.size>0;v.delete(k),E&&v.size===0&&f(!1)}return k}},[]),y=(0,ys.useMemo)(()=>{let v=u.type==="number"?Oae(t.keyframes,u):jae(t.keyframes),x=C=>(C-v[0])/(v[1]-v[0]),k=C=>v[0]+E(C),E=C=>C*(v[1]-v[0]);return{fromValueSpace:x,toValueSpace:k,deltaToValueSpace:E,lock:h}},[t.keyframes]),_=(0,ys.useRef)(void 0);c||(_.current=y);let w=t.keyframes.map((v,x)=>ys.default.createElement(gK,{pathToProp:s,propConfig:u,itemKey:xn.forTrackKeyframe(r,o,v.id),keyframe:v,index:x,trackData:t,layoutP:e,sheetObject:r,trackId:o,isScalar:u.type==="number",key:v.id,extremumSpace:_.current,color:a}));return ys.default.createElement("g",{style:{"--main-color":My[a].iconColor}},w)}),vK=mK}),yK,hE,bK,wK,Aae=I(()=>{ut(),xt(),yK=rt(),hE=oe(pe()),Tae(),bK=e=>Wt(()=>{let{sheetObject:t,trackId:r}=e,o=(0,yK.val)(ve().atomP.historic.coreByProject[t.address.projectId].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[r]);return(o==null?void 0:o.type)!=="BasicKeyframedTrack"?(console.error("trackData type ".concat(o==null?void 0:o.type," is not yet supported on the graph editor")),hE.default.createElement(hE.default.Fragment,null)):hE.default.createElement(vK,Pe(re({},e),{trackData:o}))},[e.trackId,e.layoutP]),wK=bK});function _K({clippedSpaceRange:e,clippedSpaceWidth:t,fps:r,gapWidth:o=120},a){let s=1/r,u=e.end-e.start,c=t/(r*u),f=Math.floor(o/c),h=(f<r?kK(r).find(w=>w>=f):r*Math.floor(f/r))*s,y=Math.floor(e.start/h),_=Math.ceil(e.end/h);for(let w=y;w<=_;w++){let v=w*h,x=v%1===0;a(v,x)}}var kK,xK=I(()=>{nn(),kK=Jp(e=>{let t=[];for(let r=1;r<=e;r++)e%r===0&&t.push(r);return t})});function Dae(e){let{clippedSpaceWidth:t,height:r,ctx:o,unitSpaceToClippedSpace:a,snapToGrid:s}=e;o.clearRect(0,0,t,r),_K(e,(u,c)=>{let f=s(u),h=Math.floor(a(f));o.strokeStyle=c?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",o.beginPath(),o.moveTo(h,0),o.lineTo(h,r),o.stroke(),o.closePath()})}var sf,lf,SK,EK,PK,CK,IK,OK,jK,TK,GT,AK=I(()=>{sf=rt(),lf=oe(pe()),Re(),xK(),ut(),EK=G.div(SK||(SK=Y([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),CK=G.canvas(PK||(PK=Y([`
  position: relative;
  left: 0;
`]))),IK=e=>{let t=e;return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},OK=()=>window.devicePixelRatio||1,jK=e=>OK()/IK(e),TK=({layoutP:e,width:t,height:r})=>{let o=(0,lf.useRef)(null),[a,s]=(0,lf.useState)(null),{ctx:u,ratio:c}=(0,lf.useMemo)(()=>{if(!a)return{};let f=a.getContext("2d"),h=jK(f);return{ctx:f,ratio:h}},[a]);return(0,lf.useLayoutEffect)(()=>{if(!u)return;a.width=t*c,a.height=r*c;let f=(0,sf.prism)(()=>{let h=(0,sf.val)(e.sheet).getSequence();return{ctx:u,clippedSpaceRange:(0,sf.val)(e.clippedSpace.range),clippedSpaceWidth:(0,sf.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,sf.val)(e.clippedSpace.fromUnitSpace),height:r,leftPadding:(0,sf.val)(e.scaledSpace.leftPadding),fps:h.subUnitsPerUnit,snapToGrid:y=>h.closestGridPosition(y)}}).onChange(ve().ticker,h=>{u.save(),u.scale(c,c),Dae(h),u.restore()},!0);return()=>{f()}},[u,t,r,e]),lf.default.createElement(EK,{ref:o,style:{width:t+"px"}},lf.default.createElement(CK,{ref:s,style:{width:t+"px",height:r+"px"}}))},GT=TK}),bs,uf,My,DK,zK,BK,RK,NK,FK,gE=I(()=>{ut(),gs(),Xx(),xt(),bs=rt(),uf=oe(pe()),Re(),UL(),CV(),Aae(),AK(),ai(),My={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},zK=G.div(DK||(DK=Y([`
  position: absolute;
  right: 0;
  bottom: 0;
  background: `,`;
`])),ha(.03,"#1a1c1e")),RK=G.svg(BK||(BK=Y([`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`]))),NK=({layoutP:e})=>Wt(()=>{let t=(0,bs.val)(e.sheet),r=(0,bs.val)(ve().atomP.historic.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].sequenceEditor.selectedPropsByObject),o=(0,bs.val)(e.graphEditorDims.height),a=(0,bs.val)(e.scaledSpace.fromUnitSpace)(1),s=[];if(r)for(let[c,f]of Object.entries(r)){let h=t.getObject(c);if(!h)continue;let y=(0,bs.val)(h.template.getMapOfValidSequenceTracks_forStudio());for(let[_,w]of Object.entries(f)){let v=OS(_),x=Xu(y,v);x&&s.push(uf.default.createElement(wK,{key:"graph-".concat(c,"-").concat(_),sheetObject:h,pathToProp:v,layoutP:e,trackId:x,color:w}))}}let u=(0,bs.val)(e.rightDims.width);return uf.default.createElement(zK,{style:{width:u+"px",height:o+"px","--unitSpaceToScaledSpaceMultiplier":a,"--graphEditorVerticalSpace":"".concat((0,bs.val)(e.graphEditorVerticalSpace.space))}},uf.default.createElement(GT,{layoutP:e,width:u,height:o}),uf.default.createElement(tT,{layoutP:e,height:o},uf.default.createElement(RK,{width:cE,height:o,viewBox:"0 0 ".concat(cE," ").concat(o)},uf.default.createElement("g",{style:{transform:"translate(".concat((0,bs.val)(e.scaledSpace.leftPadding),"px, ").concat((0,bs.val)(e.graphEditorDims.padding.top),"px)")}},s))))},[e]),FK=NK}),MK,Bi,UK,VK,HK,LK,ZT,KK,WK,qK,$K,GK,ZK,XK,zae=I(()=>{ut(),gs(),Yx(),xt(),MK=rt(),Bi=oe(pe()),Re(),ij(),rS(),gE(),CS(),Ld(),PU(),UK={label:{color:"#9a9a9a"}},HK=G(Mj)(VK||(VK=Y([""]))),ZT=G(Uj)(LK||(LK=Y([`
  display: flex;
  color: `,`;
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`])),UK.label.color),WK=G.button(KK||(KK=Y([`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: `,`;

  &:not([disabled]):hover {
    color: white;
  }
`])),e=>e.isSelected?My[e.graphEditorColor].iconColor:Yu.offColor),qK=()=>Bi.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},Bi.default.createElement("g",{transform:"translate(0 100)"},Bi.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),GK=G.span($K||($K=Y([`
  margin-right: 4px;
  `,`;

  `,`:hover & {
    color: #ccc;
  }
`])),Zu,ZT),ZK=({leaf:e})=>{var t;let r=ty(e.sheetObject.propsP,e.pathToProp),o=e.sheetObject,{controlIndicators:a}=oj(r,o,e.propConf),s=Wt(()=>{let _=e.sheetObject.address,w=hs(e.pathToProp);return(0,MK.val)(ve().atomP.historic.projects.stateByProjectId[_.projectId].stateBySheetId[_.sheetId].sequenceEditor.selectedPropsByObject[_.objectKey][w])},[e]),u=(0,Bi.useRef)(!1),c=typeof s=="string";u.current=c;let f=(0,Bi.useCallback)(()=>{let _=e.sheetObject.address;ve().transaction(({stateEditors:w})=>{u.current?w.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(Pe(re({},_),{pathToProp:e.pathToProp})):(w.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(Pe(re({},_),{pathToProp:e.pathToProp})),w.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[e]),h=(t=e.propConf.label)!=null?t:e.pathToProp[e.pathToProp.length-1],y=(0,Bi.useRef)(null);return SU(y.current,e),Bi.default.createElement(HK,{depth:e.depth},Bi.default.createElement(ZT,{ref:y,isEven:e.n%2===0,style:{height:e.nodeHeight+"px"},isSelected:c===!0},Bi.default.createElement(GK,null,h),a,Bi.default.createElement(WK,{onClick:f,isSelected:c===!0,graphEditorColor:s??"1",style:{opacity:1},disabled:!1},Bi.default.createElement(qK,null))))},XK=ZK});function XT(e,t){ve().transaction(({stateEditors:r})=>{r.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(Pe(re({},t.sheetAddress),{studioSheetItemKey:t.sheetItemKey,isCollapsed:e}))})}var YT=I(()=>{ut()}),Ig,QT,YK,Bae=I(()=>{Ig=oe(pe()),CS(),zae(),YT(),QT=e=>{let t="prop"+e.pathToProp[e.pathToProp.length-1];return e.shouldRender?e.type==="propWithChildren"?Ig.default.createElement(YK,{leaf:e,key:t}):Ig.default.createElement(XK,{leaf:e,key:t}):Ig.default.createElement(Ig.default.Fragment,{key:t})},YK=({leaf:e})=>Ig.default.createElement(PS,{leaf:e,label:e.pathToProp[e.pathToProp.length-1],isCollapsed:e.isCollapsed,toggleCollapsed:()=>XT(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>QT(t)))}),QK,JK,eW,Rae=I(()=>{QK=oe(pe()),CS(),Bae(),YT(),ut(),JK=({leaf:e})=>QK.default.createElement(PS,{leaf:e,label:e.sheetObject.address.objectKey,isCollapsed:e.isCollapsed,toggleSelect:()=>{ve().transaction(({stateEditors:t})=>{t.studio.historic.panels.outline.selection.set([e.sheetObject])})},toggleCollapsed:()=>XT(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>QT(t))),eW=JK}),JT,tW,rW,Nae=I(()=>{xt(),JT=oe(pe()),Rae(),CS(),YT(),fM(),tW=({leaf:e})=>Wt(()=>JT.default.createElement(PS,{leaf:e,label:e.sheet.address.sheetId,isCollapsed:e.isCollapsed,toggleCollapsed:()=>{XT(!e.isCollapsed,{sheetAddress:e.sheet.address,sheetItemKey:e.sheetItemKey})}},e.children.map(t=>JT.default.createElement(eW,{key:"sheetObject-"+cM(t.sheetObject),leaf:t}))),[e]),rW=tW}),e3,mE,nW,oW,iW,aW,sW,lW,Fae=I(()=>{xt(),e3=rt(),mE=oe(pe()),Re(),Nae(),oW=G.div(nW||(nW=Y([`
  position: absolute;
  left: 0;
  overflow-x: visible;
`]))),aW=G.ul(iW||(iW=Y([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),sW=({layoutP:e})=>Wt(()=>{let t=(0,e3.val)(e.tree),r=(0,e3.val)(e.leftDims.width);return mE.default.createElement(oW,{style:{width:r+"px",top:t.top+"px"}},mE.default.createElement(aW,null,mE.default.createElement(rW,{leaf:t})))},[e]),lW=sW}),t3,uW,cW,dW,fW,Mae=I(()=>{ur(),Ll(),xt(),ai(),t3=oe(pe()),Re(),AK(),cW=G.div(uW||(uW=Y([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: hidden;
  background: `,`;
  pointer-events: none;
`])),()=>Es.rightBackground,ha(.01,O0(1*.03,Yh.panel.bg))),dW=({layoutP:e})=>{let t=Gt(e.rightDims.width),r=Gt(e.panelDims.height);return t3.default.createElement(cW,{style:{width:t+"px"}},t3.default.createElement(GT,{width:t,height:r,layoutP:e}))},fW=dW}),Og,pW,hW,gW,mW,Uae=I(()=>{xt(),Og=oe(pe()),Re(),Fae(),Mae(),UL(),tV(),hW=G.div(pW||(pW=Y([`
  position: absolute;
  left: 0;
  right: 0;
`]))),gW=({layoutP:e})=>{let t=Gt(e.dopeSheetDims.height);return Og.default.createElement(hW,{style:{height:t+"px"}},Og.default.createElement(fW,{layoutP:e}),Og.default.createElement(eV,null,Og.default.createElement(lW,{layoutP:e}),Og.default.createElement(ML,{layoutP:e})))},mW=gW});function Vae(e,t,r){return r3.prism.memo(e,()=>(0,r3.prism)(t),r).getValue()}var r3,Hae=I(()=>{r3=rt()});function Ar(e){return function(t,r){return e(t,r())}}function ui(e){return Object.freeze({audience:cf(e,8)?"internal":cf(e,16)?"dev":"public",category:cf(e,4)?"troubleshooting":cf(e,2)?"todo":"general",level:cf(e,512)?512:cf(e,256)?256:cf(e,128)?128:64})}function cf(e,t){return(e&t)===t}function Dr(e,t){return((t&32)===32?!0:(t&16)===16?e.dev:(t&8)===8?e.internal:!1)&&e.min<=t}function vW(e=console,t={}){let r=Pe(re({},ws),{includes:re({},ws.includes)}),o={styled:Wae.bind(r,e),noStyle:$ae.bind(r,e)},a=Kae.bind(r);function s(){return r.loggingConsoleStyle&&r.loggerConsoleStyle?o.styled:o.noStyle}return r.create=s(),{configureLogger(u){var c;u==="console"?(r.loggerConsoleStyle=ws.loggerConsoleStyle,r.create=s()):u.type==="console"?(r.loggerConsoleStyle=(c=u.style)!=null?c:ws.loggerConsoleStyle,r.create=s()):u.type==="keyed"?(r.creatExt=f=>u.keyed(f.names),r.create=a):u.type==="named"&&(r.creatExt=Lae.bind(null,u.named),r.create=a)},configureLogging(u){var c,f,h,y,_;r.includes.dev=(c=u.dev)!=null?c:ws.includes.dev,r.includes.internal=(f=u.internal)!=null?f:ws.includes.internal,r.includes.min=(h=u.min)!=null?h:ws.includes.min,r.include=(y=u.include)!=null?y:ws.include,r.loggingConsoleStyle=(_=u.consoleStyle)!=null?_:ws.loggingConsoleStyle,r.create=s()},getLogger(){return r.create({names:[]})}}}function Lae(e,t){let r=[];for(let{name:o,key:a}of t.names)r.push(a==null?o:"".concat(o," (").concat(a,")"));return e(r)}function Kae(e){let t=re(re({},this.includes),this.include(e)),r=this.filtered,o=this.named.bind(this,e),a=this.creatExt(e),s=Dr(t,524),u=Dr(t,522),c=Dr(t,521),f=Dr(t,529),h=Dr(t,545),y=Dr(t,265),_=Dr(t,268),w=Dr(t,273),v=Dr(t,289),x=Dr(t,137),k=Dr(t,145),E=Dr(t,73),C=Dr(t,81),j=s?a.error.bind(a,Lo._hmm):r.bind(e,524),D=u?a.error.bind(a,Lo._todo):r.bind(e,522),M=c?a.error.bind(a,Lo._error):r.bind(e,521),F=f?a.error.bind(a,Lo.errorDev):r.bind(e,529),L=h?a.error.bind(a,Lo.errorPublic):r.bind(e,545),te=_?a.warn.bind(a,Lo._kapow):r.bind(e,268),se=y?a.warn.bind(a,Lo._warn):r.bind(e,265),Z=w?a.warn.bind(a,Lo.warnDev):r.bind(e,273),de=v?a.warn.bind(a,Lo.warnPublic):r.bind(e,273),Ce=x?a.debug.bind(a,Lo._debug):r.bind(e,137),K=k?a.debug.bind(a,Lo.debugDev):r.bind(e,145),fe=E?a.trace.bind(a,Lo._trace):r.bind(e,73),z=C?a.trace.bind(a,Lo.traceDev):r.bind(e,81),be={_hmm:j,_todo:D,_error:M,errorDev:F,errorPublic:L,_kapow:te,_warn:se,warnDev:Z,warnPublic:de,_debug:Ce,debugDev:K,_trace:fe,traceDev:z,lazy:{_hmm:s?Ar(j):j,_todo:u?Ar(D):D,_error:c?Ar(M):M,errorDev:f?Ar(F):F,errorPublic:h?Ar(L):L,_kapow:_?Ar(te):te,_warn:y?Ar(se):se,warnDev:w?Ar(Z):Z,warnPublic:v?Ar(de):de,_debug:x?Ar(Ce):Ce,debugDev:k?Ar(K):K,_trace:E?Ar(fe):fe,traceDev:C?Ar(z):z},named:o,utilFor:{internal(){return{debug:be._debug,error:be._error,warn:be._warn,trace:be._trace,named(Je,le){return be.named(Je,le).utilFor.internal()}}},dev(){return{debug:be.debugDev,error:be.errorDev,warn:be.warnDev,trace:be.traceDev,named(Je,le){return be.named(Je,le).utilFor.dev()}}},public(){return{error:be.errorPublic,warn:be.warnPublic,debug(Je,le){be._warn('(public "debug" filtered out) '.concat(Je),le)},trace(Je,le){be._warn('(public "trace" filtered out) '.concat(Je),le)},named(Je,le){return be.named(Je,le).utilFor.public()}}}}};return be}function Wae(e,t){let r=re(re({},this.includes),this.include(t)),o=[],a="";for(let f=0;f<t.names.length;f++){let{name:h,key:y}=t.names[f];if(a+=" %c".concat(h),o.push(this.style.css(h)),y!=null){let _="%c#".concat(y);a+=_,o.push(this.style.css(_))}}let s=this.filtered,u=this.named.bind(this,t),c=[a,...o];return yW(s,t,r,e,c,qae(c),u)}function qae(e){let t=e.slice(0);for(let r=1;r<t.length;r++)t[r]+=";background-color:#e0005a;padding:2px;color:white";return t}function $ae(e,t){let r=re(re({},this.includes),this.include(t)),o="";for(let c=0;c<t.names.length;c++){let{name:f,key:h}=t.names[c];o+=" ".concat(f),h!=null&&(o+="#".concat(h))}let a=this.filtered,s=this.named.bind(this,t),u=[o];return yW(a,t,r,e,u,u,s)}function yW(e,t,r,o,a,s,u){let c=Dr(r,524),f=Dr(r,522),h=Dr(r,521),y=Dr(r,529),_=Dr(r,545),w=Dr(r,265),v=Dr(r,268),x=Dr(r,273),k=Dr(r,289),E=Dr(r,137),C=Dr(r,145),j=Dr(r,73),D=Dr(r,81),M=c?o.error.bind(o,...a):e.bind(t,524),F=f?o.error.bind(o,...a):e.bind(t,522),L=h?o.error.bind(o,...a):e.bind(t,521),te=y?o.error.bind(o,...a):e.bind(t,529),se=_?o.error.bind(o,...a):e.bind(t,545),Z=v?o.warn.bind(o,...s):e.bind(t,268),de=w?o.warn.bind(o,...a):e.bind(t,265),Ce=x?o.warn.bind(o,...a):e.bind(t,273),K=k?o.warn.bind(o,...a):e.bind(t,273),fe=E?o.info.bind(o,...a):e.bind(t,137),z=C?o.info.bind(o,...a):e.bind(t,145),be=j?o.debug.bind(o,...a):e.bind(t,73),Je=D?o.debug.bind(o,...a):e.bind(t,81),le={_hmm:M,_todo:F,_error:L,errorDev:te,errorPublic:se,_kapow:Z,_warn:de,warnDev:Ce,warnPublic:K,_debug:fe,debugDev:z,_trace:be,traceDev:Je,lazy:{_hmm:c?Ar(M):M,_todo:f?Ar(F):F,_error:h?Ar(L):L,errorDev:y?Ar(te):te,errorPublic:_?Ar(se):se,_kapow:v?Ar(Z):Z,_warn:w?Ar(de):de,warnDev:x?Ar(Ce):Ce,warnPublic:k?Ar(K):K,_debug:E?Ar(fe):fe,debugDev:C?Ar(z):z,_trace:j?Ar(be):be,traceDev:D?Ar(Je):Je},named:u,utilFor:{internal(){return{debug:le._debug,error:le._error,warn:le._warn,trace:le._trace,named(ae,_e){return le.named(ae,_e).utilFor.internal()}}},dev(){return{debug:le.debugDev,error:le.errorDev,warn:le.warnDev,trace:le.traceDev,named(ae,_e){return le.named(ae,_e).utilFor.dev()}}},public(){return{error:le.errorPublic,warn:le.warnPublic,debug(ae,_e){le._warn('(public "debug" filtered out) '.concat(ae),_e)},trace(ae,_e){le._warn('(public "trace" filtered out) '.concat(ae),_e)},named(ae,_e){return le.named(ae,_e).utilFor.public()}}}}};return le}var Lo,ws,bW=I(()=>{Lo={_hmm:ui(524),_todo:ui(522),_error:ui(521),errorDev:ui(529),errorPublic:ui(545),_kapow:ui(268),_warn:ui(265),warnDev:ui(273),warnPublic:ui(289),_debug:ui(137),debugDev:ui(145),_trace:ui(73),traceDev:ui(81)},ws={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,r){return this.create({names:[...e.names,{name:t,key:r}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;let t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var t,r,o,a;let s=this.cssMemo.get(e);if(s)return s;let u="color:".concat((r=(t=this.color)==null?void 0:t.call(this,e))!=null?r:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(o=this.bold)!=null&&o.test(e)&&(u+=";font-weight:600"),(a=this.italic)!=null&&a.test(e)&&(u+=";font-style:italic"),this.cssMemo.set(e,u),u}}}}),n3,vE,yE=I(()=>{bW(),bW(),n3=vW(console,{}),n3.configureLogging({dev:!0,min:64}),vE=n3.getLogger().named("Theatre.js (default logger)").utilFor.dev()}),lc,df,wW,Gae=I(()=>{Dl(),lc=rt(),yE(),Pl(),df=28,wW=(e,t)=>{var r;lc.prism.ensurePrism();let o=!0,a=vx+df,s=0,u=t.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequence.collapsableItems,c=u.byId[xn.forSheet()].isCollapsed,f=(r=(0,lc.pointerToPrism)(c).getValue())!=null?r:!1,h={type:"sheet",isCollapsed:f,sheet:e,children:[],sheetItemKey:xn.forSheet(),shouldRender:o,top:vx,depth:0,n:s,nodeHeight:df,heightIncludingChildren:-1};s+=1;for(let k of Object.values((0,lc.val)(e.objectsP)))k&&y(k,h.children,h.depth+1,!f);h.heightIncludingChildren=a-h.top;function y(k,E,C,j){var D;let M=(0,lc.val)(k.template.getMapOfValidSequenceTracks_forStudio()),F=(0,lc.val)(k.template.configPointer);if(Object.keys(M).length===0)return;let L=u.byId[xn.forSheetObject(k)].isCollapsed,te=(D=(0,lc.pointerToPrism)(L).getValue())!=null?D:!1,se={type:"sheetObject",isCollapsed:te,sheetItemKey:xn.forSheetObject(k),shouldRender:j,top:a,children:[],depth:C,n:s,sheetObject:k,nodeHeight:j?df:0,heightIncludingChildren:-1};E.push(se),j&&(s+=1,a+=se.nodeHeight),_(k,M,[],F,se.children,C+1,j&&!te),se.heightIncludingChildren=a-se.top}function _(k,E,C,j,D,M,F){for(let[L,te]of Object.entries(E)){let se=j.props[L];w(k,te,[...C,L],se,D,M,F)}}function w(k,E,C,j,D,M,F){j.type==="compound"?v(k,E,j,C,j,D,M,F):j.type==="enum"?vE.warn("Prop type enum is not yet supported in the sequence editor"):x(k,E,C,j,D,M,F)}function v(k,E,C,j,D,M,F,L){var te;let se=u.byId[xn.forSheetObjectProp(k,j)].isCollapsed,Z=(te=(0,lc.pointerToPrism)(se).getValue())!=null?te:!1,de={type:"propWithChildren",isCollapsed:Z,propConf:C,pathToProp:j,sheetItemKey:xn.forSheetObjectProp(k,j),sheetObject:k,shouldRender:L,top:a,children:[],nodeHeight:L?df:0,heightIncludingChildren:-1,depth:F,trackMapping:E,n:s};M.push(de),L&&(a+=de.nodeHeight,s+=1),_(k,E,j,D,de.children,F+1,L&&!Z),de.heightIncludingChildren=a-de.top}function x(k,E,C,j,D,M,F){let L={type:"primitiveProp",propConf:j,depth:M,sheetItemKey:xn.forSheetObjectProp(k,C),sheetObject:k,pathToProp:C,shouldRender:F,top:a,nodeHeight:F?df:0,heightIncludingChildren:F?df:0,trackId:E,n:s};D.push(L),s+=1,a+=L.nodeHeight}return h}});function Zae(e,t){let r=ve(),o=r.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId],a=r.atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId];return(0,Ko.prism)(()=>{var s;let u=Vae("tree",()=>wW(e,r),[]),c=(0,Ko.val)(t),f=(0,Ko.val)(r.atomP.historic.panels.sequenceEditor.graphEditor),h=(0,Ko.val)(a.sequenceEditor.selectedPropsByObject),y=!!h&&Object.keys(h).length>0,{leftDims:_,rightDims:w,graphEditorDims:v,dopeSheetDims:x,horizontalScrollbarDims:k}=Ko.prism.memo("leftDims",()=>{var de;let Ce={width:Math.floor(c.width*_W),height:c.height,screenX:c.screenX,screenY:c.screenY},K={width:c.width-Ce.width,height:c.height,screenX:c.screenX+Ce.width,screenY:c.screenY},fe=y&&(f==null?void 0:f.isOpen)===!0,z=Math.floor((fe?Ir((de=f==null?void 0:f.height)!=null?de:.5,.1,.7):0)*c.heightWithoutBorder),be=0+z,Je=c.height-be,le={width:c.width,height:Je,screenX:c.screenX,screenY:c.screenY},ae={isAvailable:y,isOpen:fe,width:K.width,height:z,screenX:c.screenX,screenY:c.screenY+Je,padding:{top:20,bottom:20}};return{leftDims:Ce,rightDims:K,graphEditorDims:ae,dopeSheetDims:le,horizontalScrollbarDims:{bottom:0}}},[c,f,y]),E=Ko.prism.memo("graphEditorVerticalSpace",()=>{let de=v.height-v.padding.top-v.padding.bottom;return{space:de,fromExtremumSpace(Ce){return Ce*de},toExtremumSpace(Ce){return Ce/de}}},[v]),[C,j]=Ko.prism.state("isSeeking",!1),D={isSeeking:C,setIsSeeking:j},M={},F=(s=(0,Ko.val)(o.sequence.clippedSpaceRange))!=null?s:kW,L=Ko.prism.memo("scaledSpace",()=>{let de=F.end-F.start,Ce=w.width,K=de/Ce,fe=Ce/de;return{fromUnitSpace(z){return z*fe},toUnitSpace(z){return z*K},leftPadding:10}},[F,w.width]),te=Ko.prism.memo("setClippedSpaceRange",()=>function(de){r.transaction(({stateEditors:Ce})=>{let K=re({},de);if(K.end<=K.start&&(K.end=K.start+1),K.start<0){let fe=K.end-K.start;K.start=0,K.end=fe}Ce.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(Pe(re({},e.address),{range:K}))})},[]),se=Ko.prism.memo("clippedSpace",()=>({range:F,width:w.width,fromUnitSpace(de){return L.fromUnitSpace(de-F.start)+L.leftPadding},toUnitSpace(de){return L.toUnitSpace(de-L.leftPadding)+F.start},setRange:te}),[F,w.width,L,te]),Z=Ko.prism.memo("selection.current",()=>new Ko.Atom({}),[]);return Fj("finalAtom",{sheet:e,tree:u,panelDims:c,leftDims:_,rightDims:w,dopeSheetDims:x,horizontalScrollbarDims:k,seeker:D,unitSpace:M,scaledSpace:L,clippedSpace:se,graphEditorDims:v,graphEditorVerticalSpace:E,selectionAtom:Z}).pointer})}var Ko,_W,kW,Xae=I(()=>{ut(),Hae(),xU(),Ko=rt(),Gae(),nn(),_W=.2,kW={start:0,end:10}});function Yae(e){let{fullSecondStampsContainer:t,sequencePositionFormatter:r,snapToGrid:o,unitSpaceToClippedSpace:a}=e,s="";_K(e,(u,c)=>{let f=o(u),h=a(f);c?s+=xW(r.formatFullUnitForGrid(f),h,"full-unit"):s+=xW(r.formatSubUnitForGrid(f),h,"sub-unit")}),t.innerHTML=s}function xW(e,t,r){return'<span class="'.concat(r,'" style="transform: translate3d(').concat(t.toFixed(1),'px, -50%, 0);">').concat(e,"</span>")}var ff,pf,SW,EW,uc,PW,CW,IW,OW,jW,TW,AW=I(()=>{ff=rt(),ai(),pf=oe(pe()),Re(),xK(),ut(),EW=G.div(SW||(SW=Y([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),uc={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return O0(.2,uc.fullUnitStampColor)}},CW=G.div(PW||(PW=Y([`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`]))),OW=G.div(IW||(IW=Y([`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: `,`;
    text-align: center;
    font-size: `,`;
    width: 20px;

    &.full-unit {
      color: `,`;
    }

    &.sub-unit {
      color: `,`;
    }
  }

  pointer-events: none;
`])),uc.fullUnitStampColor,uc.stampFontSize,uc.fullUnitStampColor,uc.subUnitStampColor),jW=({layoutP:e,width:t})=>{let r=(0,pf.useRef)(null),[o,a]=(0,pf.useState)(null);return(0,pf.useLayoutEffect)(()=>{if(o)return(0,ff.prism)(()=>{let s=(0,ff.val)(e.sheet).getSequence();return{fullSecondStampsContainer:o,clippedSpaceRange:(0,ff.val)(e.clippedSpace.range),clippedSpaceWidth:(0,ff.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,ff.val)(e.clippedSpace.fromUnitSpace),leftPadding:(0,ff.val)(e.scaledSpace.leftPadding),fps:s.subUnitsPerUnit,sequencePositionFormatter:s.positionFormatter,snapToGrid:u=>s.closestGridPosition(u)}}).onChange(ve().ticker,Yae,!0)},[o,t,e]),pf.default.createElement(EW,{ref:r,style:{width:t+"px"}},pf.default.createElement(CW,{style:{width:t+"px"}},pf.default.createElement(OW,{ref:a})))},TW=jW});function Qae(e){let[t,r]=(0,o3.useState)(!1);return(0,o3.useEffect)(()=>{if(r(!1),!e)return;let o=s=>{s.target===e?r(!0):r(!1)},a=()=>{r(!1)};return e.addEventListener("mouseenter",o),e.addEventListener("mousemove",o),e.addEventListener("mouseleave",a),()=>{r(!1),e.removeEventListener("mouseenter",o),e.removeEventListener("mousemove",o),e.removeEventListener("mouseleave",a)}},[e]),t}var o3,Jae=I(()=>{o3=oe(pe())});function ese(e,t){let r=0,[o,a]=e,[s,u]=t;return a-o>u-s?[s,u]:(o<s&&(r=0-o),a>u&&(r=u-a),[o+r,a+r])}var _s,cc,gn,i3,DW,bE,zW,BW,RW=I(()=>{_s=rt(),xt(),ur(),ut(),gf(),xo(),hn(),lr(),cc=oe(pe()),Re(),Wn(),gn={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},i3=1e3,bE=G.div(DW||(DW=Y([`
  position: absolute;
  height: `,`px;
  background-color: `,`;
  cursor: grab;
  top: 0;
  left: 0;
  width: `,`px;
  transform-origin: left top;
  &:hover {
    background-color: `,`;
  }
  &.dragging {
    background-color: `,`;
    cursor: grabbing !important;
  }
  `,`;

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`])),()=>xs-1,e=>e.enabled?gn.enabled.backgroundColor:gn.disabled.backgroundColor,i3,gn.hover.backgroundColor,gn.dragging.backgroundColor,ar),zW=({layoutP:e})=>{let t=(0,cc.useMemo)(()=>(0,_s.prism)(()=>{let{projectId:h,sheetId:y}=(0,_s.val)(e.sheet).address;return(0,_s.val)(ve().atomP.ahistoric.projects.stateByProjectId[h].stateBySheetId[y].sequence.focusRange)}),[e]),[r,o]=rr(null),[a]=ko(o,{menuItems:()=>{let h=(0,_s.val)(e.sheet),y=t.getValue();return[{label:"Delete focus range",callback:()=>{ve().tempTransaction(({stateEditors:_})=>{_.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(re({},h.address))}).commit()}},{label:y!=null&&y.enabled?"Disable focus range":"Enable focus range",callback:()=>{y!==void 0&&ve().tempTransaction(({stateEditors:_})=>{_.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(Pe(re({},h.address),{range:y.range,enabled:!y.enabled}))}).commit()}}]}}),s=Gt(e.scaledSpace.toUnitSpace),u=Gt(e.sheet),c=(0,cc.useMemo)(()=>{let h,y;return{debugName:"FocusRangeStrip",onDragStart(_){let w,v=t.getValue();if(!v)return!1;let x=v.range.start,k=v.range.end,E=!1,C=(0,_s.val)(e.sheet).getSequence();return{onDrag(j){if(v=t.getValue(),v){E=!0;let D=s(j),M=x+D,F=k+D;F<M&&(F=M),[h,y]=ese([M,F],[0,C.length]).map(L=>C.closestGridPosition(L)),w&&w.discard(),w=ve().tempTransaction(({stateEditors:L})=>{var te;L.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(Pe(re({},u.address),{range:{start:h,end:y},enabled:(te=v==null?void 0:v.enabled)!=null?te:!0}))})}},onDragEnd(){v&&(E&&w!==void 0?w.commit():w&&w.discard())}}},lockCSSCursorTo:"grabbing"}},[u,s]),[f]=Wr(o,c);return Nl(f,-1),Wt(()=>{let h=t.getValue(),y=(h==null?void 0:h.range)||{start:0,end:0},_=(0,_s.val)(e.clippedSpace.fromUnitSpace)(y.start),w=(0,_s.val)(e.clippedSpace.fromUnitSpace)(y.end),v,x;return _<0&&(_=0),w>(0,_s.val)(e.clippedSpace.width)&&(w=(0,_s.val)(e.clippedSpace.width)),_>w?(x=0,v=0):(x=_,v=(w-_)/i3),h?cc.default.createElement(cc.default.Fragment,null,a,cc.default.createElement(bE,{id:"range-strip",enabled:h.enabled,className:"".concat(f?"dragging":""," ").concat(h.enabled?"enabled":""),ref:r,style:{transform:"translateX(".concat(x,"px) scale(").concat(v,", 1)")}})):cc.default.createElement(cc.default.Fragment,null)},[e,r,t,a,f])},BW=zW}),dc,Ul,NW,FW,MW,UW,VW,HW,LW,a3,tse=I(()=>{dc=rt(),xt(),ut(),gf(),si(),hn(),lr(),Ul=oe(pe()),Re(),Wn(),RW(),ka(),FW=G.div(NW||(NW=Y([`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: `,`px;
  transform-origin: left top;
  width: `,`px;
  height: `,`px;
  z-index: 3;

  --bg: `,`;

  stroke: `,`;
  user-select: none;

  cursor: `,`;

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  `,`:hover ~ &, &:hover {
    --bg: `,`;
    stroke: `,`;
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  `,`.dragging.dragging ~ & {
    --bg: `,`;
    stroke: `,`;
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: `,`;
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`])),e=>e.type==="start"?0:-gn.thumbWidth,gn.thumbWidth,()=>xs-1,({enabled:e})=>e?gn.enabled.backgroundColor:gn.disabled.backgroundColor,gn.enabled.stroke,e=>e.type==="start"?"w-resize":"e-resize",Il,()=>bE,gn.hover.backgroundColor,gn.hover.stroke,()=>bE,gn.dragging.backgroundColor,gn.dragging.stroke,gn.dragging.backgroundColor),UW=G.div(MW||(MW=Y([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?90:-90,e=>e.type==="start"?gn.thumbWidth:-gn.thumbWidth+1),HW=G.div(VW||(VW=Y([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    `,` 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?-90:90,()=>Uy.backgroundColor,e=>e.type==="start"?-12:gn.thumbWidth),LW=({layoutP:e,thumbType:t})=>{var r;let[o,a]=rr(null),s=(0,Ul.useMemo)(()=>(0,dc.prism)(()=>{let{projectId:h,sheetId:y}=(0,dc.val)(e.sheet).address;return(0,dc.val)(ve().atomP.ahistoric.projects.stateByProjectId[h].stateBySheetId[y].sequence.focusRange)}),[e]),u=(0,Ul.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let h,y,_=(0,dc.val)(e.sheet),w={start:0,end:_.getSequence().length},v=s.getValue()||{range:w,enabled:!1},x=v.enabled,k=v.range[t],E=(0,dc.val)(e.scaledSpace.toUnitSpace),C=E(gn.rangeStripMinWidth);return{onDrag(j,D,M){var F;let L,te=So.checkIfMouseEventSnapToPos(M,{ignore:a});if(te==null){let Z=E(j);L=k+Z}else L=te;y=((F=s.getValue())==null?void 0:F.range)||w,t==="start"?L=Math.max(Math.min(L,y.end-C),0):L=Math.min(Math.max(L,y.start+C),_.getSequence().length);let se=_.getSequence().closestGridPosition(L);h!==void 0&&h.discard(),h=ve().tempTransaction(({stateEditors:Z})=>{Z.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(Pe(re({},_.address),{range:Pe(re({},y),{[t]:se}),enabled:x}))})},onDragEnd(j){j?h==null||h.commit():h==null||h.discard()}}}}),[e]),[c]=Wr(a,u);Oi(c,"draggingPositionInSequenceEditor",t==="start"?"w-resize":"e-resize");let f=Gt(s);return Nl(c,(r=f==null?void 0:f.range[t])!=null?r:0),Wt(()=>{let h=s.getValue();if(!h)return null;let{enabled:y}=h,_=h.range[t],w=(0,dc.val)(e.clippedSpace.fromUnitSpace)(_);return(w<0||(0,dc.val)(e.clippedSpace.width)<w)&&(w=-1e4),Ul.default.createElement(FW,Pe(re(re({ref:o},So.includePositionSnapAttrs(_)),ms(_)),{className:"".concat(c&&"dragging"," ").concat(y&&"enabled"),enabled:y,type:t,style:{transform:"translate3d(".concat(w,"px, 0, 0)")}}),Ul.default.createElement(UW,{type:t,enabled:y}),Ul.default.createElement(HW,{type:t}),Ul.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},Ul.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),Ul.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[e,o,s,c])},a3=LW});function rse(e,t){let[r,o]=(0,ks.useState)("none");return Oi(r!=="none","dragging",r==="creating"?"ew-resize":"move"),(0,ks.useMemo)(()=>{let a=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(u){let c,f=(0,hf.val)(e.clippedSpace.toUnitSpace),h=(0,hf.val)(e.scaledSpace.toUnitSpace),y=(0,hf.val)(e.sheet),_=y.getSequence(),w=u.target.getBoundingClientRect(),v=f(u.clientX-w.left),x=h(gn.rangeStripMinWidth);return{onDrag(k){let E=h(k),C=v,j=v+E;[C,j]=[Ir(C,0,_.length),Ir(j,0,_.length)].map(D=>_.closestGridPosition(D)),j<C?[C,j]=[Math.max(Math.min(j,C-x),0),C]:k>0&&(j=Math.min(Math.max(j,C+x),_.length)),c&&c.discard(),c=ve().tempTransaction(({stateEditors:D})=>{D.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(Pe(re({},y.address),{range:{start:C,end:j},enabled:!0}))})},onDragEnd(k){k&&c!==void 0?c.commit():c&&c.discard()}}},lockCSSCursorTo:"ew-resize"}),s=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let u,c=t.current,f=t.current.addBoundsHighlightLock();return{onDrag(h,y){let _=Pe(re({},c.dims),{top:Ir(c.dims.top+y,0,window.innerHeight-ns),left:Ir(c.dims.left+h,-c.dims.width+ns,window.innerWidth-ns)}),w=xS(_,{width:window.innerWidth,height:window.innerHeight});u==null||u.discard(),u=ve().tempTransaction(({stateEditors:v})=>{v.studio.historic.panelPositions.setPanelPosition({position:w,panelId:c.panelId})})},onDragEnd(h){f(),h?u==null||u.commit():u==null||u.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(u){let[c,f]=u.shiftKey?["creating",a().onDragStart(u)]:["moving-panel",s().onDragStart(u)];return o(c),f===!1?!1:{onDrag(h,y,_,w,v){f.onDrag(h,y,_,w,v)},onDragEnd(h){var y;o("none"),(y=f.onDragEnd)==null||y.call(f,h)}}}}},[e,t])}var hf,ks,KW,WW,qW,$W,nse=I(()=>{hf=rt(),xt(),ut(),bg(),gf(),si(),hn(),Jae(),MU(),lr(),nn(),ks=oe(pe()),Re(),RW(),tse(),Pl(),WW=G.div(KW||(KW=Y([`
  position: absolute;
  height: `,`px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: `,`;
`])),()=>xs,e=>e.isShiftDown?"ew-resize":"move"),qW=({layoutP:e})=>{let[t,r]=rr(null),o=yg(),a=(0,ks.useRef)(o);a.current=o;let s=(0,ks.useMemo)(()=>(0,hf.prism)(()=>{let{projectId:f,sheetId:h}=(0,hf.val)(e.sheet).address;return(0,hf.val)(ve().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[h].sequence.focusRange)}),[e]);Wr(r,rse(e,a));let u=NU("Shift"),c=Qae(r);return(0,ks.useEffect)(()=>{if(!u&&c)return a.current.addBoundsHighlightLock()},[!u&&c]),Wt(()=>ks.default.createElement(WW,{ref:t,isShiftDown:u},ks.default.createElement(BW,{layoutP:e}),ks.default.createElement(a3,{thumbType:"start",layoutP:e}),ks.default.createElement(a3,{thumbType:"end",layoutP:e})),[e,s,u])},$W=qW}),jg,xs,Uy,GW,ZW,XW,YW,gf=I(()=>{xt(),jg=oe(pe()),Re(),AW(),Wn(),ur(),nse(),xs=18,Uy={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},ZW=G.div(GW||(GW=Y([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border-bottom: 1px solid `,`;
  `,`;
`])),xs,Uy.backgroundColor,Uy.borderColor,ar),XW=({layoutP:e})=>{let t=Gt(e.rightDims.width);return jg.default.createElement(jg.default.Fragment,null,jg.default.createElement(ZW,re({},ms("hide")),jg.default.createElement(TW,{layoutP:e,width:t,height:xs}),jg.default.createElement($W,{layoutP:e})))},YW=XW}),mf,QW,JW,eq,tq,rq,nq,oq,iq,ose=I(()=>{mf=oe(pe()),Re(),xt(),ut(),dO(),Ld(),QW=e=>isFinite(e)&&e>0,eq=G.div(JW||(JW=Y([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),rq=G.div(tq||(tq=Y([`
  `,`;
  white-space: nowrap;
`])),Zu),nq=({deltaX:e})=>e*.25,oq=({layoutP:e})=>{let t=Gt(e.sheet),r=(0,mf.useMemo)(()=>{let a;return{temporarilySetValue(s){a&&(a.discard(),a=void 0),a=ve().tempTransaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.setLength(Pe(re({},t.address),{length:s}))})},discardTemporaryValue(){a&&(a.discard(),a=void 0)},permanentlySetValue(s){a&&(a.discard(),a=void 0),ve().transaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.setLength(Pe(re({},t.address),{length:s}))})}}},[e,t]),o=(0,mf.useRef)(null);return(0,mf.useLayoutEffect)(()=>{o.current.focus()},[]),Wt(()=>{let a=t.getSequence().length;return mf.default.createElement(eq,null,mf.default.createElement(rq,null,"Sequence length"),mf.default.createElement(Px,Pe(re({value:a},r),{isValid:QW,inputRef:o,nudge:nq})))},[t,r,o])},iq=oq});function ise(e,t){let r=(0,Wo.useRef)(t);r.current=t;let o=(0,Wo.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(s){let u,c=r.current,f=(0,vf.val)(r.current.layoutP.sheet),h=f.getSequence().length,y=(0,vf.val)(c.layoutP.scaledSpace.toUnitSpace);return{onDrag(_,w,v){let x=y(_);u&&(u.discard(),u=void 0),u=ve().tempTransaction(({stateEditors:k})=>{k.coreByProject.historic.sheetsById.sequence.setLength(Pe(re({},f.address),{length:h+x}))})},onDragEnd(_){_?u&&u.commit():u&&u.discard()}}}}),[]),[a]=Wr(e,o);return Nl(a,-1),[a]}var vf,Wo,s3,Vy,aq,fc,sq,lq,uq,cq,dq,fq,pq,hq,gq,mq,vq,ase=I(()=>{xt(),vf=rt(),Wo=oe(pe()),Re(),Ll(),gf(),lr(),hn(),ut(),ls(),Wn(),ag(),ose(),ur(),cs(),s3=1e3,Vy={stripNormal:"#0000006c",stripActive:"#000000"},fc=G.div(aq||(aq=Y([`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: `,`;
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: `,`px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: `,`;
  }

  &:hover:after,
  &.dragging:after {
    background-color: `,`;
  }
`])),()=>Es.lengthIndicatorStrip,xs,Vy.stripNormal,Vy.stripActive),lq=G.div(sq||(sq=Y([`
  position: absolute;
  top: `,`px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`])),xs-15),cq=G.div(uq||(uq=Y([`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  `,`;
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  `,":hover &, ",`.dragging & {
    display: block;
    color: white;
    background-color: `,`;
  }
`])),ar,fc,fc,Vy.stripActive),fq=G.div(dq||(dq=Y([`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  `,`;
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  `,":hover &, ",`.dragging & {
    color: white;
    background-color: `,`;

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`])),ar,fc,fc,Vy.stripActive),hq=G.div(pq||(pq=Y([`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: `,`px;
  z-index: `,`;
  transform-origin: left top;

  `,".dragging ~ &, ",`:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`])),s3,()=>Es.lengthIndicatorCover,fc,fc),gq=-1e4,mq=({layoutP:e})=>{let[t,r]=rr(null),[o]=ise(r,{layoutP:e}),{node:a,toggle:s,close:u}=ss({debugName:"LengthIndicator"},()=>Wo.default.createElement(us,null,Wo.default.createElement(iq,{layoutP:e,onRequestClose:u})));return Wt(()=>{let c=(0,vf.val)(e.sheet),f=(0,vf.val)(e.rightDims.height),h=c.getSequence(),y=h.length,_=y,w=(0,vf.val)(e.clippedSpace.fromUnitSpace)(_),v=(0,vf.val)(e.clippedSpace.width),x,k;return w>v?(k=0,x=0):(w<0&&(w=0),k=w,x=(v-w)/s3),Wo.default.createElement(Wo.default.Fragment,null,a,Wo.default.createElement(fc,{style:{height:f+"px",transform:"translateX(".concat(k===0?gq:k,"px)")},className:o?"dragging":""},Wo.default.createElement(lq,null,Wo.default.createElement(fq,re({ref:t,onClick:E=>{s(E,r)}},ms("hide")),Wo.default.createElement(Zre,null),Wo.default.createElement(Xre,null)),Wo.default.createElement(cq,null,"Sequence length:"," ",h.positionFormatter.formatBasic(y)))),Wo.default.createElement(hq,{title:"Length",style:{height:f+"px",transform:"translateX(".concat(k,"px) scale(").concat(x,", 1)")}}))},[e,t,o,a])},vq=mq}),l3,Vl,yq,bq,wq,_q,kq,xq,Sq,Eq,sse=I(()=>{xt(),l3=rt(),Vl=oe(pe()),Re(),AW(),Ll(),gf(),Wn(),bq=G.div(yq||(yq=Y([`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`]))),_q=G.div(wq||(wq=Y([`
  position: absolute;
  top: 16px;
  font-size: `,`;
  color: `,`;
  text-align: center;
  transform: translateX(-50%);
  background: `,`;
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: `,`;
`])),uc.stampFontSize,uc.fullUnitStampColor,Uy.backgroundColor,()=>Es.currentFrameStamp),xq=G.div(kq||(kq=Y([`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`]))),Sq=Vl.default.memo(({layoutP:e})=>{let[t,r]=Gt(sV()),o=Gt(e.clippedSpace.fromUnitSpace),{sequence:a,formatter:s,clippedSpaceWidth:u}=Wt(()=>{let y=(0,l3.val)(e.sheet).getSequence(),_=(0,l3.val)(e.clippedSpace.width);return{sequence:y,formatter:y.positionFormatter,clippedSpaceWidth:_}},[e]);if(t==-1)return Vl.default.createElement(Vl.default.Fragment,null);let c=r===3?a.closestGridPosition(t):t,f=o(c),h=f>=0&&f<=u;return Vl.default.createElement(Vl.default.Fragment,null,Vl.default.createElement(bq,null,Vl.default.createElement(_q,{style:{opacity:h?1:0,transform:"translate3d(calc(".concat(f,"px - 50%), 0, 0)")}},s.formatForPlayhead(c)),Vl.default.createElement(xq,{posType:r,style:{opacity:h?1:0,transform:"translate3d(".concat(f,"px, 0, 0)")}}))," ")}),Eq=Sq}),xa,Co,Pq,Cq,Iq,Oq,jq,wE,Tq,u3,Aq,_E,Dq,kE,zq,c3,Bq,Rq,lse=I(()=>{xt(),xa=rt(),n0(),ai(),Co=oe(pe()),Re(),Ll(),Wn(),ur(),hn(),Cq=G.div(Pq||(Pq=Y([`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: `,`;
  `,`
`])),()=>Es.horizontalScrollbar,ar),Oq=G.div(Iq||(Iq=Y([`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`]))),wE=G.div(jq||(jq=Y([`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),g5("absolute","-4px")),u3=G.div(Tq||(Tq=Y([`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    `,`;
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),g5("absolute","0"),g5("absolute","-4px")),_E=G(u3)(Aq||(Aq=Y([`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`]))),kE=G(u3)(Dq||(Dq=Y([`
  cursor: e-resize;
  left: 0px;
`]))),c3=G.div(zq||(zq=Y([`
  display: `,`;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  `,`:hover &,
  `,`:hover &,
  `,":hover ~ ",` &,
  `,":hover ~ ",` & {
    display: block;
  }
`])),e=>e.active?"block":"none",_E,kE,wE,_E,wE,kE),Bq=({layoutP:e})=>{let t=(0,Co.useCallback)(E=>E.toFixed(2),[]),r=(0,Co.useMemo)(()=>(0,xa.prism)(()=>{let E=(0,xa.val)(e.rightDims.width)-25,C=(0,xa.val)(e.clippedSpace.range),j=(0,xa.val)(e.sheet).getSequence().length,D=Math.max(C.end,j),M=C.start/D*E,F=C.end/D*E;return{rightWidth:E,clippedSpaceRange:C,sequenceLength:j,assumedLengthOfSequence:D,rangeStartX:M,rangeEndX:F,bottom:(0,xa.val)(e.horizontalScrollbarDims.bottom)}}),[e]),{rangeStartX:o,rangeEndX:a,clippedSpaceRange:s,bottom:u}=Gt(r),[c,f]=(0,Co.useState)("nothing"),h=(0,Co.useMemo)(()=>{let E=(0,xa.val)(r),C=()=>{E=(0,xa.val)(r)},j=D=>D/E.rightWidth*E.assumedLengthOfSequence;return{onRangeDragStart(){return C(),{onDrag(D){f("both");let M=j(D),F=Za(E.clippedSpaceRange,L=>L+M);(0,xa.val)(e.clippedSpace.setRange)(F)},onDragEnd(){f("nothing")}}},onRangeStartDragStart(){return C(),{onDrag(D){f("start");let M=j(D),F={start:E.clippedSpaceRange.start+M,end:E.clippedSpaceRange.end};F.start>F.end-1&&(F.start=F.end-1),F.start<=0&&(F.start=0),(0,xa.val)(e.clippedSpace.setRange)(F)},onDragEnd(){f("nothing")}}},onRangeEndDragStart(){return C(),{onDrag(D){f("end");let M=j(D),F={start:E.clippedSpaceRange.start,end:E.clippedSpaceRange.end+M};F.end<F.start+1&&(F.end=F.start+1),F.end>=E.assumedLengthOfSequence&&(F.end=E.assumedLengthOfSequence),(0,xa.val)(e.clippedSpace.setRange)(F)},onDragEnd(){f("nothing")}}}}},[e,r]),[y,_]=(0,Co.useState)(null);Wr(y,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:h.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[w,v]=(0,Co.useState)(null);Wr(w,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:h.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[x,k]=(0,Co.useState)(null);return Wr(x,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:h.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),Co.default.createElement(Cq,re({style:{bottom:u+8+"px"}},ms("hide")),Co.default.createElement(Oq,null,Co.default.createElement(wE,{ref:_,style:{width:"".concat(a-o,"px"),transform:"translate3d(".concat(o,"px, 0, 0)")}}),Co.default.createElement(_E,{ref:v,style:{transform:"translate3d(".concat(o,"px, 0, 0)")}},Co.default.createElement(c3,{active:c==="both"||c==="start"},t(s.start))),Co.default.createElement(kE,{ref:k,style:{transform:"translate3d(".concat(a,"px, 0, 0)")}},Co.default.createElement(c3,{active:c==="both"||c==="end"},t(s.end)))))},Rq=Bq}),Nq,Fq,Mq,Uq,Vq,use=I(()=>{Nq=oe(pe()),Re(),Mq=G.div(Fq||(Fq=Y([`
  position: absolute;
  inset: `,`px;
`])),e=>e.room*-1),Uq=e=>Nq.default.createElement(Mq,{room:e.room}),Vq=Uq}),xE,SE,d3,Hq,Lq,Kq,Wq,qq,$q,Gq,Zq,cse=I(()=>{Re(),xt(),dO(),Ld(),xE=oe(pe()),SE=oe(pe()),d3=rt(),_d(),Hq=e=>isFinite(e)&&e>=0,Kq=G.div(Lq||(Lq=Y([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),qq=G.div(Wq||(Wq=Y([`
  `,`;
  white-space: nowrap;
`])),Zu),$q=({deltaX:e})=>e*.25,Gq=({layoutP:e,onRequestClose:t})=>{let r=(0,d3.val)(e.sheet),o=r.getSequence(),a=(0,xE.useMemo)(()=>{let u,c=o.position;return{temporarilySetValue(f){u&&(u=void 0),u=Ir(f,0,o.length),o.position=u},discardTemporaryValue(){u&&(u=void 0,o.position=c,t("discardTemporaryValue"))},permanentlySetValue(f){u&&(u=void 0),o.position=Ir(f,0,o.length),t("permanentlySetValue")}}},[e,o]),s=(0,xE.useRef)(null);return(0,xE.useLayoutEffect)(()=>{s.current.focus()},[]),Wt(()=>{let u=r.getSequence(),c=Number((0,d3.val)(u.pointer.position).toFixed(3));return SE.default.createElement(Kq,null,SE.default.createElement(qq,null,"Sequence position"),SE.default.createElement(Px,Pe(re({value:c},a),{isValid:Hq,inputRef:s,nudge:$q})))},[r,a,s])},Zq=Gq}),Xq,dse=I(()=>{Xq=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0}),Yq,fse=I(()=>{dse(),Yq=e=>Xq?e.metaKey===!0:e.ctrlKey===!0});function pse(){EE=!1}function hse(){EE=!0}function gse(){let e=ve();(0,Qq.useEffect)(()=>{let t=r=>{let o=r.composedPath()[0];if(!(o&&(o.tagName==="INPUT"||o.tagName==="TEXTAREA"))){if(r.key==="z"||r.key==="Z"||r.code==="KeyZ")if(Yq(r))r.shiftKey===!0?e.redo():e.undo();else return;else if(r.code==="Space"&&!r.shiftKey&&!r.metaKey&&!r.altKey&&!r.ctrlKey){if(!EE)return;let a=yre();if(a)if(a.playing)a.pause();else{let{projectId:s,sheetId:u}=a.address,c=(0,Sa.prism)(()=>{let y=(0,Sa.val)(ve().atomP.ahistoric.projects.stateByProjectId[s].stateBySheetId[u].sequence.focusRange);return Sa.prism.memo("shouldFollowFocusRange",()=>{let _=a.position;if(y){let w=_>=y.range.start&&_<=y.range.end;return y.enabled?!!w:!0}else return!0},[])&&y&&y.enabled?{range:[y.range.start,y.range.end],isFollowingARange:!0}:{range:[0,(0,Sa.val)(a.pointer.length)],isFollowingARange:!1}}),f=a.playDynamicRange((0,Sa.prism)(()=>(0,Sa.val)(c).range),ve().ticker),h=f3(a);f.finally(()=>{h.set(void 0)}),h.set(c)}else return}else if(r.altKey&&(r.key==="\\"||r.code==="Backslash"||r.code==="IntlBackslash"))e.transaction(({stateEditors:a,drafts:s})=>{a.studio.ahistoric.setVisibilityState(s.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;r.preventDefault(),r.stopPropagation()}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[])}var Qq,Sa,EE,f3,Jq,p3=I(()=>{Qq=oe(pe()),ut(),fse(),Ku(),Sa=rt(),Kx(),EE=!0,f3=X0(e=>new Sa.Atom(void 0)),Jq=X0(e=>(0,Sa.prism)(()=>{let t=f3(e).prism.getValue();if(t)return t.getValue().isFollowingARange;{let{projectId:r,sheetId:o}=e.address,a=(0,Sa.val)(ve().atomP.ahistoric.projects.stateByProjectId[r].stateBySheetId[o].sequence.focusRange);if(!a||!a.enabled)return!1;let s=(0,Sa.val)(e.pointer.position);return s>=a.range.start&&s<=a.range.end}}))});function mse(e,t){return ko(e,{menuItems(){return[{label:"Place marker",callback:()=>{ve().transaction(({stateEditors:r})=>{let o=(0,Ss.val)(t.layoutP.sheet),a=o.getSequence();r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:o.address,markers:[{id:roe(),position:a.position}],snappingFunction:a.closestGridPosition})})}}]}})}var Ss,Ri,e$,yf,t$,r$,n$,h3,o$,i$,a$,s$,l$,u$,vse=I(()=>{use(),hn(),lr(),xt(),Ss=rt(),_d(),Ri=oe(pe()),Re(),Ll(),Wn(),ur(),ls(),cs(),cse(),p3(),si(),xo(),ut(),Dl(),ka(),Qd(),yf=G.div(e$||(e$=Y([`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: `,`;
  pointer-events: none;

  display: `,`;
`])),()=>Es.playhead,e=>e.isVisible?"block":"none"),r$=G.div(t$||(t$=Y([`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(`,`); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`])),Il),h3=G.div(n$||(n$=Y([`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  `,`;

  `,`.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    `,`:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  `,`.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`])),ar,yf,yf,Il,yf),i$=G.div(o$||(o$=Y([`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* `,`.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`])),yf),s$=G.div(a$||(a$=Y([`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  `,":hover &, ",`.seeking & {
    display: block;
  }
`])),h3,yf),l$=({layoutP:e})=>{let[t,r]=rr(null),{node:o,toggle:a,close:s}=ss({debugName:"Playhead"},()=>Ri.default.createElement(us,null,Ri.default.createElement(Zq,{layoutP:e,onRequestClose:s}))),u=(0,Ri.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let h=(0,Ss.val)(e.sheet).getSequence(),y=h.position,_=(0,Ss.val)(e.scaledSpace.toUnitSpace),w=(0,Ss.val)(e.seeker.setIsSeeking);return w(!0),Yj(),{onDrag(v,x,k){var E;let C=_(v);h.position=(E=So.checkIfMouseEventSnapToPos(k,{ignore:r}))!=null?E:Ir(y+C,0,h.length)},onDragEnd(v){w(!1),Yd()},onClick(v){a(v,t.current)}}}}),[e,r]),[c]=Wr(r,u);Oi(c,"draggingPositionInSequenceEditor","ew-resize"),Nl(Gt(e.seeker.isSeeking)||c,-1);let[f]=mse(r,{layoutP:e});return Wt(()=>{let h=(0,Ss.val)(e.seeker.isSeeking),y=(0,Ss.val)(e.sheet).getSequence(),_=(0,Ss.val)(Jq(y)),w=y.positionPrism.getValue(),v=(0,Ss.val)(e.clippedSpace.fromUnitSpace)(w),x=v>=0&&v<=(0,Ss.val)(e.clippedSpace.width);return Ri.default.createElement(Ri.default.Fragment,null,f,o,Ri.default.createElement(yf,re({isVisible:x,style:{transform:"translate3d(".concat(v,"px, 0, 0)")},className:"".concat(h&&"seeking"," ").concat(_&&"playheadattachedtofocusrange")},ms("hide")),Ri.default.createElement(h3,re({ref:t},So.includePositionSnapAttrs(w)),Ri.default.createElement(Vq,{room:8}),Ri.default.createElement(i$,null),Ri.default.createElement(s$,null,y.positionFormatter.formatForPlayhead(y.closestGridPosition(w)))),Ri.default.createElement(r$,Pe(re({},So.includePositionSnapAttrs(w)),{className:h?"seeking":""}))))},[e,t,o])},u$=l$}),bf,Hy,PE,c$,d$,f$,p$,yse=I(()=>{bf=rt(),xt(),ut(),gf(),Hy=oe(pe()),Re(),PE=1e3,d$=G.div(c$||(c$=Y([`
  position: absolute;
  top: `,`px;
  left: 0;
  opacity: 0.15;
  width: `,`px;
  transform-origin: top left;
  pointer-events: none;
  background-color: `,`;
`])),xs,PE,e=>e.enabled?"#000000":"transparent"),f$=({layoutP:e})=>{let t=(0,Hy.useMemo)(()=>(0,bf.prism)(()=>{let{projectId:r,sheetId:o}=(0,bf.val)(e.sheet).address;return(0,bf.val)(ve().atomP.ahistoric.projects.stateByProjectId[r].stateBySheetId[o].sequence.focusRange)}),[e]);return Wt(()=>{let r=t.getValue();if(!r||!r.enabled)return null;let{range:o}=r,a=(0,bf.val)(e.rightDims.height)-xs,s=(0,bf.val)(e.clippedSpace.fromUnitSpace),u=(0,bf.val)(e.clippedSpace.width),c=[];{let f=0,h=s(r.range.start),y,_;f>h?(_=0,y=0):(h>u&&(h=u),_=f,y=(h-f)/PE),c.push({translateX:_,scaleX:y})}{let f=s(r.range.end),h=u,y,_;f>h?(_=0,y=0):(f<0&&(f=0),_=f,y=(h-f)/PE),c.push({translateX:_,scaleX:y})}return Hy.default.createElement(Hy.default.Fragment,null,c.map(({translateX:f,scaleX:h},y)=>Hy.default.createElement(d$,{key:"curtain-".concat(y),enabled:!0,style:{height:"".concat(a,"px"),transform:"translateX(".concat(f,"px) scaleX(").concat(h,")")}})))},[e,t])},p$=f$}),Tg,h$,g$,m$,v$,y$,bse=I(()=>{Tg=oe(pe()),Re(),xt(),ut(),Ld(),yO(),g$=G.div(h$||(h$=Y([`
  display: flex;
  gap: 8px;
  /* padding: 4px 8px; */
  height: 28px;
  align-items: center;
`]))),G.div(m$||(m$=Y([`
  `,`;
  white-space: nowrap;
`])),Zu),v$=({layoutP:e,marker:t})=>{var r;let o=Gt(e.sheet),a=(0,Tg.useMemo)(()=>{let u;return{temporarilySetValue(c){u&&(u.discard(),u=void 0),u=ve().tempTransaction(({stateEditors:f})=>{f.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:c})})},discardTemporaryValue(){u&&(u.discard(),u=void 0)},permanentlySetValue(c){u&&(u.discard(),u=void 0),ve().transaction(({stateEditors:f})=>{f.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:c})})}}},[e,o]),s=(0,Tg.useRef)(null);return(0,Tg.useLayoutEffect)(()=>{s.current.focus()},[]),Tg.default.createElement(g$,null,Tg.default.createElement(Ix,Pe(re({value:(r=t.label)!=null?r:""},a),{isValid:()=>!0,inputRef:s})))},y$=v$});function wse(e,t){return ko(e,{menuItems(){return[{label:"Remove marker",callback:()=>{ve().transaction(({stateEditors:r})=>{r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:t.sheetAddress,markerId:t.markerId})})}}]}})}function _se(e,t){let r=(0,Io.useRef)(t);r.current=t;let o=(0,Io.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(t.marker.id,")"),onDragStart(s){let u=r.current.marker,c=(0,CE.val)(t.layoutP.scaledSpace.toUnitSpace),f;return Yj(),{onDrag(h,y,_){var w;let v=u,x=Math.max((w=So.checkIfMouseEventSnapToPos(_,{ignore:e}))!=null?w:v.position+c(h),0);f==null||f.discard(),f=ve().tempTransaction(({stateEditors:k})=>{k.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,CE.val)(t.layoutP.sheet.address),markers:[Pe(re({},v),{position:x})],snappingFunction:(0,CE.val)(t.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(h){h?f==null||f.commit():f==null||f.discard(),Yd()}}}}),[]),[a]=Wr(e,o);return Nl(a,t.marker.position),Oi(a,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[a]}var CE,Io,g3,m3,b$,w$,_$,k$,x$,IE,S$,E$,P$,C$,I$,O$,kse=I(()=>{CE=rt(),xt(),ut(),si(),xo(),lr(),Io=oe(pe()),Re(),Wn(),hn(),Ll(),ka(),DS(),hV(),Qd(),ls(),cs(),bse(),g3=12,m3=12,b$=g3*2,w$=m3*2,k$=G.div(_$||(_$=Y([`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: `,`;
`])),()=>Es.marker),IE=G.div(x$||(x$=Y([`
  position: absolute;
  `,`
  pointer-events: none;
`])),Ai(g3,m3)),S$=Io.default.memo(()=>Io.default.createElement(IE,{children:Io.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Io.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),P$=G.div(E$||(E$=Y([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    `,`
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.`,` {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &:hover
    + `,`,
    // notice , "or" in CSS
    &.`,`
    + `,` {
    `,`
  }
`])),vs.CSS,vs.CSS_WHEN_SOMETHING_DRAGGING,vs.BEING_DRAGGED_CLASS,Il,IE,vs.BEING_DRAGGED_CLASS,IE,Ai(b$,w$)),C$=({layoutP:e,markerId:t})=>{let r=Gt(e.sheet.address),o=Gt(ve().atomP.historic.projects.stateByProjectId[r.projectId].stateBySheetId[r.sheetId].sequenceEditor.markerSet.byId[t]);if(!o)return null;let a=Gt(e.clippedSpace.width),s=Gt(e.clippedSpace.fromUnitSpace)(o.position),u=s<=0||s>a,c=u?-1e4:s,f=u?0:1;return Io.default.createElement(k$,{style:{transform:"translateX(".concat(c,"px) scale(").concat(f,")")}},Io.default.createElement(O$,{marker:o,layoutP:e}))},I$=C$,O$=({layoutP:e,marker:t})=>{let r=Gt(e.sheet.address),[o,a]=rr(null),[s]=wse(a,{sheetAddress:r,markerId:t.id}),[u]=_se(a,{layoutP:e,marker:t}),{node:c,toggle:f,close:h}=ss({debugName:"MarkerPopover"},()=>Io.default.createElement(us,null,Io.default.createElement(y$,{marker:t,layoutP:e,onRequestClose:h})));return Io.default.createElement(Io.default.Fragment,null,s,c,Io.default.createElement(P$,re({title:t.label?"Marker: ".concat(t.label):"Marker",ref:o,onClick:y=>{f(y,o.current)}},vs.reactProps({isDragging:u,position:t.position}))),Io.default.createElement(S$,null))}}),OE,j$,T$,xse=I(()=>{xt(),ut(),OE=oe(pe()),kse(),j$=({layoutP:e})=>{let t=Gt(e.sheet.address),r=ve().atomP.historic.projects.stateByProjectId[t.projectId].stateBySheetId[t.sheetId].sequenceEditor.markerSet,o=Gt(r.allIds);return OE.default.createElement(OE.default.Fragment,null,o&&Object.keys(o).map(a=>OE.default.createElement(I$,{key:a,layoutP:e,markerId:a})))},T$=j$}),A$,Hl,D$,z$,B$,R$,Sse=I(()=>{Ll(),xt(),A$=rt(),Hl=oe(pe()),Re(),ase(),sse(),lse(),vse(),gf(),yse(),xse(),z$=G.div(D$||(D$=Y([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: visible;
  pointer-events: none;
`])),()=>Es.rightOverlay),B$=({layoutP:e})=>Wt(()=>{let t=(0,A$.val)(e.rightDims.width);return Hl.default.createElement(z$,{style:{width:t+"px"}},Hl.default.createElement(u$,{layoutP:e}),Hl.default.createElement(Rq,{layoutP:e}),Hl.default.createElement(Eq,{layoutP:e}),Hl.default.createElement(YW,{layoutP:e}),Hl.default.createElement(T$,{layoutP:e}),Hl.default.createElement(vq,{layoutP:e}),Hl.default.createElement(p$,{layoutP:e}))},[e]),R$=B$}),N$,jE,F$,M$,U$,V$,Ese=I(()=>{N$=rt(),xt(),ut(),jE=oe(pe()),Re(),ag(),Wn(),M$=G.button(F$||(F$=Y([`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`]))),U$=({layoutP:e})=>{let t=Gt(e.graphEditorDims.isOpen),r=(0,jE.useCallback)(()=>{let o=(0,N$.val)(e.graphEditorDims.isOpen);ve().transaction(({stateEditors:a})=>{a.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!o})})},[e]);return jE.default.createElement(M$,re({onClick:r,title:"Toggle graph editor",className:t?"open":""},ms("hide")),jE.default.createElement(pne,null))},V$=U$}),Ea,Ur,H$,L$,K$,W$,Es,q$,$$,G$,Z$,X$,Y$,Q$,J$,eG,Ll=I(()=>{Ku(),xt(),xU(),Ea=rt(),Ur=oe(pe()),Re(),Uae(),gE(),Xae(),Sse(),bg(),I7(),nU(),Wn(),ce(),nn(),Ese(),Pl(),Wd(),L$=G(Rj)(H$||(H$=Y([`
  z-index: `,`;
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`])),Qh.sequenceEditorPanel),W$=G.div(K$||(K$=Y([`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`]))),Es=(()=>{let e={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},t=-1;for(let r of Object.keys(e))e[r]=t,t++;return e})(),$$=G(jj)(q$||(q$=Y([`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`]))),G$={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},Z$={width:800,height:200},X$=e=>Ur.default.createElement(Oj,{panelId:"sequenceEditor",defaultPosition:G$,minDims:Z$},Ur.default.createElement(Y$,null)),Y$=()=>{let{dims:e}=yg(),[t,r]=(0,Ur.useState)(null);return HN(t),Wt(()=>{let o=Ea.prism.memo("panelSize",()=>{let w=e.width,v=e.height;return{width:w,height:v,widthWithoutBorder:w-2,heightWithoutBorder:v-4,screenX:e.left,screenY:e.top}},[e]),a=Ya(Lu().filter(w=>cn(w)||yr(w)).map(w=>yr(w)?w.sheet:w));if(Ya(a.map(w=>w.template)).length!==1)return Ur.default.createElement(Ur.default.Fragment,null);let s=a[0];if(!s)return Ur.default.createElement(Ur.default.Fragment,null);let u=Fj("panelSizeP",o).pointer,c=Ea.prism.memo("key",()=>JSON.stringify(s.address),[s]),f=Ea.prism.memo("layout",()=>Zae(s,u),[s,u]).getValue();if((0,Ea.val)(f.tree.children).length===0)return Ur.default.createElement(Ur.default.Fragment,null);let h=Ea.prism.memo("containerRef",eG,[]),y=(0,Ea.val)(f.graphEditorDims.isAvailable),_=(0,Ea.val)(f.graphEditorDims.isOpen);return Ur.default.createElement(L$,{ref:w=>{h(w),w!==t&&r(w)}},Ur.default.createElement(W$,{style:{width:"".concat((0,Ea.val)(f.leftDims.width),"px")}}),Ur.default.createElement(cV,{layoutP:f},Ur.default.createElement(Q$,{layoutP:f}),Ur.default.createElement(mW,{key:c+"-dopeSheet",layoutP:f}),_&&Ur.default.createElement(FK,{key:c+"-graphEditor",layoutP:f}),y&&Ur.default.createElement(V$,{layoutP:f}),Ur.default.createElement(R$,{layoutP:f})))},[e,t])},Q$=({layoutP:e})=>Wt(()=>{let t=(0,Ea.val)(e.sheet);return Ur.default.createElement($$,{style:{width:(0,Ea.val)(e.leftDims.width)}},Ur.default.createElement(F5,null,Ur.default.createElement(Hu,null,t.address.sheetId," "),Ur.default.createElement(R0,null,":",""),Ur.default.createElement(Hu,null,t.address.sheetInstanceId," "),Ur.default.createElement(R0,null,"",">",""),Ur.default.createElement(Hu,null,"Sequence")))},[e]),J$=X$,eG=()=>{let e=null,t={passive:!1,capture:!1},r=o=>{Math.abs(o.deltaY)<Math.abs(o.deltaX)&&(o.preventDefault(),o.stopPropagation())};return o=>{e!==o&&e&&e.removeEventListener("wheel",r,t),e=o,o&&o.addEventListener("wheel",r,t)}}}),wf,tG,rG,Pse=I(()=>{Ire(),Pj(),wf=oe(pe()),ut(),xt(),Hoe(),Ll(),tG=()=>{let e=Gt(ve().paneManager.allPanesD),t=Object.entries(e).map(([r,o])=>wf.default.createElement(kU,{key:"pane-".concat(r),paneInstance:o}));return wf.default.createElement(wf.default.Fragment,null,t,wf.default.createElement(uz,null),wf.default.createElement(x7,null),wf.default.createElement(J$,null))},rG=tG}),nG,oG,iG,Cse=I(()=>{Re(),dS(),oG=G(gg)(nG||(nG=Y([`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`]))),iG=oG}),Ise=vt((e,t)=>{var r,o;r=[],o=[];function a(s,u,c){var f,h,y,_,w,v,x,k;if(s===u)return 0;if(f=s.length,h=u.length,f===0)return h;if(h===0)return f;for(c&&(s=s.toLowerCase(),u=u.toLowerCase()),x=0;x<f;)o[x]=s.charCodeAt(x),r[x]=++x;for(k=0;k<h;)for(y=u.charCodeAt(k),_=w=k++,x=-1;++x<f;)v=y===o[x]?w:w+1,w=r[x],r[x]=_=w>_?v>_?_+1:v:v>w?w+1:v;return _}t.exports=a}),Ose=vt((e,t)=>{var r=Ise();function o(){var a,s,u,c,f,h=0,y=arguments[0],_=arguments[1],w=_.length,v=arguments[2];v&&(c=v.threshold,f=v.ignoreCase),c===void 0&&(c=0);for(var x=0;x<w;++x)f?s=r(y,_[x],!0):s=r(y,_[x]),s>y.length?a=1-s/_[x].length:a=1-s/y.length,a>h&&(h=a,u=_[x]);return h>=c?u:null}t.exports=o});function jse(e,t,r="Did you mean ",o="?"){let a=(0,aG.default)(e,t,{threshold:.7});return a?r+JSON.stringify(a)+o:""}var aG,Tse=I(()=>{aG=oe(Ose())});function sG(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var Ase=I(()=>{}),lG,v3,uG=I(()=>{Ase(),lG=e=>typeof e=="string"?'string("'.concat(sG(e,10),'")'):typeof e=="number"?"number(".concat(sG(String(e),10),")"):e===null?"null":e===void 0?"undefined":typeof e=="boolean"?String(e):Array.isArray(e)?"array":typeof e=="object"?"object":"unknown",v3=lG}),cG,dG,y3,fG=I(()=>{Re(),Ud(),dG=G(WD)(cG||(cG=Y([`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`]))),y3=dG}),Ag,pG,hG,gG,Dg,Ly=I(()=>{Re(),ur(),Ag=oe(pe()),dy(),Sx(),x9(),fG(),hG=G.button(pG||(pG=Y([`
  `,`;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  `,` > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),ar,y3),gG=Ag.default.forwardRef((e,t)=>{var r=e,{title:o}=r,a=fr(r,["title"]);let[s,u]=hg({enabled:typeof o=="string"},()=>Ag.default.createElement(vj,null,o));return Ag.default.createElement(Ag.default.Fragment,null,s,Ag.default.createElement(hG,re({ref:xx([u,t])},a))," ")}),Dg=gG}),mG,vG,yG,bG,wG,Dse=I(()=>{mG=oe(pe()),Ly(),Re(),ur(),yG=G(Dg)(vG||(vG=Y([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),ar),bG=({config:e,testId:t})=>{var r;return mG.default.createElement(yG,{onClick:e.onClick,"data-testid":t,title:e.title,dangerouslySetInnerHTML:{__html:(r=e.svgSource)!=null?r:""}})},wG=bG});function zse({value:e,label:t,icon:r,onClick:o,isSelected:a}){return zg.default.createElement(zg.default.Fragment,null,zg.default.createElement(Dg,{forwardedAs:HD,className:a?"selected":void 0,"aria-label":t,onClick:o,title:t},r))}var zg,_G,kG,Bse=I(()=>{zg=oe(pe()),Ud(),Ly(),fG(),_G=({value:e,onChange:t,options:r})=>zg.default.createElement(y3,null,r.map(({label:o,icon:a,value:s})=>zg.default.createElement(zse,{key:s,value:s,isSelected:e===s,label:o,icon:a,onClick:()=>t(s)}))),kG=_G}),b3,xG,SG,EG,PG,Rse=I(()=>{b3=oe(pe()),Re(),ur(),Bse(),SG=G.div(xG||(xG=Y([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),ar),EG=({config:e})=>b3.default.createElement(kG,{onChange:e.onChange,options:e.options.map(({label:t,value:r,svgSource:o})=>({label:t,value:r,icon:b3.default.createElement(SG,{dangerouslySetInnerHTML:{__html:o}})})),value:e.value}),PG=EG}),Ky,CG,IG,OG,jG,Nse=I(()=>{Ky=oe(pe()),Re(),ur(),Ly(),AN(),ls(),IG=G.div(CG||(CG=Y([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),ar),OG=({config:e})=>{let t=(0,Ky.useRef)(null),r=ss(()=>{let o=t.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+e.label,constraints:{maxX:o.right,maxY:8,minX:o.left,minY:8},verticalGap:2}},()=>Ky.default.createElement($O,{items:e.items.map((o,a)=>({label:o.label,callback:()=>{var s;try{(s=o.onClick)==null||s.call(o)}catch(u){console.error(u)}}})),onRequestClose:()=>{r.close("clicked")}}));return Ky.default.createElement(IG,null,r.node,Ky.default.createElement(Dg,{ref:t,onClick:o=>{r.open(o,t.current)}},e.label))},jG=OG});function Fse(e){return w3[e]}var Wy,TG,w3,AG,DG,Mse=I(()=>{Tse(),uG(),Wy=oe(pe()),Dse(),Rse(),Nse(),TG=e=>Wy.default.createElement(Wy.default.Fragment,null,e.config.map((t,r)=>Wy.default.createElement(AG,{config:t,key:r}))),w3={Icon:wG,Switch:PG,Flyout:jG},AG=({config:e})=>{let t=Fse(e.type);if(!t)throw new Error("No tool with tool.type ".concat(v3(e.type)," exists. Did you mean ").concat(jse(e.type,Object.keys(w3))));return Wy.default.createElement(t,{config:e})},DG=TG}),zG,Ps,BG,RG,NG,_3,FG,MG,k3,UG=I(()=>{zG=rt(),xt(),ut(),Ps=oe(pe()),Re(),Mse(),RG=G.div(BG||(BG=Y([`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`]))),_3=G.div(NG||(NG=Y([`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),FG=({extension:e,toolbarId:t})=>{var r;let o=(0,Ps.useMemo)(()=>new zG.Atom([]),[]),a=(r=e.toolbars)==null?void 0:r[t];(0,Ps.useLayoutEffect)(()=>{let u=a==null?void 0:a(o.set.bind(o),ve().publicApi);if(typeof u=="function")return u},[e,t,a]);let s=Gt(o.prism);return Ps.default.createElement(DG,{config:s})},MG=({toolbarId:e,showLeftDivider:t})=>{var r;let o=[],a=Gt(ve().atomP.ephemeral.extensions.byId),s=!1;for(let[,u]of Object.entries(a))!u||!((r=u.toolbars)!=null&&r[e])||(o.push(Ps.default.createElement(Ps.default.Fragment,{key:"extensionToolbar-"+u.id},s?Ps.default.createElement(_3,null):void 0,Ps.default.createElement(FG,{extension:u,toolbarId:e}))),s=!0);return o.length===0?null:Ps.default.createElement(RG,{"data-testid":"theatre-extensionToolbar-".concat(e)},t?Ps.default.createElement(_3,null):void 0,o)},k3=MG}),qy,VG,HG,LG,TE,Use=I(()=>{Re(),qy=oe(pe()),Ly(),HG=G(Dg)(VG||(VG=Y([`
  color: `,`;

  border-bottom: 1px solid
    `,`;
`])),({pinned:e})=>e?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:e})=>e?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),LG=(0,qy.forwardRef)((e,t)=>{var r=e,{children:o,hint:a,pinned:s,icon:u,pinHintIcon:c,unpinHintIcon:f}=r,h=fr(r,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[y,_]=(0,qy.useState)(!1),w=y||a;return qy.default.createElement(HG,Pe(re({},h),{pinned:s,ref:t,onMouseOver:()=>_(!0),onMouseOut:()=>_(!1)}),qy.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},w&&!s?c:w&&s?f:u),o)}),TE=LG});function Vse(e){return x3.createElement("svg",re({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),x3.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var x3,S3,Hse=I(()=>{x3=oe(pe()),S3=Vse});function Lse(e){return E3.createElement("svg",re({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),E3.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var E3,P3,Kse=I(()=>{E3=oe(pe()),P3=Lse}),mn,KG,WG,qG,C3,$G,pc,GG,ZG,XG,YG,QG,JG,eZ,tZ,rZ,AE,nZ,oZ,I3,O3,iZ,aZ,Wse=I(()=>{xt(),ut(),mn=oe(pe()),Re(),WG=G.div(KG||(KG=Y([`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`]))),C3=G.div(qG||(qG=Y([`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`]))),pc=G(C3)($G||($G=Y([`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`]))),ZG=G(C3)(GG||(GG=Y([`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`]))),YG=G.div(XG||(XG=Y([`
  font-weight: 600;
`]))),JG=G.div(QG||(QG=Y([`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`]))),tZ=G.div(eZ||(eZ=Y([`
  margin-left: 2px;
`]))),AE=G.div(rZ||(rZ=Y([`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`]))),oZ=G.div(nZ||(nZ=Y([`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`]))),I3="0.7.2",O3=I3.match(/^[^\-]+/)[0],iZ=mn.default.forwardRef((e,t)=>{let r=Gt(ve().atomP.ahistoric.updateChecker.result.hasUpdates);return mn.default.createElement(WG,{ref:t},mn.default.createElement(pc,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),mn.default.createElement(pc,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),mn.default.createElement(AE,null),mn.default.createElement(pc,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),mn.default.createElement(pc,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),mn.default.createElement(pc,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),mn.default.createElement(AE,null),mn.default.createElement(ZG,null,mn.default.createElement(YG,null,"Version"),mn.default.createElement(JG,null,mn.default.createElement(tZ,null,I3," ",r===!0?"(outdated)":r===!1?"(latest)":""))),r===!0&&mn.default.createElement(mn.default.Fragment,null,mn.default.createElement(AE,null),mn.default.createElement(pc,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(O3)),className:"",target:"_blank"},"Update",mn.default.createElement(oZ,null)),mn.default.createElement(pc,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(O3)),className:"",target:"_blank"},"What's new?")))}),aZ=iZ}),_r,sZ,lZ,uZ,cZ,dZ,fZ,j3,pZ,T3,hZ,A3,gZ,mZ,qse=I(()=>{xt(),ut(),_r=oe(pe()),Re(),dy(),Cse(),dS(),sZ=rt(),UG(),Use(),N0(),Hse(),Kse(),Ly(),ls(),Wse(),wy(),uZ=G.div(lZ||(lZ=Y([`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`]))),dZ=G.div(cZ||(cZ=Y([`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`]))),j3=G.div(fZ||(fZ=Y([`
  display: flex;
  gap: 8px;
`]))),T3=G.div(pZ||(pZ=Y([`
  position: absolute;
  background: `,`;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`])),({type:e})=>e==="info"?"#40aaa4":"#f59e0b"),G.div(hZ||(hZ=Y([`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),A3=!1,gZ=()=>{var e,t,r;let o=Wt(()=>{let k=(0,sZ.val)(ve().atomP.ephemeral.coreByProject);return Object.entries(k).map(([E,C])=>({projectId:E,state:C})).filter(({state:E})=>E.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[a,s]=hg({enabled:o.length>0,enterDelay:o.length>0?0:200},()=>o.length>0?_r.default.createElement(iG,null,o.length===1?'There is a state conflict in project "'.concat(o[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(o.length," projects that have state conflicts. They are highlighted in the outline below. ")):_r.default.createElement(gg,null,_r.default.createElement(_r.default.Fragment,null,"Outline"))),u=(e=Gt(ve().atomP.ahistoric.pinOutline))!=null?e:!0,c=(t=Gt(ve().atomP.ahistoric.pinDetails))!=null?t:!0,f=Gt(ve().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,h=ss(()=>{let k=y.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:k.right,maxY:8,minX:k.left-140,minY:8},verticalGap:2}},()=>_r.default.createElement(aZ,null)),y=(0,_r.useRef)(null),_=(0,_r.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(A3||(A3=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),f||window.__IS_VISUAL_REGRESSION_TESTING?!0:f),[f]),{hasNotifications:w}=wj(),[v,x]=W9();return _r.default.createElement(uZ,null,_r.default.createElement(j3,null,a,_r.default.createElement(TE,{ref:s,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{ve().transaction(({stateEditors:k,drafts:E})=>{var C;k.studio.ahistoric.setPinOutline(!((C=E.ahistoric.pinOutline)==null||C))})},icon:_r.default.createElement(U5,null),pinHintIcon:_r.default.createElement(P3,null),unpinHintIcon:_r.default.createElement(S3,null),pinned:u}),o.length>0?_r.default.createElement(dZ,null,o.length):null,_r.default.createElement(k3,{showLeftDivider:!0,toolbarId:"global"})),_r.default.createElement(j3,null,v,_r.default.createElement(TE,{ref:x,onClick:()=>{ve().transaction(({stateEditors:k,drafts:E})=>{var C;k.studio.ahistoric.setPinNotifications(!((C=E.ahistoric.pinNotifications)!=null&&C))})},icon:_r.default.createElement(yx,null),pinHintIcon:_r.default.createElement(yx,null),unpinHintIcon:_r.default.createElement(yx,null),pinned:(r=Gt(ve().atomP.ahistoric.pinNotifications))!=null?r:!1},w&&_r.default.createElement(T3,{type:"warning"})),h.node,_r.default.createElement(Dg,{ref:y,onClick:k=>{h.toggle(k,y.current)}},_r.default.createElement(l8,null),_&&_r.default.createElement(T3,{type:"info"})),_r.default.createElement(TE,{ref:s,onClick:()=>{ve().transaction(({stateEditors:k,drafts:E})=>{var C;k.studio.ahistoric.setPinDetails(!((C=E.ahistoric.pinDetails)==null||C))})},icon:_r.default.createElement(s8,null),pinHintIcon:_r.default.createElement(S3,null),unpinHintIcon:_r.default.createElement(P3,null),pinned:c})))},mZ=gZ}),vZ,$y,yZ,Gy,bZ,wZ,_Z,kZ,xZ=I(()=>{vZ=rt(),xt(),$y=oe(pe()),yZ=oe(kn()),Gy=new vZ.Atom({set:{},byId:{}}),bZ=1,wZ=()=>{let e=bZ++;function t(o,a,s){Gy.reduce(u=>({byId:Pe(re({},u.byId),{[e]:{comp:o,props:a,portalNode:s}}),set:Pe(re({},u.set),{[e]:!0})}))}function r(){Gy.reduce(o=>{let a=re({},o.set),s=re({},o.byId);return delete a[e],{byId:s,set:a}})}return{mountOrRender:t,unmount:r}},_Z=()=>{let e=Object.keys(Gt(Gy.pointer.set));return $y.default.createElement($y.default.Fragment,null,e.map(t=>$y.default.createElement(kZ,{key:"id-"+t,id:t})))},kZ=({id:e})=>{let{comp:t,portalNode:r,props:o}=Gt(Gy.pointer.byId[e]);return(0,yZ.createPortal)($y.default.createElement(t,re({},o)),r)}});function $se(e){let t=ve(),[r,o]=rr(void 0),a=vW();a.configureLogging({min:128,dev:z3,internal:z3});let s=a.getLogger().named("Theatre.js UIRoot");gse();let u=Gt(t.atomP.ahistoric.visibilityState);return(0,Gn.useEffect)(()=>(u==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[u]),Wt(()=>{let c=(0,D3.val)(t.atomP.ahistoric.visibilityState);return(0,D3.val)(t.atomP.ephemeral.initialised)?Gn.default.createElement(Ez,{logger:s},Gn.default.createElement(OM,null,Gn.default.createElement(Dre,null,Gn.default.createElement(OZ,null),Gn.default.createElement(Xh.Provider,{value:o},Gn.default.createElement(N5,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:e.containerShadow},Gn.default.createElement(Gn.default.Fragment,null,Gn.default.createElement(EZ,null),Gn.default.createElement(CZ,{className:c==="everythingIsHidden"?"invisible":""},Gn.default.createElement(R5,{ref:r}),Gn.default.createElement(mZ,null),Gn.default.createElement(rG,null),Gn.default.createElement(q9,null)))))))):null},[t,r,o])}var D3,Gn,SZ,EZ,PZ,CZ,IZ,z3,OZ,Gse=I(()=>{ut(),xt(),D3=rt(),Gn=oe(pe()),Re(),Pse(),qse(),lr(),Ud(),p3(),si(),jM(),lO(),xZ(),ur(),yE(),qu(),wy(),EZ=typeof window<"u"?v0(SZ||(SZ=Y([`
  :host {
    contain: strict;
  }
`]))):{},CZ=G(Sz)(PZ||(PZ=Y([`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`]))),z3=/Playground.+Theatre\.js/.test((IZ=typeof document<"u"?document==null?void 0:document.title:null)!=null?IZ:""),OZ=()=>Gn.default.createElement(_Z,null)}),Zse=vt(e=>{var t=kn();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot}),jZ={};ho(jZ,{default:()=>DZ});var TZ,AZ,DZ,Xse=I(()=>{Gse(),TZ=oe(pe()),AZ=oe(Zse()),xZ(),ur(),UG(),DZ=class{constructor(){Kt(this,"containerEl",document.createElement("div")),Kt(this,"_renderTimeout"),Kt(this,"_documentBodyUIIsRenderedIn"),Kt(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;let e=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let t=document.createElement("div");return t.id="theatrejs-faux-shadow-root",document.body.appendChild(t),t}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=e()}render(){let e=()=>{if(!document.body){this._renderTimeout=setTimeout(e,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),AZ.default.createRoot(this.containerShadow).render(TZ.default.createElement($se,{containerShadow:this.containerShadow}))};this._renderTimeout=setTimeout(e,10)}renderToolset(e,t){let r=wZ();return r.mountOrRender(tre(k3),{toolbarId:e},t),r.unmount}}}),Yse=vt(e=>{e.compare=a,e.reduce=s;var t,r,o;e.REMOVE=t=-1,e.ADD=r=1,e.EQUAL=o=0;function a(y,_){var w=y.length,v=_.length,x=u(y,_),k=x<w&&x<v?c(y,_):0,E=k+x-1;w-=E,v-=E;for(var C=h(w,v),j=w-1;j>=0;--j)for(var D=v-1;D>=0;--D)C[D][j]=f(C,y,_,x,j,D);return{prefix:x,matrix:C,suffix:k}}function s(y,_,w){var v,x,k,E,C=w.matrix,j=w.prefix;for(v=0;v<j;++v)_=y(_,o,v,v);for(k=v,j=C.length,v=0,x=0;v<j;)switch(E=C[v][x].type,_=y(_,E,v+k,x+k),E){case o:++v,++x;break;case t:++x;break;case r:++v;break}for(v+=k,x+=k,j=w.suffix,k=0;k<j;++k)_=y(_,o,v+k,x+k);return _}function u(y,_){for(var w=0,v=Math.min(y.length,_.length);w<v&&y[w]===_[w];)++w;return w}function c(y,_){for(var w=y.length-1,v=_.length-1,x=Math.min(w,v),k=0;k<x&&y[w-k]===_[v-k];)++k;return k}function f(y,_,w,v,x,k){return _[x+v]===w[k+v]?{value:y[k+1][x+1].value,type:o}:y[k][x+1].value<y[k+1][x].value?{value:y[k][x+1].value+1,type:t}:{value:y[k+1][x].value+1,type:r}}function h(y,_){var w=[],v,x,k;for(k=w[_]=[],x=0;x<y;++x)k[x]={value:y-x,type:t};for(v=0;v<_;++v)w[v]=[],w[v][y]={value:_-v,type:r};return w[_][y]={value:0,type:o},w}}),zZ=vt(e=>{e.cons=t,e.tail=r,e.map=o;function t(a,s){var u=s.length,c=new Array(u+1);c[0]=a;for(var f=0;f<u;++f)c[f+1]=s[f];return c}function r(a){for(var s=a.length-1,u=new Array(s),c=0;c<s;++c)u[c]=a[c+1];return u}function o(a,s){for(var u=new Array(s.length),c=0;c<s.length;++c)u[c]=a(s[c]);return u}}),Qse=vt((e,t)=>{t.exports=u;var r=/\/|~1|~0/g,o="/",a="~",s="~1";function u(c,f){var h,y,_,w;for(h=c.charAt(0)===o?1:0,y="",r.lastIndex=h;_=r.exec(c);)if(w=_[0],y+=c.slice(h,r.lastIndex-w.length),h=r.lastIndex,w===o){if(f(y)===!1)return c;y=""}else y+=w===s?o:a;return y+=c.slice(h),f(y),c}}),B3=vt(e=>{var t=Qse();e.find=y,e.join=w,e.absolute=_,e.parse=v,e.contains=x,e.encodeSegment=E,e.decodeSegment=k,e.parseArrayIndex=D,e.isValidArrayIndex=j;var r="/",o=/\//g,a="~1",s=/~1/g,u="~",c=/~/g,f="~0",h=/~0/g;function y(F,L,te,se){if(typeof L=="string"){if(L==="")return{target:F,key:void 0};if(L===r)return{target:F,key:""};var Z=F,de,Ce=se!==void 0;return t(L,function(K){if(F==null)return Z=null,!1;Array.isArray(F)?de=Ce?M(te,D(K),F,se):K==="-"?K:D(K):de=K,Z=F,F=F[de]}),Z===null?void 0:{target:Z,key:de}}}function _(F){return F[0]===r?F:r+F}function w(F){return F.join(r)}function v(F){var L=[];return t(F,L.push.bind(L)),L}function x(F,L){return L.indexOf(F)===0&&L[F.length]===r}function k(F){return F.replace(s,r).replace(h,u)}function E(F){return F.replace(c,f).replace(o,a)}var C=/^(0|[1-9]\d*)$/;function j(F){return C.test(F)}function D(F){if(j(F))return+F;throw new SyntaxError("invalid array index "+F)}function M(F,L,te,se){var Z=L;if(Z<0)throw new Error("array index out of bounds "+Z);if(se!==void 0&&typeof F=="function"&&(Z=F(L,te,se),Z<0))throw new Error("could not find patch context "+se);return Z}}),BZ=vt((e,t)=>{t.exports=r;function r(s){return s==null||typeof s!="object"?s:Array.isArray(s)?o(s):a(s)}function o(s){for(var u=s.length,c=new Array(u),f=0;f<u;++f)c[f]=r(s[f]);return c}function a(s){for(var u=Object.keys(s),c={},f,h=0,y=u.length;h<y;++h)f=u[h],c[f]=r(s[f]);return c}}),Jse=vt((e,t)=>{t.exports=r;function r(s,u){return s===u?!0:Array.isArray(s)&&Array.isArray(u)?o(s,u):typeof s=="object"&&typeof u=="object"?a(s,u):!1}function o(s,u){if(s.length!==u.length)return!1;for(var c=0;c<s.length;++c)if(!r(s[c],u[c]))return!1;return!0}function a(s,u){if(s===null&&u!==null||s!==null&&u===null)return!1;var c=Object.keys(s),f=Object.keys(u);if(c.length!==f.length)return!1;for(var h=0,y;h<c.length;++h)if(y=c[h],!(y in u&&r(s[y],u[y])))return!1;return!0}}),ele=vt((e,t)=>{var r=B3();t.exports=function(y,_){var w=r.parse(y.path),v=r.parse(_.path),x=f(w,v),k=s(w,v,x.length),E=h(y),C=h(_);return x.length===0&&!k?[C,E]:k?a(E,w,C,v):o(E,w,C)};function o(y,_,w,v){if(y.path===w.path)throw new TypeError("cannot commute "+y.op+","+w.op+" with identical object paths");return[w,y]}function a(y,_,w,v){return _.length===v.length?u(y,_,w,v):(_.length>v.length?(_=c(w,v,y,_,-1),y.path=r.absolute(r.join(_))):(v=c(y,_,w,v,1),w.path=r.absolute(r.join(v))),[w,y])}function s(y,_,w){return r.isValidArrayIndex(y[w])&&r.isValidArrayIndex(_[w])}function u(y,_,w,v){var x=_.length-1,k=+_[x],E=+v[x],C;return k<E?y.op==="add"||y.op==="copy"?(C=v.slice(),C[x]=Math.max(0,E-1),w.path=r.absolute(r.join(C))):y.op==="remove"&&(C=v.slice(),C[x]=E+1,w.path=r.absolute(r.join(C))):w.op==="add"||w.op==="copy"?(C=_.slice(),C[x]=k+1,y.path=r.absolute(r.join(C))):k>E&&w.op==="remove"&&(C=_.slice(),C[x]=Math.max(0,k-1),y.path=r.absolute(r.join(C))),[w,y]}function c(y,_,w,v,x){var k=_.length-1,E=+_[k],C=+v[k],j=v.slice();return E>C||(y.op==="add"||y.op==="copy"?j[k]=Math.max(0,C-x):y.op==="remove"&&(j[k]=Math.max(0,C+x))),j}function f(y,_){var w=y.length,v=_.length;if(w===0||v===0||w<2&&v<2)return[];for(var x=w===v?w-1:Math.min(w,v),k=0;k<x&&y[k]===_[k];)++k;return y.slice(0,k)}function h(y){return y.op==="remove"?{op:y.op,path:y.path}:y.op==="copy"||y.op==="move"?{op:y.op,path:y.path,from:y.from}:{op:y.op,path:y.path,value:y.value}}}),RZ=vt((e,t)=>{t.exports=r;function r(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r}),R3=vt((e,t)=>{t.exports=r;function r(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r}),NZ=vt((e,t)=>{t.exports=r;function r(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r}),FZ=vt(e=>{var t=B3(),r=BZ(),o=Jse(),a=ele(),s=zZ(),u=RZ(),c=R3(),f=NZ(),h=t.find,y=t.parseArrayIndex;e.test={apply:_,inverse:w,commute:v},e.add={apply:x,inverse:E,commute:C},e.remove={apply:F,inverse:te,commute:se},e.replace={apply:j,inverse:D,commute:M},e.move={apply:Z,inverse:de,commute:Ce},e.copy={apply:K,inverse:fe,commute:C};function _(le,ae,_e){var Ke=h(le,ae.path,_e.findContext,ae.context),W=Ke.target,X,Ie;if(Array.isArray(W)?(X=y(Ke.key),Ie=W[X]):Ie=Ke.key===void 0?Ke.target:Ke.target[Ke.key],!o(Ie,ae.value))throw new u("test failed "+JSON.stringify(ae));return le}function w(le,ae){return le.push(ae),1}function v(le,ae){if(le.path===ae.path&&ae.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return ae.op==="test"||ae.op==="replace"?[ae,le]:a(le,ae)}function x(le,ae,_e){var Ke=h(le,ae.path,_e.findContext,ae.context);if(z(Ke))throw new c("path does not exist "+ae.path);if(ae.value===void 0)throw new c("missing value");var W=r(ae.value);return Ke.key===void 0?W:(k(Ke,W),le)}function k(le,ae){var _e=le.target;if(Array.isArray(_e))if(le.key==="-")_e.push(ae);else{if(le.key>_e.length)throw new c("target of add outside of array bounds");_e.splice(le.key,0,ae)}else if(Je(_e))_e[le.key]=ae;else throw new c("target of add must be an object or array "+le.key)}function E(le,ae){var _e=ae.context;return _e!==void 0&&(_e={before:_e.before,after:s.cons(ae.value,_e.after)}),le.push({op:"test",path:ae.path,value:ae.value,context:_e}),le.push({op:"remove",path:ae.path,context:_e}),1}function C(le,ae){if(le.path===ae.path&&ae.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return a(le,ae)}function j(le,ae,_e){var Ke=h(le,ae.path,_e.findContext,ae.context);if(z(Ke)||be(Ke))throw new c("path does not exist "+ae.path);if(ae.value===void 0)throw new c("missing value");var W=r(ae.value);if(Ke.key===void 0)return W;var X=Ke.target;return Array.isArray(X)?X[y(Ke.key)]=W:X[Ke.key]=W,le}function D(le,ae,_e,Ke){var W=Ke[_e-1];if(W===void 0||W.op!=="test"||W.path!==ae.path)throw new f("cannot invert replace w/o test");var X=W.context;return X!==void 0&&(X={before:X.before,after:s.cons(W.value,s.tail(X.after))}),le.push({op:"test",path:W.path,value:ae.value}),le.push({op:"replace",path:W.path,value:W.value}),2}function M(le,ae){if(le.path===ae.path&&ae.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return ae.op==="test"||ae.op==="replace"?[ae,le]:a(le,ae)}function F(le,ae,_e){var Ke=h(le,ae.path,_e.findContext,ae.context);if(z(Ke)||Ke.target[Ke.key]===void 0)throw new c("path does not exist "+ae.path);return L(Ke),le}function L(le){var ae=le.target,_e;if(Array.isArray(ae))return _e=ae.splice(y(le.key),1),_e[0];if(Je(ae))return _e=ae[le.key],delete ae[le.key],_e;throw new c("target of remove must be an object or array")}function te(le,ae,_e,Ke){var W=Ke[_e-1];if(W===void 0||W.op!=="test"||W.path!==ae.path)throw new f("cannot invert remove w/o test");var X=W.context;return X!==void 0&&(X={before:X.before,after:s.tail(X.after)}),le.push({op:"add",path:W.path,value:W.value,context:X}),2}function se(le,ae){return le.path===ae.path&&ae.op==="remove"?[ae,le]:a(le,ae)}function Z(le,ae,_e){if(t.contains(ae.path,ae.from))throw new c("move.from cannot be ancestor of move.path");var Ke=h(le,ae.path,_e.findContext,ae.context),W=h(le,ae.from,_e.findContext,ae.fromContext);return k(Ke,L(W)),le}function de(le,ae){return le.push({op:"move",path:ae.from,context:ae.fromContext,from:ae.path,fromContext:ae.context}),1}function Ce(le,ae){if(le.path===ae.path&&ae.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return a(le,ae)}function K(le,ae,_e){var Ke=h(le,ae.path,_e.findContext,ae.context),W=h(le,ae.from,_e.findContext,ae.fromContext);if(z(W)||be(W))throw new c("copy.from must exist");var X=W.target,Ie;return Array.isArray(X)?Ie=X[y(W.key)]:Ie=X[W.key],k(Ke,r(Ie)),le}function fe(le,ae){throw new f("cannot invert "+ae.op)}function z(le){return le===void 0||le.target==null&&le.key!==void 0}function be(le){return le.key!==void 0&&le.target[le.key]===void 0}function Je(le){return le!==null&&typeof le=="object"}}),tle=vt(e=>{var t=FZ(),r=BZ(),o=R3();e.apply=s,e.applyInPlace=u,e.clone=r,e.isValidObject=f,e.defaultHash=c;var a={};function s(y,_,w){return u(y,r(_),w)}function u(y,_,w){if(w||(w=a),!Array.isArray(y))return _;for(var v,x,k=0;k<y.length;++k){if(x=y[k],v=t[x.op],v===void 0)throw new o("invalid op "+JSON.stringify(x));_=v.apply(_,x,w)}return _}function c(y){return f(y)||h(y)?JSON.stringify(y):y}function f(y){return y!==null&&Object.prototype.toString.call(y)==="[object Object]"}function h(y){return Object.prototype.toString.call(y)==="[object Array]"}}),rle=vt((e,t)=>{var r=FZ();t.exports=function(a){var s=[],u,c;for(u=a.length-1;u>=0;u-=c)c=o(s,a[u],u,a);return s};function o(a,s,u,c){var f=r[s.op];return f!==void 0&&typeof f.inverse=="function"?f.inverse(a,s,u,c):1}}),nle=vt(e=>{var t=Yse(),r=zZ(),o=tle(),a=rle(),s=B3(),u=s.encodeSegment;e.diff=h,e.patch=o.apply,e.patchInPlace=o.applyInPlace,e.inverse=a,e.clone=o.clone,e.InvalidPatchOperationError=R3(),e.TestFailedError=RZ(),e.PatchNotInvertibleError=NZ();var c=o.isValidObject,f=o.defaultHash;function h(D,M,F){return _(D,M,"",y(F,[])).patch}function y(D,M){return typeof D=="object"?{patch:M,hash:E(j,D.hash,f),makeContext:E(j,D.makeContext,C),invertible:D.invertible!==!1}:{patch:M,hash:E(j,D,f),makeContext:C,invertible:!0}}function _(D,M,F,L){return Array.isArray(D)&&Array.isArray(M)?v(D,M,F,L):c(D)&&c(M)?w(D,M,F,L):k(D,M,F,L)}function w(D,M,F,L){var te=Object.keys(M),se=L.patch,Z,de;for(Z=te.length-1;Z>=0;--Z){de=te[Z];var Ce=F+"/"+u(de);D[de]!==void 0?_(D[de],M[de],Ce,L):se.push({op:"add",path:Ce,value:M[de]})}for(te=Object.keys(D),Z=te.length-1;Z>=0;--Z)if(de=te[Z],M[de]===void 0){var K=F+"/"+u(de);L.invertible&&se.push({op:"test",path:K,value:D[de]}),se.push({op:"remove",path:K})}return L}function v(D,M,F,L){var te=r.map(L.hash,D),se=r.map(L.hash,M),Z=t.compare(te,se);return x(D,M,F,L,Z)}function x(D,M,F,L,te){var se=0;return t.reduce(function(Z,de,Ce,K){var fe,z,be=Z.patch,Je=F+"/"+(K+se);return de===t.REMOVE?(fe=be[be.length-1],z=Z.makeContext(K,D),Z.invertible&&be.push({op:"test",path:Je,value:D[K],context:z}),fe!==void 0&&fe.op==="add"&&fe.path===Je?(fe.op="replace",fe.context=z):be.push({op:"remove",path:Je,context:z}),se-=1):de===t.ADD?(be.push({op:"add",path:Je,value:M[Ce],context:Z.makeContext(K,D)}),se+=1):_(D[K],M[Ce],Je,Z),Z},L,te)}function k(D,M,F,L){return D!==M&&(L.invertible&&L.patch.push({op:"test",path:F,value:D}),L.patch.push({op:"replace",path:F,value:M})),L}function E(D,M,F){return D(M)?M:F}function C(){}function j(D){return typeof D=="function"}}),_f=vt((e,t)=>{function r(o,a){for(var s=0,u=a.length-1;s<u;s++){if(!o[a[s]])return null;o=o[a[s]]}return o}t.exports=r}),hc=vt((e,t)=>{function r(a){return a==="~0"?"~":"/"}function o(a){var s=a.split("/");if(a.indexOf("~")===-1)return s;for(var u=0,c=s.length;u<c;u++)s[u].indexOf("~")!==-1&&(s[u]=s[u].replace(/~[01]/g,r));return s}t.exports=o}),ole=vt((e,t)=>{var r=_f(),o=hc();function a(s,u){var c=o(u),f=c[c.length-1],h=r(s,c);return h?h[f]:void 0}t.exports=a}),DE=vt((e,t)=>{function r(o,a){if(o===a)return!0;if(!(o&&a)||typeof o!="object"||typeof a!="object"||o.length!==a.length)return!1;if(Array.isArray(o)){if(!Array.isArray(a))return!1;for(var s=0,u=o.length;s<u;s++)if(!r(o[s],a[s]))return!1;return!0}var c=Object.keys(o);if(c.length!==Object.keys(a).length)return!1;for(var f=0,h=c.length;f<h;f++){var y=c[f];if(!r(o[y],a[y]))return!1}return!0}t.exports=r}),zE=vt((e,t)=>{function r(o,a){if(a==="-")return o.length;for(var s=0,u=a.length;s<u;s++){var c=a.charCodeAt(s);if(57<c||c<48)return 1/0}return+a}t.exports=r}),BE=vt((e,t)=>{var r=DE(),o=_f(),a=zE(),s=hc();function u(c,f,h,y){if(typeof h>"u")return"[op:add] require value, but got undefined";var _=s(f),w=_[_.length-1],v=o(c,_);if(v===null)return"[op:add] path not found: "+f;if(Array.isArray(v)){var x=a(v,w);if(v.length<x)return"[op:add] invalid array index: "+f;y(c,_).splice(x,0,h)}else r(v[w],h)||(y(c,_)[w]=h)}t.exports=u}),MZ=vt((e,t)=>{var r=_f(),o=zE(),a=hc();function s(u,c,f){var h=a(c),y=h[h.length-1],_=r(u,h);if(_===null)return"[op:remove] path not found: "+c;if(Array.isArray(_)){var w=o(_,y);if(_.length<=w)return"[op:remove] invalid array index: "+c;f(u,h).splice(w,1)}else delete f(u,h)[y]}t.exports=s}),UZ=vt((e,t)=>{var r=DE(),o=_f(),a=zE(),s=hc();function u(c,f,h,y){if(typeof h>"u")return"[op:replace] require value, but got undefined";var _=s(f),w=_[_.length-1],v=o(c,_);if(v===null)return"[op:replace] path not found: "+f;if(Array.isArray(v)){var x=a(v,w);if(v.length<=x)return"[op:replace] invalid array index: "+f;r(v[x],h)||y(c,_).splice(x,1,h)}else r(v[w],h)||(y(c,_)[w]=h)}t.exports=u}),VZ=vt((e,t)=>{var r=BE(),o=_f(),a=zE(),s=hc();function u(c,f,h,y){if(h!==f){var _=s(f),w=_[_.length-1],v=o(c,_);if(v===null)return"[op:move] path not found: "+f;var x=void 0;if(Array.isArray(v)){var k=a(v,w);if(v.length<=k)return"[op:move] invalid array index: "+h;x=v[k],y(c,_).splice(k,1)}else x=v[w],delete y(c,_)[w];return r(c,h,x,y)}}t.exports=u}),HZ=vt((e,t)=>{var r=_f(),o=hc(),a=BE();function s(u,c,f,h){var y=o(c),_=y[y.length-1],w=r(u,y);return w===null?"[op:copy] path not found: "+c:a(u,f,w[_],h)}t.exports=s}),LZ=vt((e,t)=>{var r=DE(),o=_f(),a=hc();function s(u,c,f){var h=a(c),y=h[h.length-1],_=o(u,h);if(_===null)return"[op:test] path not found: "+c;if(!r(_[y],f)){var w=JSON.stringify(_[y]),v=JSON.stringify(f);return"[op:test] not matched: "+w+" "+v}}t.exports=s}),N3=vt((e,t)=>{function r(o){if(!o||typeof o!="object")return o;if(Array.isArray(o)){for(var a=o.length,s=new Array(a),u=0;u<a;u++)s[u]=o[u];return s}for(var c=Object.keys(o),f={},h=0,y=c.length;h<y;h++){var _=c[h];f[_]=o[_]}return f}t.exports=r}),ile=vt((e,t)=>{var r=ole(),o=BE(),a=MZ(),s=UZ(),u=VZ(),c=HZ(),f=LZ(),h=DE(),y=N3(),_=hc();function w(v,x){return{get:function(k){return r(v,k)},add:function(k,E){return o(v,k,E,x)},remove:function(k){return a(v,k,x)},replace:function(k,E){return s(v,k,E,x)},move:function(k,E){return u(v,k,E,x)},copy:function(k,E){return c(v,k,E,x)},test:function(k,E){return f(v,k,E)},deepEqual:h,shallowCopy:y,toKeys:_}}t.exports=w}),ale=vt((e,t)=>{function r(o,a,s,u){return u.error=s,u.partial?a[""]:o}t.exports=r}),sle=vt((e,t)=>{function r(o){return!!o}t.exports=r}),lle=vt((e,t)=>{function r(o){if(o)throw new TypeError(o)}t.exports=r}),ule=vt((e,t)=>{var r=N3();function o(a,s){for(var u=0,c=s.length-1;u<c;u++)a=a[s[u]]=r(a[s[u]]);return a}t.exports=o}),cle=vt((e,t)=>{var r=N3();function o(s,u,c){var f=s[u];return c.has(f)||(f=r(f),c.add(f)),f}function a(s,u,c){for(var f=0,h=u.length-1;f<h;f++)s=s[u[f]]=o(s,u[f],c);return s}t.exports=a}),dle=vt((e,t)=>{var r=ile(),o=ale(),a=sle(),s=lle(),u=ule(),c=cle(),f=BE(),h=MZ(),y=UZ(),_=VZ(),w=HZ(),v=LZ(),x=Set||function(){var E=[];return E.has=function(C){return this.indexOf(C)!==-1},E.add=function(C){this.push(C)},E};function k(E,C,j){if(C.length===0)return E;j=j||{};for(var D=j.strict?s:a,M=C.length===1?u:function(de){return function(Ce,K){return c(Ce,K,de)}}(new x),F={"":E},L,te=0,se=C.length;te<se;te++){var Z=C[te];switch(Z.op){case"add":if(D(f(F,""+Z.path,Z.value,M)))return o(E,F,Z,j);break;case"remove":if(D(h(F,""+Z.path,M)))return o(E,F,Z,j);break;case"replace":if(D(y(F,""+Z.path,Z.value,M)))return o(E,F,Z,j);break;case"move":if(D(_(F,""+Z.from,""+Z.path,M)))return o(E,F,Z,j);break;case"copy":if(D(w(F,""+Z.from,""+Z.path,M)))return o(E,F,Z,j);break;case"test":if(D(v(F,""+Z.path,Z.value)))return o(E,F,Z,j);break;default:if(j.custom&&j.custom[Z.op]){if(L=L||r(F,M),D(j.custom[Z.op](L,Z,te,C)))return o(E,F,Z,j)}else return D("[op:"+Z.op+"] unknown"),o(E,F,Z,j);break}}return F[""]}t.exports=k}),fle=vt((e,t)=>{t.exports=dle()}),ple=vt((e,t)=>{(function(r,o){typeof e=="object"&&typeof t=="object"?t.exports=o():typeof e=="object"?e.blobCompare=o():r.blobCompare=o()})(window,function(){return function(r){var o={};function a(s){if(o[s])return o[s].exports;var u=o[s]={i:s,l:!1,exports:{}};return r[s].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=r,a.c=o,a.d=function(s,u,c){a.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:c})},a.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},a.t=function(s,u){if(1&u&&(s=a(s)),8&u||4&u&&typeof s=="object"&&s&&s.__esModule)return s;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:s}),2&u&&typeof s!="string")for(var f in s)a.d(c,f,(function(h){return s[h]}).bind(null,f));return c},a.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(u,"a",u),u},a.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},a.p="",a(a.s=4)}([function(r,o,a){var s=function(y,_){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return function(w,v){var x=[],k=!0,E=!1,C=void 0;try{for(var j,D=w[Symbol.iterator]();!(k=(j=D.next()).done)&&(x.push(j.value),!v||x.length!==v);k=!0);}catch(M){E=!0,C=M}finally{try{!k&&D.return&&D.return()}finally{if(E)throw C}}return x}(y,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=function(){function y(_,w){for(var v=0;v<w.length;v++){var x=w[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}return function(_,w,v){return w&&y(_.prototype,w),v&&y(_,v),_}}();function c(y){if(Array.isArray(y)){for(var _=0,w=Array(y.length);_<y.length;_++)w[_]=y[_];return w}return Array.from(y)}var f=a(2),h=function(y){function _(w){(function(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")})(this,_);var v=function(x,k){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?x:k}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return v._messageId=1,v._messages=new Map,v._worker=w,v._worker.onmessage=v._onMessage.bind(v),v._id=Math.ceil(1e7*Math.random()),v}return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}(_,y),u(_,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(w){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=this,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],E=arguments[3];return new Promise(function(C,j){var D=x._messageId++;x._messages.set(D,[C,j,E]),x._worker.postMessage([D,v,w],k||[])})}},{key:"postMessage",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,v=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=arguments[2];return new Promise(function(E,C){var j=v._messageId++;v._messages.set(j,[E,C,k]),v._worker.postMessage([j,w],x||[])})}},{key:"emit",value:function(w){for(var v=arguments.length,x=Array(v>1?v-1:0),k=1;k<v;k++)x[k-1]=arguments[k];this._worker.postMessage({eventName:w,args:x})}},{key:"_onMessage",value:function(w){var v;if(!Array.isArray(w.data)&&w.data.eventName)return(v=function j(D,M,F){D===null&&(D=Function.prototype);var L=Object.getOwnPropertyDescriptor(D,M);if(L===void 0){var te=Object.getPrototypeOf(D);return te===null?void 0:j(te,M,F)}if("value"in L)return L.value;var se=L.get;return se!==void 0?se.call(F):void 0}(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this)).call.apply(v,[this,w.data.eventName].concat(c(w.data.args)));var x,k=(x=w.data,Array.isArray(x)?x:Array.from(x)),E=k[0],C=k.slice(1);if(E===1)this._onEvent.apply(this,c(C));else{if(E!==0)throw new Error("Wrong message type '"+E+"'");this._onResult.apply(this,c(C))}}},{key:"_onResult",value:function(w,v,x){var k=this._messages.get(w),E=s(k,2),C=E[0],j=E[1];return this._messages.delete(w),v===1?C(x):j(x)}},{key:"_onEvent",value:function(w,v,x){var k=this._messages.get(w),E=s(k,3)[2];E&&E(v,x)}}]),_}(f);r.exports=h},function(r,o,a){r.exports=function(){return a(3)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);`,null)}},function(r,o,a){var s=function(){function c(f,h){for(var y=0;y<h.length;y++){var _=h[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}return function(f,h,y){return h&&c(f.prototype,h),y&&c(f,y),f}}(),u=function(){function c(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return s(c,[{key:"emit",value:function(f){if(!this.__listeners[f])return this;for(var h=arguments.length,y=Array(h>1?h-1:0),_=1;_<h;_++)y[_-1]=arguments[_];var w=!0,v=!1,x=void 0;try{for(var k,E=this.__listeners[f][Symbol.iterator]();!(w=(k=E.next()).done);w=!0){var C=k.value;C.apply(void 0,y)}}catch(j){v=!0,x=j}finally{try{!w&&E.return&&E.return()}finally{if(v)throw x}}return this}},{key:"once",value:function(f,h){var y=this,_=function w(){y.off(f,w),h.apply(void 0,arguments)};return this.on(f,_)}},{key:"on",value:function(f,h){return this.__listeners[f]||(this.__listeners[f]=[]),this.__listeners[f].push(h),this}},{key:"off",value:function(f,h){return this.__listeners[f]=h?this.__listeners[f].filter(function(y){return y!==h}):[],this}}]),c}();r.exports=u},function(r,o,a){var s=window.URL||window.webkitURL;r.exports=function(u,c){try{try{var f;try{(f=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(u),f=f.getBlob()}catch{f=new Blob([u])}return new Worker(s.createObjectURL(f))}catch{return new Worker("data:application/javascript,"+encodeURIComponent(u))}}catch{if(!c)throw Error("Inline worker is not supported");return new Worker(c)}}},function(r,o,a){a.r(o);var s=a(0),u=a.n(s),c=a(1),f=a.n(c);a.d(o,"workersEnabled",function(){return h}),a.d(o,"default",function(){return y});let h=!!window.Worker;class y{static toBinaryStringWithWorker(w,v){return Cr(this,null,function*(){let x=new u.a(new f.a),k=yield x.exec("binary",{blob:w,chunk:v});return x.terminate(),k})}static toBinaryStringWithoutWorker(w,v){return function(x,k){return new Promise((E,C)=>{let j=new FileReader,D=k?Math.min(k,x.size):x.size,M=x.slice(0,D);j.onload=()=>E(j.result),j.onerror=C,j.readAsBinaryString(M)})}(w,v)}static toBinaryString(w,v,x=!0){return x&&h?this.toBinaryStringWithWorker(w,v):this.toBinaryStringWithoutWorker(w,v)}static toArrayBufferWithWorker(w,v){return Cr(this,null,function*(){let x=new u.a(new f.a),k=yield x.exec("buffer",{blob:w,chunk:v});return x.terminate(),k})}static toArrayBufferWithoutWorker(w,v){return function(x,k){return new Promise((E,C)=>{let j=new FileReader,D=k?Math.min(k,x.size):x.size,M=x.slice(0,D);j.onload=()=>E(j.result),j.onerror=C,j.readAsArrayBuffer(M)})}(w,v)}static toArrayBuffer(w,v,x=!0){return x&&h?this.toArrayBufferWithWorker(w,v):this.toArrayBufferWithoutWorker(w,v)}static compareBuffersWithWorker(w,v){return Cr(this,null,function*(){if(w===v)return!0;let x=new u.a(new f.a),k=yield x.exec("compare",{buf1:w,buf2:v},[w,v]);return x.terminate(),k})}static compareBuffersWithoutWorker(w,v){return function(x,k){if(x===k)return!0;if(x.byteLength!==k.byteLength)return!1;let E=new DataView(x),C=new DataView(k);for(var j=x.byteLength;j--;)if(E.getUint8(j)!==C.getUint8(j))return!1;return!0}(w,v)}static compareBuffers(w,v,x=!0){return x&&h?this.compareBuffersWithWorker(w,v):this.compareBuffersWithoutWorker(w,v)}static sizeEqual(w,v){return w.size===v.size}static typeEqual(w,v){return w.type===v.type}static magicNumbersEqual(w,v,x=!0){return Cr(this,null,function*(){if(w===v)return!0;let k=[24,16,14,12,8,6,4],[E,C]=yield Promise.all([this.toBinaryString(w,24,x),this.toBinaryString(v,24,x)]);for(let j of k)if(E.substring(0,j)===C.substring(0,j))return!0;return!1})}static bytesEqualWithBinaryString(w,v,x,k=!0){return Cr(this,null,function*(){if(w===v)return!0;let[E,C]=yield Promise.all([this.toBinaryString(w,x,k),this.toBinaryString(v,x,k)]);return E===C})}static bytesEqualWithArrayBuffer(w,v,x,k=!0){return Cr(this,null,function*(){if(w===v)return!0;let[E,C]=yield Promise.all([this.toArrayBuffer(w,x,k),this.toArrayBuffer(v,x,k)]);return this.compareBuffers(E,C,k)})}static isEqual(w,v){return Cr(this,arguments,function*(x,k,{methods:E=["size","type","magic","byte"],byte:C="buffer",partial:j=!1,chunks:D=null,worker:M=!0}={}){let F=null;for(let L of E){if(F===!1||j&&F===!0)break;switch(L){case"byte":case"bytes":case"content":D=D instanceof Array?D:[x.size],F=!0;for(let te of D){let se=!1;se=C==="buffer"?yield this.bytesEqualWithArrayBuffer(x,k,te,M):yield this.bytesEqualWithBinaryString(x,k,te,M),se||(F=!1)}break;case"magic":case"headers":case"numbers":case"mime":F=yield this.magicNumbersEqual(x,k,M);break;case"size":case"sizes":F=this.sizeEqual(x,k);break;case"type":case"types":F=this.typeEqual(x,k);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return F})}}}])})}),KZ={};ho(KZ,{ToolbarDropdownSelect:()=>Tue,default:()=>Due}),p.exports=Ki(KZ),ut(),yn();var WZ=rt();ce();var hle=0,gle=class{constructor(e){this._studio=e,Kt(this,"_id"),Kt(this,"_state",{type:"Ready"}),this._id=String(hle++)}get status(){return this._state.type}reset(){let{_state:e}=this;if(e.type!=="Ready")if(e.type==="Captured")this._state={type:"Ready"},e.transaction.discard(),e.flagsTransaction.discard();else throw e.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:e}=this;if(e.type==="Captured")e.transaction.commit(),e.flagsTransaction.discard(),this._state={type:"Committed"};else if(e.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw e.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(e){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let t=!0;try{this._state=re({type:"Captured"},this._capture(e)),t=!1}finally{t&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(e){let t=[],r=this._studio.tempTransaction(a=>{let s=!0,u={set:(c,f)=>{if(!s)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:h,path:y}=(0,WZ.getPointerParts)(c);if(!yr(h))throw new Error("We can only scrub props of Sheet Objects for now");a.set(c,f),t.push(c)}};try{e(u)}finally{s=!1}}),o=this._studio.tempTransaction(({stateEditors:a})=>{t.forEach(s=>{let{root:u,path:c}=(0,WZ.getPointerParts)(s);if(!yr(u))return;let f=u.template.getDefaultsAtPointer(s);Cn(f,(h,y)=>{a.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(Pe(re({},u.address),{pathToProp:y}))},c)})});return{transaction:r,flagsTransaction:o}}discard(){let{_state:e}=this;if(e.type==="Captured"||e.type==="Ready")e.type==="Captured"&&(e.transaction.discard(),e.flagsTransaction.discard()),this._state={type:"Discarded"};else throw e.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}},mle=rt(),qZ=typeof window<"u"?Promise.resolve().then(()=>(Xse(),jZ)).then(e=>e.default):null,vle=class{constructor(e){this.studio=e,Kt(this,"_rendered",!1),Kt(this,"_nonSSRBits",qZ?qZ.then(t=>new t):Promise.reject()),Kt(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(e=>{e.render()}).catch(e=>{throw console.error(e),e}))}hide(){this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,mle.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(e,t){let r=!1,o=null;return this._nonSSRBits.then(a=>{r||(o=a.renderToolset(e,t))}).catch(a=>{console.error(a)}),()=>{if(o){o();return}r||(r=!0)}}},RE=rt();function yle(e){return e}var ble=(e,t=yle)=>{let r=o=>({type:e,payload:t(o)});return r.type=e,r.is=o=>o&&o.type&&o.type===e,r},Cs=ble,$Z=oe(nle()),GZ=oe(fle());bh();var NE,wle=new Uint8Array(16);function _le(){if(!NE&&(NE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!NE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return NE(wle)}var kle=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function xle(e){return typeof e=="string"&&kle.test(e)}var Sle=xle,Zn=[];for(FE=0;FE<256;++FE)Zn.push((FE+256).toString(16).substr(1));var FE;function Ele(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Zn[e[t+0]]+Zn[e[t+1]]+Zn[e[t+2]]+Zn[e[t+3]]+"-"+Zn[e[t+4]]+Zn[e[t+5]]+"-"+Zn[e[t+6]]+Zn[e[t+7]]+"-"+Zn[e[t+8]]+Zn[e[t+9]]+"-"+Zn[e[t+10]]+Zn[e[t+11]]+Zn[e[t+12]]+Zn[e[t+13]]+Zn[e[t+14]]+Zn[e[t+15]]).toLowerCase();if(!Sle(r))throw TypeError("Stringified UUID is invalid");return r}var Ple=Ele;function Cle(e,t,r){e=e||{};var o=e.random||(e.rng||_le)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=o[a];return t}return Ple(o)}var Ile=Cle,Zy={replaceHistory:Cs("@history/replaceHistory"),startHistoryFromScratch:Cs("@history/startHistoryFromScratch"),undo:Cs("@history/undo"),redo:Cs("@history/redo")},Ole={type:"@history/unknownAction",payload:""},jle={maxNumberOfCommits:100},Tle=(e,t=jle)=>{let r=F3(e(void 0,Ole));return function(o,a){return Zy.startHistoryFromScratch.is(a)?F3(e(void 0,a.payload)):Zy.replaceHistory.is(a)?a.payload:Zy.undo.is(a)?o?zle(o):r:Zy.redo.is(a)?o?Ble(o):r:o?Ale(o,e(o.innerState,a),t):F3(e(void 0,a))}};function F3(e){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:e}}function Ale(e,t,r){if(t===e.innerState)return e;let o=Dle(e.innerState,t);if(o.forwardDiff.length===0)return e;let a=dl(e.listOfCommitHashes),s={currentCommitHash:o.hash,commitsByHash:re({},e.commitsByHash),listOfCommitHashes:[...e.listOfCommitHashes],innerState:t};if(e.currentCommitHash!==a){let u=e.listOfCommitHashes.findIndex(c=>c===e.currentCommitHash);e.listOfCommitHashes.slice(u+1).forEach(c=>{delete s.commitsByHash[c]}),s.listOfCommitHashes.splice(u+1,s.listOfCommitHashes.length)}if(s.listOfCommitHashes.push(o.hash),s.commitsByHash[o.hash]=o,s.listOfCommitHashes.length>r.maxNumberOfCommits){let u=s.listOfCommitHashes.length-r.maxNumberOfCommits;s.listOfCommitHashes.slice(0,u).forEach(c=>{delete s.commitsByHash[c]}),s.listOfCommitHashes.splice(0,u)}return s}function Dle(e,t){let r=$Z.default.diff(e,t,{invertible:!1}),o=$Z.default.diff(t,e,{invertible:!1}),a=Date.now(),s=Ile();return{forwardDiff:r,backwardDiff:o,timestamp:a,hash:s}}function zle(e){if(e.currentCommitHash===void 0)return e;let t=e.listOfCommitHashes.findIndex(u=>u===e.currentCommitHash);if(t===-1)throw new Error("This should never happen");let r=e.commitsByHash[e.currentCommitHash],o=(0,GZ.default)(e.innerState,r.backwardDiff),a=t-1,s=a===-1?void 0:e.listOfCommitHashes[a];return Pe(re({},e),{currentCommitHash:s,innerState:o})}function Ble(e){if(e.listOfCommitHashes.length===0)return e;let t=e.listOfCommitHashes.findIndex(u=>u===e.currentCommitHash);if(t===e.listOfCommitHashes.length-1)return e;let r=t+1,o=e.listOfCommitHashes[r],a=e.commitsByHash[o],s=(0,GZ.default)(e.innerState,a.forwardDiff);return Pe(re({},e),{currentCommitHash:o,innerState:s})}yE();var ME={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},ZZ=Cs("@storeBundle/replacePersistentState",e=>e),XZ=Cs("@storeBundle/reduceParts",e=>e),Bg={historic:Zy,replacePersistentState:ZZ,reduceParts:XZ},YZ=Cs("@storeBundle/setInnerHistoricState",e=>e),Rle=(e=ME.historic,t)=>YZ.is(t)?t.payload:e,M3=Tle(Rle),QZ=(e,t)=>{if(ZZ.is(t)){let{historic:r,ahistoric:o}=t.payload,a=(e==null?void 0:e.ephemeral)||ME.ephemeral;return{$persistent:{historic:r,ahistoric:o},ephemeral:a}}else if(e){let{historic:r,ahistoric:o}=e.$persistent,{ephemeral:a}=e;if(XZ.is(t)){let s={historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral},u=t.payload(s);if(u===s)return e;r.innerState!==u.historic&&(r=M3(r,YZ(u.historic))),o=u.ahistoric,a=u.ephemeral}else{let s=M3(r,t);if(s===r)return e;r=s}return{$persistent:r===e.$persistent.historic&&o===e.$persistent.ahistoric?e.$persistent:{historic:r,ahistoric:o},ephemeral:a}}else{let r=M3(void 0,{}),o=ME.ahistoric,a=ME.ephemeral;return{$persistent:{historic:r,ahistoric:o},ephemeral:a}}},JZ=Cs("@history/pushTempAction",e=>e),eX=Cs("@history/discardTempAction",e=>e),tX=Cs("@history/commitTempAction",e=>e),Nle=0,Fle=()=>{let e=Nle++;return{push:t=>JZ({id:e,originalAction:t}),discard:()=>eX(e),commit:()=>tX(e)}},Mle=(e,t)=>{if(e){let{tempActions:r,permanent:o}=e.$temps,a;if(JZ.is(t))r=[...r,t];else if(tX.is(t)){let u=r.find(c=>c.payload.id===t.payload);u?(a=u.payload.originalAction,r=r.filter(c=>c.payload.id!==t.payload)):vE.error("Comitting temp action group ".concat(t.payload," isn't possible as this group doesn't exist"))}else eX.is(t)?r=r.filter(u=>u.payload.id!==t.payload):a=t;a&&(o=QZ(e.$temps.permanent,a));let s={historic:o.$persistent.historic.innerState,ahistoric:o.$persistent.ahistoric,ephemeral:o.ephemeral};for(let u of r)s=u.payload.originalAction.payload(s);return re({$temps:{tempActions:r,permanent:o},$persistent:o.$persistent},s)}else{let r=QZ(void 0,t);return{$temps:{permanent:r,tempActions:[]},$persistent:r.$persistent,historic:r.$persistent.historic.innerState,ahistoric:r.$persistent.ahistoric,ephemeral:r.ephemeral}}};gs(),gs(),Dl();function rX(e,t){if(typeof e!="object"||e===null)return;if(t.length===0){for(let u of Object.keys(e))delete e[u];return}let r=t.slice(0,t.length-1),o=e,a=new WeakMap;for(let u of r){let c=o,f=c[u];if(typeof f!="object"||f===null)return;a.set(f,c),o=f}let s=t.slice().reverse();for(let u of s){if(delete o[u],Object.keys(o).length>0)return;o=a.get(o)}}function Ule(e,{scale:t,origin:r,translate:o}){let a=r+(e-r)*t;return o+a}function Pa(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Rg(e){return!!e&&!!e[ci]}function kf(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===$le}(e)||Array.isArray(e)||!!e[fX]||!!e.constructor[fX]||V3(e)||H3(e))}function Xy(e,t,r){r===void 0&&(r=!1),Ng(e)===0?(r?Object.keys:e4)(e).forEach(function(o){r&&typeof o=="symbol"||t(o,e[o],e)}):e.forEach(function(o,a){return t(a,o,e)})}function Ng(e){var t=e[ci];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:V3(e)?2:H3(e)?3:0}function U3(e,t){return Ng(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vle(e,t){return Ng(e)===2?e.get(t):e[t]}function nX(e,t,r){var o=Ng(e);o===2?e.set(t,r):o===3?(e.delete(t),e.add(r)):e[t]=r}function Hle(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function V3(e){return Wle&&e instanceof Map}function H3(e){return qle&&e instanceof Set}function xf(e){return e.o||e.t}function L3(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Gle(e);delete t[ci];for(var r=e4(t),o=0;o<r.length;o++){var a=r[o],s=t[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function K3(e,t){return t===void 0&&(t=!1),W3(e)||Rg(e)||!kf(e)||(Ng(e)>1&&(e.set=e.add=e.clear=e.delete=Lle),Object.freeze(e),t&&Xy(e,function(r,o){return K3(o,!0)},!0)),e}function Lle(){Pa(2)}function W3(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Kl(e){var t=Zle[e];return t||Pa(18,e),t}function oX(){return Yy}function q3(e,t){t&&(Kl("Patches"),e.u=[],e.s=[],e.v=t)}function UE(e){$3(e),e.p.forEach(Kle),e.p=null}function $3(e){e===Yy&&(Yy=e.l)}function iX(e){return Yy={p:[],l:Yy,h:e,m:!0,_:0}}function Kle(e){var t=e[ci];t.i===0||t.i===1?t.j():t.O=!0}function G3(e,t){t._=t.p.length;var r=t.p[0],o=e!==void 0&&e!==r;return t.h.g||Kl("ES5").S(t,e,o),o?(r[ci].P&&(UE(t),Pa(4)),kf(e)&&(e=VE(t,e),t.l||HE(t,e)),t.u&&Kl("Patches").M(r[ci],e,t.u,t.s)):e=VE(t,r,[]),UE(t),t.u&&t.v(t.u,t.s),e!==dX?e:void 0}function VE(e,t,r){if(W3(t))return t;var o=t[ci];if(!o)return Xy(t,function(s,u){return aX(e,o,t,s,u,r)},!0),t;if(o.A!==e)return t;if(!o.P)return HE(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var a=o.i===4||o.i===5?o.o=L3(o.k):o.o;Xy(o.i===3?new Set(a):a,function(s,u){return aX(e,o,a,s,u,r)}),HE(e,a,!1),r&&e.u&&Kl("Patches").R(o,r,e.u,e.s)}return o.o}function aX(e,t,r,o,a,s){if(Rg(a)){var u=VE(e,a,s&&t&&t.i!==3&&!U3(t.D,o)?s.concat(o):void 0);if(nX(r,o,u),!Rg(u))return;e.m=!1}if(kf(a)&&!W3(a)){if(!e.h.F&&e._<1)return;VE(e,a),t&&t.A.l||HE(e,a)}}function HE(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&K3(t,r)}function Z3(e,t){var r=e[ci];return(r?xf(r):e)[t]}function sX(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var o=Object.getOwnPropertyDescriptor(r,t);if(o)return o;r=Object.getPrototypeOf(r)}}function X3(e){e.P||(e.P=!0,e.l&&X3(e.l))}function Y3(e){e.o||(e.o=L3(e.t))}function Q3(e,t,r){var o=V3(t)?Kl("MapSet").N(t,r):H3(t)?Kl("MapSet").T(t,r):e.g?function(a,s){var u=Array.isArray(a),c={i:u?1:0,A:s?s.A:oX(),P:!1,I:!1,D:{},l:s,t:a,k:null,o:null,j:null,C:!1},f=c,h=KE;u&&(f=[c],h=WE);var y=Proxy.revocable(f,h),_=y.revoke,w=y.proxy;return c.k=w,c.j=_,w}(t,r):Kl("ES5").J(t,r);return(r?r.A:oX()).p.push(o),o}function LE(e){return Rg(e)||Pa(22,e),function t(r){if(!kf(r))return r;var o,a=r[ci],s=Ng(r);if(a){if(!a.P&&(a.i<4||!Kl("ES5").K(a)))return a.t;a.I=!0,o=lX(r,s),a.I=!1}else o=lX(r,s);return Xy(o,function(u,c){a&&Vle(a.t,u)===c||nX(o,u,t(c))}),s===3?new Set(o):o}(e)}function lX(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return L3(e)}var uX,Yy,J3=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Wle=typeof Map<"u",qle=typeof Set<"u",cX=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",dX=J3?Symbol.for("immer-nothing"):((uX={})["immer-nothing"]=!0,uX),fX=J3?Symbol.for("immer-draftable"):"__$immer_draftable",ci=J3?Symbol.for("immer-state"):"__$immer_state",$le=""+Object.prototype.constructor,e4=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Gle=Object.getOwnPropertyDescriptors||function(e){var t={};return e4(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Zle={},KE={get:function(e,t){if(t===ci)return e;var r=xf(e);if(!U3(r,t))return function(a,s,u){var c,f=sX(s,u);return f?"value"in f?f.value:(c=f.get)===null||c===void 0?void 0:c.call(a.k):void 0}(e,r,t);var o=r[t];return e.I||!kf(o)?o:o===Z3(e.t,t)?(Y3(e),e.o[t]=Q3(e.A.h,o,e)):o},has:function(e,t){return t in xf(e)},ownKeys:function(e){return Reflect.ownKeys(xf(e))},set:function(e,t,r){var o=sX(xf(e),t);if(o!=null&&o.set)return o.set.call(e.k,r),!0;if(!e.P){var a=Z3(xf(e),t),s=a==null?void 0:a[ci];if(s&&s.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(Hle(r,a)&&(r!==void 0||U3(e.t,t)))return!0;Y3(e),X3(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return Z3(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,Y3(e),X3(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=xf(e),o=Reflect.getOwnPropertyDescriptor(r,t);return o&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:o.enumerable,value:r[t]}},defineProperty:function(){Pa(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Pa(12)}},WE={};Xy(KE,function(e,t){WE[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),WE.deleteProperty=function(e,t){return KE.deleteProperty.call(this,e[0],t)},WE.set=function(e,t,r){return KE.set.call(this,e[0],t,r,e[0])};var Xle=function(){function e(r){var o=this;this.g=cX,this.F=!0,this.produce=function(a,s,u){if(typeof a=="function"&&typeof s!="function"){var c=s;s=a;var f=o;return function(v){var x=this;v===void 0&&(v=c);for(var k=arguments.length,E=Array(k>1?k-1:0),C=1;C<k;C++)E[C-1]=arguments[C];return f.produce(v,function(j){var D;return(D=s).call.apply(D,[x,j].concat(E))})}}var h;if(typeof s!="function"&&Pa(6),u!==void 0&&typeof u!="function"&&Pa(7),kf(a)){var y=iX(o),_=Q3(o,a,void 0),w=!0;try{h=s(_),w=!1}finally{w?UE(y):$3(y)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(v){return q3(y,u),G3(v,y)},function(v){throw UE(y),v}):(q3(y,u),G3(h,y))}if(!a||typeof a!="object")return(h=s(a))===dX?void 0:(h===void 0&&(h=a),o.F&&K3(h,!0),h);Pa(21,a)},this.produceWithPatches=function(a,s){return typeof a=="function"?function(f){for(var h=arguments.length,y=Array(h>1?h-1:0),_=1;_<h;_++)y[_-1]=arguments[_];return o.produceWithPatches(f,function(w){return a.apply(void 0,[w].concat(y))})}:[o.produce(a,s,function(f,h){u=f,c=h}),u,c];var u,c},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){kf(r)||Pa(8),Rg(r)&&(r=LE(r));var o=iX(this),a=Q3(this,r,void 0);return a[ci].C=!0,$3(o),a},t.finishDraft=function(r,o){var a=r&&r[ci],s=a.A;return q3(s,o),G3(void 0,s)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!cX&&Pa(20),this.g=r},t.applyPatches=function(r,o){var a;for(a=o.length-1;a>=0;a--){var s=o[a];if(s.path.length===0&&s.op==="replace"){r=s.value;break}}var u=Kl("Patches").$;return Rg(r)?u(r,o):this.produce(r,function(c){return u(c,o.slice(a+1))})},e}(),di=new Xle;di.produce,di.produceWithPatches.bind(di),di.setAutoFreeze.bind(di),di.setUseProxies.bind(di),di.applyPatches.bind(di);var t4=di.createDraft.bind(di),r4=di.finishDraft.bind(di);HI(),KI(),QI(),Ch(),e5(),gE(),nn(),ce();var Ca={create(e){let t={byId:{},allIds:{}};if(e)for(let[r,o]of e)t.byId[r]=o,t.allIds[r]=!0;return t},shallowCopy(e){return{byId:re({},e==null?void 0:e.byId),allIds:re({},e==null?void 0:e.allIds)}},add(e,t,r){return{byId:Pe(re({},e==null?void 0:e.byId),{[t]:r}),allIds:Pe(re({},e==null?void 0:e.allIds),{[t]:!0})}},merge(e){let t=Ca.create();for(let r=0;r<e.length;r++)t.byId=re(re({},t.byId),e[r].byId),t.allIds=re(re({},t.allIds),e[r].allIds);return t},remove(e,t){let r=Ca.shallowCopy(e);return delete r.allIds[t],delete r.byId[t],r},filter(e,t){let r=Ca.shallowCopy(e);for(let[o,a]of Object.entries(r.byId))t(a)||(delete r.allIds[o],delete r.byId[o]);return r}},pX=e=>(n4=e,o4),n4,Xn=()=>{if(n4===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return n4},o4;(e=>{(t=>{(r=>{(o=>{function a(s){let u=Xn().historic;u.panelPositions!=null||(u.panelPositions={}),u.panelPositions[s.panelId]=s.position}o.setPanelPosition=a})(r.panelPositions||(r.panelPositions={})),(o=>{function a(){var s;return(s=Xn().historic).panels!=null||(s.panels={}),Xn().historic.panels}o._ensure=a,(s=>{function u(){let c=e.studio.historic.panels._ensure();return c.outlinePanel!=null||(c.outlinePanel={}),c.outlinePanel}s._ensure=u,(c=>{function f(y){let _=[];for(let w of Ya(y))qi(w)?_.push(re({type:"Project"},w.address)):cn(w)?(_.push(re({type:"Sheet"},w.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(w.address)):wi(w)?_.push(re({type:"Sheet"},w.address)):yr(w)?(_.push(re({type:"SheetObject"},w.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(w.sheet.address)):Hs(w)&&_.push(re({type:"SheetObject"},w.address));s._ensure().selection=_}c.set=f;function h(){s._ensure().selection=[]}c.unset=h})(s.selection||(s.selection={}))})(o.outline||(o.outline={})),(s=>{function u(){let c=e.studio.historic.panels._ensure();return c.sequenceEditor!=null||(c.sequenceEditor={}),c.sequenceEditor}s._ensure=u,(c=>{function f(){let y=s._ensure();return y.graphEditor!=null||(y.graphEditor={height:.5,isOpen:!1}),y.graphEditor}function h(y){f().isOpen=y.isOpen}c.setIsOpen=h})(s.graphEditor||(s.graphEditor={}))})(o.sequenceEditor||(o.sequenceEditor={}))})(r.panels||(r.panels={})),(o=>{(a=>{function s(u){let c=Xn().historic;return c.projects.stateByProjectId[u.projectId]||(c.projects.stateByProjectId[u.projectId]={stateBySheetId:{}}),c.projects.stateByProjectId[u.projectId]}a._ensure=s,(u=>{function c(h){let y=e.studio.historic.projects.stateByProjectId._ensure(h);return y.stateBySheetId[h.sheetId]||(y.stateBySheetId[h.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),y.stateBySheetId[h.sheetId]}u._ensure=c;function f(h){e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(h).selectedInstanceId=h.sheetInstanceId}u.setSelectedInstanceId=f,(h=>{function y(E){let{selectedPropsByObject:C}=u._ensure(E).sequenceEditor;C[E.objectKey]||(C[E.objectKey]={});let j=C[E.objectKey],D=hs(E.pathToProp),M=new Set(Object.keys(My));for(let[L,te]of Object.entries(LE(C)))for(let[se,Z]of Object.entries(te))M.delete(Z);let F=M.size>0?M.values().next().value:Object.keys(My)[0];j[D]=F}h.addPropToGraphEditor=y;function _(E){let{selectedPropsByObject:C}=u._ensure(E).sequenceEditor;if(!C[E.objectKey])return;let j=C[E.objectKey],D=hs(E.pathToProp);j[D]&&rX(C,[E.objectKey,D])}h.removePropFromGraphEditor=_;function w(E){let C=e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(E).sequenceEditor;return C.markerSet||(C.markerSet=Ca.create()),C.markerSet}function v(E){let C=w(E.sheetAddress),j=E.markers.filter(L=>!!isFinite(L.position)).map(L=>Pe(re({},L),{position:E.snappingFunction(L.position)})),D=Pd(j,"id"),M=Ca.filter(C,L=>L&&!D[L.id]),F=Pd(Object.values(M.byId),"position");j.forEach(({position:L})=>{let te=F[L];te&&(M=Ca.remove(M,te.id))}),Object.assign(C,Ca.merge([M,Ca.create(j.map(L=>[L.id,L]))]))}h.replaceMarkers=v;function x(E){let C=w(E.sheetAddress);Object.assign(C,Ca.remove(C,E.markerId))}h.removeMarker=x;function k(E){let C=w(E.sheetAddress).byId[E.markerId];C!==void 0&&(C.label=E.label)}h.updateMarker=k})(u.sequenceEditor||(u.sequenceEditor={}))})(a.stateBySheetId||(a.stateBySheetId={}))})(o.stateByProjectId||(o.stateByProjectId={}))})(r.projects||(r.projects={}))})(t.historic||(t.historic={})),(r=>{function o(a){Xn().ephemeral.showOutline=a}r.setShowOutline=o,(a=>{(s=>{function u(c){let f=Xn().ephemeral;return f.projects.stateByProjectId[c.projectId]||(f.projects.stateByProjectId[c.projectId]={stateBySheetId:{}}),f.projects.stateByProjectId[c.projectId]}s._ensure=u,(c=>{function f(h){let y=e.studio.ephemeral.projects.stateByProjectId._ensure(h);return y.stateBySheetId[h.sheetId]||(y.stateBySheetId[h.sheetId]={stateByObjectKey:{}}),y.stateBySheetId[h.sheetId]}c._ensure=f,(h=>{function y(_){var w;let v=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(_).stateByObjectKey;return v[w=_.objectKey]!=null||(v[w]={}),v[_.objectKey]}h._ensure=y,(_=>{function w(x){let k=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(x);return k.valuesBeingScrubbed!=null||(k.valuesBeingScrubbed={}),k.valuesBeingScrubbed}_._ensure=w;function v(x){pl(w(x),x.pathToProp,!0)}_.flag=v})(h.propsBeingScrubbed||(h.propsBeingScrubbed={}))})(c.stateByObjectKey||(c.stateByObjectKey={}))})(s.stateBySheetId||(s.stateBySheetId={}))})(a.stateByProjectId||(a.stateByProjectId={}))})(r.projects||(r.projects={}))})(t.ephemeral||(t.ephemeral={})),(r=>{function o(f){Xn().ahistoric.pinOutline=f}r.setPinOutline=o;function a(f){Xn().ahistoric.pinDetails=f}r.setPinDetails=a;function s(f){Xn().ahistoric.pinNotifications=f}r.setPinNotifications=s;function u(f){Xn().ahistoric.visibilityState=f}r.setVisibilityState=u;function c(f){let h=IS(f.map(w=>w.pathToProp)),y=f.map(({keyframe:w,pathToProp:v})=>({keyframe:w,pathToProp:v.slice(h.length)})),_=Xn();_.ahistoric.clipboard?_.ahistoric.clipboard.keyframesWithRelativePaths=y:_.ahistoric.clipboard={keyframesWithRelativePaths:y}}r.setClipboardKeyframes=c,(f=>{(h=>{function y(_){let w=Xn().ahistoric;return w.projects.stateByProjectId[_.projectId]||(w.projects.stateByProjectId[_.projectId]={stateBySheetId:{}}),w.projects.stateByProjectId[_.projectId]}h._ensure=y,(_=>{function w(x){let k=e.studio.ahistoric.projects.stateByProjectId._ensure(x);return k.collapsedItemsInOutline||(k.collapsedItemsInOutline={}),k.collapsedItemsInOutline}_._ensure=w;function v(x){let k=e.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(x);x.isCollapsed?k[x.itemKey]=!0:delete k[x.itemKey]}_.set=v})(h.collapsedItemsInOutline||(h.collapsedItemsInOutline={})),(_=>{function w(v){let x=e.studio.ahistoric.projects.stateByProjectId._ensure(v);return x.stateBySheetId[v.sheetId]||(x.stateBySheetId[v.sheetId]={}),x.stateBySheetId[v.sheetId]}_._ensure=w,(v=>{function x(k){let E=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(k);return E.sequence||(E.sequence={}),E.sequence}v._ensure=x,(k=>{function E(j){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(j).focusRange={range:j.range,enabled:j.enabled}}k.set=E;function C(j){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(j).focusRange=void 0}k.unset=C})(v.focusRange||(v.focusRange={})),(k=>{function E(C){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(C).clippedSpaceRange=re({},C.range)}k.set=E})(v.clippedSpaceRange||(v.clippedSpaceRange={})),(k=>{function E(j){let D=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(j),M=D.collapsableItems;return M||(M=D.collapsableItems=Ca.create()),M}function C(j){let D=E(j);Object.assign(D,Ca.add(D,j.studioSheetItemKey,{isCollapsed:j.isCollapsed}))}k.set=C})(v.sequenceEditorCollapsableItems||(v.sequenceEditorCollapsableItems={}))})(_.sequence||(_.sequence={}))})(h.stateBySheetId||(h.stateBySheetId={}))})(f.stateByProjectId||(f.stateByProjectId={}))})(r.projects||(r.projects={}))})(t.ahistoric||(t.ahistoric={}))})(e.studio||(e.studio={})),(t=>{(r=>{(o=>{function a(s){let u=Xn().historic.coreByProject[s.projectId].revisionHistory,c=50;u.unshift(s.revision),u.length>c&&(u.length=c)}o.add=a})(r.revisionHistory||(r.revisionHistory={})),(o=>{function a(c){let f=Xn().historic.coreByProject[c.projectId].sheetsById;return f[c.sheetId]||(f[c.sheetId]={staticOverrides:{byObject:{}}}),f[c.sheetId]}o._ensure=a;function s(c){let f=Xn().historic.coreByProject[c.projectId].sheetsById[c.sheetId];if(!f)return;delete f.staticOverrides.byObject[c.objectKey];let h=f.sequence;h&&delete h.tracksByObject[c.objectKey]}o.forgetObject=s;function u(c){Xn().historic.coreByProject[c.projectId].sheetsById[c.sheetId]&&delete Xn().historic.coreByProject[c.projectId].sheetsById[c.sheetId]}o.forgetSheet=u,(c=>{function f(Z){let de=e.coreByProject.historic.sheetsById._ensure(Z);return de.sequence!=null||(de.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),de.sequence}c._ensure=f;function h(Z){f(Z).length=Ir(parseFloat(Z.length.toFixed(2)),.01,1/0)}c.setLength=h;function y(Z){f(Z).subUnitsPerUnit=Ir(Z.subUnitsPerUnit,1,Zt(2,12))}c.setSubUnitsPerUnit=y;function _(Z){var de;let Ce=e.coreByProject.historic.sheetsById.sequence._ensure(Z).tracksByObject;return Ce[de=Z.objectKey]!=null||(Ce[de]={trackData:{},trackIdByPropPath:{}}),Ce[Z.objectKey]}function w(Z,de){let Ce=_(Z),K=hs(Z.pathToProp);if(typeof Ce.trackIdByPropPath[K]=="string")return;let fe=toe(),z={type:"BasicKeyframedTrack",__debugName:"".concat(Z.objectKey,":").concat(K),keyframes:[]};Ce.trackData[fe]=z,Ce.trackIdByPropPath[K]=fe}c.setPrimitivePropAsSequenced=w;function v(Z){let de=_(Z),Ce=hs(Z.pathToProp),K=de.trackIdByPropPath[Ce];typeof K=="string"&&(delete de.trackIdByPropPath[Ce],delete de.trackData[K],e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(Z))}c.setPrimitivePropAsStatic=v;function x(Z){let de=_(Z);for(let Ce of Object.keys(de.trackIdByPropPath)){let K=JSON.parse(Ce);if(Z.pathToProp.every((fe,z)=>K[z]===fe)){let fe=de.trackIdByPropPath[Ce];if(typeof fe!="string")continue;delete de.trackIdByPropPath[Ce],delete de.trackData[fe]}}e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(Z)}c.setCompoundPropAsStatic=x;function k(Z){return _(Z).trackData[Z.trackId]}function E(Z){let de=k(Z);if(de)return de.keyframes.find(Ce=>Ce.id===Z.keyframeId)}function C(Z){let de=Z.snappingFunction(Z.position),Ce=k(Z);if(!Ce)return;let{keyframes:K}=Ce,fe=K.findIndex(Je=>Je.position===de);if(fe!==-1){let Je=K[fe];Je.value=Z.value;return}let z=t0(K,Je=>Je.position<de);if(z===-1){K.unshift({id:hF(),position:de,connectedRight:!0,handles:Z.handles||[.5,1,.5,0],type:Z.type||"bezier",value:Z.value});return}let be=K[z];K.splice(z+1,0,{id:hF(),position:de,connectedRight:be.connectedRight,handles:Z.handles||[.5,1,.5,0],type:Z.type||"bezier",value:Z.value})}c.setKeyframeAtPosition=C;function j(Z){let de=k(Z);if(!de)return;let{keyframes:Ce}=de,K=Ce.findIndex(fe=>fe.position===Z.position);K!==-1&&Ce.splice(K,1)}c.unsetKeyframeAtPosition=j;function D(Z){let de=k(Z);if(!de)return;let Ce=LE(de.keyframes).filter(K=>Z.keyframeIds.includes(K.id)).map(K=>{let fe=K.position,z=Z.snappingFunction(Ule(fe,Z));return Pe(re({},K),{position:z})});se(Pe(re({},Z),{keyframes:Ce}))}c.transformKeyframes=D;function M(Z){let de=k(Z);de&&(de.keyframes=de.keyframes.map((Ce,K)=>{let fe=de.keyframes[K-1],z=Z.keyframeIds.includes(Ce.id),be=Z.keyframeIds.includes(fe==null?void 0:fe.id);return z&&!be?Pe(re({},Ce),{handles:[Ce.handles[0],Ce.handles[1],Z.handles[0],Z.handles[1]]}):z&&be?Pe(re({},Ce),{handles:[Z.handles[2],Z.handles[3],Z.handles[0],Z.handles[1]]}):be?Pe(re({},Ce),{handles:[Z.handles[2],Z.handles[3],Ce.handles[2],Ce.handles[3]]}):Ce}))}c.setTweenBetweenKeyframes=M;function F(Z){var de,Ce,K,fe,z,be,Je,le;let ae=E(Z);ae&&(ae.handles=[(Ce=(de=Z.end)==null?void 0:de[0])!=null?Ce:ae.handles[0],(fe=(K=Z.end)==null?void 0:K[1])!=null?fe:ae.handles[1],(be=(z=Z.start)==null?void 0:z[0])!=null?be:ae.handles[2],(le=(Je=Z.start)==null?void 0:Je[1])!=null?le:ae.handles[3]])}c.setHandlesForKeyframe=F;function L(Z){let de=k(Z);de&&(de.keyframes=de.keyframes.filter(Ce=>Z.keyframeIds.indexOf(Ce.id)===-1))}c.deleteKeyframes=L;function te(Z){let de=E(Z);de&&(de.type=Z.keyframeType)}c.setKeyframeType=te;function se(Z){let de=k(Z);if(!de)return;let Ce=LE(de.keyframes),K=Z.keyframes.filter(le=>!(typeof le.value=="number"&&!isFinite(le.value)||!le.handles.every(ae=>isFinite(ae)))).map(le=>Pe(re({},le),{position:Z.snappingFunction(le.position)})),fe=Pd(K,"id"),z=Ce.filter(le=>!fe[le.id]),be=Pd(z,"position");K.forEach(({position:le})=>{let ae=be[le];ae&&jk(z,ae)});let Je=Ak([...z,...K],"position");de.keyframes=Je}c.replaceKeyframes=se})(o.sequence||(o.sequence={})),(c=>{(f=>{function h(v){var x;let k=e.coreByProject.historic.sheetsById._ensure(v).staticOverrides.byObject;return k[x=v.objectKey]!=null||(k[x]={}),k[v.objectKey]}function y(v){let x=h(v);pl(x,v.pathToProp,v.value)}f.setValueOfCompoundProp=y;function _(v){let x=h(v);pl(x,v.pathToProp,v.value)}f.setValueOfPrimitiveProp=_;function w(v){let x=e.coreByProject.historic.sheetsById._ensure(v).staticOverrides.byObject[v.objectKey];x&&rX(x,v.pathToProp)}f.unsetValueOfPrimitiveProp=w})(c.byObject||(c.byObject={}))})(o.staticOverrides||(o.staticOverrides={}))})(r.sheetsById||(r.sheetsById={}))})(t.historic||(t.historic={}))})(e.coreByProject||(e.coreByProject={}))})(o4||(o4={}));function i4(){let e,t,r=new Promise((a,s)=>{e=u=>{a(u),o.status="resolved"},t=u=>{s(u),o.status="rejected"}}),o={resolve:e,reject:t,promise:r,status:"pending"};return o}var Yle=rt();function Qle(e){let t=e.getState(),r=new Yle.Atom(t);return e.subscribe(()=>{let o=e.getState();r.set(o),t=o}),r}Ow();function Jle(e){var t,r=e.Symbol;return typeof r=="function"?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}var Qy;typeof self<"u"?Qy=self:typeof window<"u"?Qy=window:typeof Xr<"u"?Qy=Xr:Qy=p;var eue=Jle(Qy),hX=eue,gX={INIT:"@@redux/INIT"};function mX(e,t,r){var o;if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error("Expected the enhancer to be a function.");return r(mX)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var a=e,s=t,u=[],c=u,f=!1;function h(){c===u&&(c=u.slice())}function y(){return s}function _(k){if(typeof k!="function")throw new Error("Expected listener to be a function.");var E=!0;return h(),c.push(k),function(){if(E){E=!1,h();var C=c.indexOf(k);c.splice(C,1)}}}function w(k){if(!nh(k))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof k.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,s=a(s,k)}finally{f=!1}for(var E=u=c,C=0;C<E.length;C++){var j=E[C];j()}return k}function v(k){if(typeof k!="function")throw new Error("Expected the nextReducer to be a function.");a=k,w({type:gX.INIT})}function x(){var k,E=_;return k={subscribe:function(C){if(typeof C!="object")throw new TypeError("Expected the observer to be an object.");function j(){C.next&&C.next(y())}j();var D=E(j);return{unsubscribe:D}}},k[hX]=function(){return this},k}return w({type:gX.INIT}),o={dispatch:w,subscribe:_,getState:y,replaceReducer:v},o[hX]=x,o}function tue(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(o){return o}:t.length===1?t[0]:t.reduce(function(o,a){return function(){return o(a.apply(void 0,arguments))}})}function rue(e){let t=tue();return mX(e.rootReducer,void 0,t)}yE(),uk();var a4=new WeakMap,nue=(e,t,r)=>{let o=f=>{e.dispatch(Bg.replacePersistentState(f))},a=vX(r),s=()=>e.getState().$persistent;c();let u=()=>{let f=s(),h=a4.get(e);f!==h&&(a4.set(e,f),localStorage.setItem(a,JSON.stringify(f)))};e.subscribe(yh(u,1e3)),window&&window.addEventListener("beforeunload",u);function c(){let f=localStorage.getItem(a);if(f){let h,y=!0;try{h=JSON.parse(f),y=!1}catch{vE.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{y||o(h),t()}}else t()}},oue=(e,t)=>{let r=vX(t),o=e.getState().$persistent;localStorage.removeItem(r),a4.set(e,o)};function vX(e){return e+".persistent"}SM(),ce(),yd(),yk(),yn(),Xx();var qE=rt();Gu(),nn(),uG();function s4(e){if(typeof e=="boolean"||typeof e=="string"||typeof e=="number")return e;if(nh(e)){let t={},r=!1;for(let[o,a]of Object.entries(e))s4(a)!==void 0&&(t[o]=a,r=!0);if(r)return t}else return}function yX(e,t,r){for(let[o,a]of Object.entries(e.props))if(a.type==="compound")yX(a,[...t,o],r);else{if(a.type==="enum")throw new Error("Not yet implemented");r(a,[...t,o])}}function iue(e,t,r){return{set:(o,a)=>{e();let s=s4(a);if(typeof s>"u")return;let{root:u,path:c}=(0,qE.getPointerParts)(o);if(yr(u)){let f=u.template.getMapOfValidSequenceTracks_forStudio().getValue(),h=Wx(u.template.staticConfig,c);if(!h)throw new Error("Object ".concat(u.address.objectKey," does not have a prop at ").concat(JSON.stringify(c)));let y=(_,w,v)=>{if(_==null)return;if(s4(w.deserializeAndSanitize(_))===void 0)throw new Error("Invalid value ".concat(v3(_)," for object.props").concat(v.map(E=>"[".concat(JSON.stringify(E),"]")).join("")," is invalid"));let x=Pe(re({},u.address),{pathToProp:v}),k=ll(f,v);if(typeof k=="string"){let E=u.sheet.getSequence();E.position=E.closestGridPosition(E.position),t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(Pe(re({},x),{trackId:k,position:E.position,value:_,snappingFunction:E.closestGridPosition,type:"bezier"}))}else t.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(Pe(re({},x),{value:_}))};if(h.type==="compound"){let _=(0,qE.getPointerParts)(o).path,w=_.length;yX(h,_,(v,x)=>{let k=x.slice(w),E=Xu(s,k);if(typeof E<"u")y(E,v,x);else throw new Error("Property object.props".concat(x.map(C=>"[".concat(JSON.stringify(C),"]")).join("")," is required but not provided"))})}else{if(h.type==="enum")throw new Error("Enums aren't implemented yet");y(s,h,c)}}else if($i(u)){let[f]=c;if(f==="subUnitsPerUnit"){if(typeof s!="number"||!_h(s)||s<1)throw new Error("Value ".concat(s," is not an integer, which is required for setting sequence prop ").concat(f));t.coreByProject.historic.sheetsById.sequence.setSubUnitsPerUnit(Pe(re({},u.address),{subUnitsPerUnit:s}))}else if(f==="length"){if(typeof s!="number"||s<=.001)throw new Error("Value ".concat(s," is not a positive number, which is required for setting sequence prop ").concat(f));t.coreByProject.historic.sheetsById.sequence.setLength(Pe(re({},u.address),{length:s}))}else throw new Error("Setting sequence prop ".concat(f," is not supported"))}else throw new Error("Only setting props of SheetObject-s and sequences is supported in a transaction so far")},unset:o=>{e();let{root:a,path:s}=(0,qE.getPointerParts)(o);if(yr(a)){let u=a.template.getMapOfValidSequenceTracks_forStudio().getValue(),c=Xu(a.template.getDefaultValues().getValue(),s),f=Wx(a.template.staticConfig,s),h=(y,_)=>{let w=Pe(re({},a.address),{pathToProp:_}),v=ll(u,_);typeof v=="string"?t.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(Pe(re({},w),{trackId:v,position:a.sheet.getSequence().positionSnappedToGrid})):f!==void 0&&t.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(w)};f.type==="compound"?Cn(c,(y,_)=>{h(y,_)},(0,qE.getPointerParts)(o).path):h(c,s)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return e(),r},get stateEditors(){return t}}}var aue=class{constructor(){Kt(this,"_reduxStore"),Kt(this,"_atom"),Kt(this,"atomP"),this._reduxStore=rue({rootReducer:Mle}),this._atom=Qle(this._reduxStore),this.atomP=this._atom.pointer}initialize(e){let t=i4();return e.usePersistentStorage===!0?nue(this._reduxStore,()=>{this.tempTransaction(({drafts:r})=>{r.ephemeral.initialised=!0}).commit(),t.resolve()},e.persistenceKey):(this.tempTransaction(({drafts:r})=>{r.ephemeral.initialised=!0}).commit(),t.resolve()),t.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(e){return oue(this._reduxStore,e),this.getState()}__dev_startHistoryFromScratch(e){this._reduxStore.dispatch(Bg.historic.startHistoryFromScratch(Bg.reduceParts(t=>Pe(re({},t),{historic:e}))))}tempTransaction(e){let t=Fle(),r,o=t.push(Bg.reduceParts(a=>{let s={historic:t4(a.historic),ahistoric:t4(a.ahistoric),ephemeral:t4(a.ephemeral)},u=!0,c=()=>{if(!u)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},f=pX(s),h=iue(c,f,s);try{return e(h),u=!1,{historic:r4(s.historic),ahistoric:r4(s.ahistoric),ephemeral:r4(s.ephemeral)}}catch(y){return r=y,a}finally{pX(void 0)}}));if(this._reduxStore.dispatch(o),r)throw this._reduxStore.dispatch(t.discard()),r;return{commit:()=>{this._reduxStore.dispatch(t.commit())},discard:()=>{this._reduxStore.dispatch(t.discard())}}}undo(){this._reduxStore.dispatch(Bg.historic.undo())}redo(){this._reduxStore.dispatch(Bg.historic.redo())}createContentOfSaveFile(e){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e])throw new Error("Project ".concat(e," has not been initialized."));let t=xM();this.tempTransaction(({stateEditors:o})=>{o.coreByProject.historic.revisionHistory.add({projectId:e,revision:t})}).commit();let r=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e];return re({},r)}},sue=rt(),l4=class{constructor(){Kt(this,"_values",{})}get(e,t){if(this.has(e))return this._values[e];{let r=t();return this._values[e]=r,r}}has(e){return this._values.hasOwnProperty(e)}};ce(),Ku(),ut(),nn(),p3();var lue=class{constructor(e){Kt(this,"ui",{hide(){ve().ui.hide()},get isHidden(){return ve().ui.isHidden},restore(){ve().ui.restore()},renderToolset(t,r){return ve().ui.renderToolset(t,r)}}),Kt(this,"_cache",new l4),Kt(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){pse()},__experimental_enablePlayPauseKeyboardShortcut(){hse()},__experimental_clearPersistentStorage(t){return ve().clearPersistentStorage(t)},__experimental_createContentOfSaveFileTyped(t){return ve().createContentOfSaveFile(t)}})}initialize(e){return ve().initialize(e)}extend(e,t){ve().extend(e,t)}transaction(e){return ve().transaction(({set:t,unset:r,stateEditors:o})=>e({set:t,unset:r,__experimental_forgetObject:a=>{if(!_i(a))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");o.coreByProject.historic.sheetsById.forgetObject(a.address)},__experimental_forgetSheet:a=>{if(!Bo(a))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");o.coreByProject.historic.sheetsById.forgetSheet(a.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,sue.prism)(()=>Lu().filter(e=>e.type==="Theatre_SheetObject"||e.type==="Theatre_Sheet").map(e=>e.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(e){let t=[...e].filter(r=>_i(r)||Bo(r)).map(r=>ve().corePrivateAPI(r));ve().transaction(({stateEditors:r})=>{r.studio.historic.panels.outline.selection.set(t)})}onSelectionChange(e){let t=ve();return this._getSelectionPrism().onChange(t.ticker,e,!0)}get selection(){return this._getSelection()}scrub(){return ve().scrub()}getStudioProject(){let e=ve().core;if(!e)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return ve().getStudioProject(e)}debouncedScrub(e=1e3){let t,r=yh(()=>{let o=t;o&&(t=void 0,o.commit())},e);return{capture:o=>{t||(t=this.scrub());let a=!0;try{t.capture(o),a=!1}finally{if(a){let s=t;t=void 0,s.discard()}else r()}}}}createPane(e){return ve().paneManager.createPane(e)}destroyPane(e){return ve().paneManager.destroyPane(e)}createContentOfSaveFile(e){return ve().createContentOfSaveFile(e)}};pF();var Sf=rt(),uue=class{constructor(e){this._studio=e,Kt(this,"_cache",new l4),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let e=this._getAllPanes();e.onStale(()=>{e.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,Sf.prism)(()=>{if(!(0,Sf.val)(this._studio.coreP))return{};let e=(0,Sf.val)(this._studio.atomP.historic.panelInstanceDesceriptors),t=(0,Sf.val)(this._studio.atomP.ephemeral.extensions.paneClasses),r={};for(let o of Object.values(e)){if(!o)continue;let a=t[o.paneClass];if(!a)continue;let{instanceId:s}=o,{extensionId:u,classDefinition:c}=a,f=Sf.prism.memo("instance-".concat(o.instanceId),()=>({extensionId:u,instanceId:s,definition:c}),[c]);r[s]=f}return r}))}get allPanesD(){return this._getAllPanes()}createPane(e){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let t=(0,Sf.val)(this._studio.atomP.ephemeral.extensions.paneClasses[e].extensionId),r=(0,Sf.val)(this._studio.atomP.historic.panelInstanceDesceriptors),o;for(let a=1;a<1e3&&(o="".concat(e," #").concat(a),!!r[o]);a++);if(!t)throw new Error('Pane class "'.concat(e,'" is not registered.'));return this._studio.transaction(({drafts:a})=>{a.historic.panelInstanceDesceriptors[o]={instanceId:o,paneClass:e}}),this._getAllPanes().getValue()[o]}destroyPane(e){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:t})=>{delete t.historic.panelInstanceDesceriptors[e]})}},$E=rt();ut();var bX=30*60*1e3,cue=1e3*60*60;function due(){return Cr(this,null,function*(){let e=ve().atomP.ahistoric.visibilityState;if((0,$E.val)(e)==="everythingIsVisible")return;let t=i4(),r=(0,$E.pointerToPrism)(e).onStale(()=>{(0,$E.val)(e)==="everythingIsVisible"&&(r(),t.resolve(void 0))});return t.promise})}function fue(){return Cr(this,null,function*(){if(!"0.7.2".match(/COMPAT/))for(yield GE(500),yield due();;){let e=(0,$E.val)(ve().atomP.ahistoric.updateChecker);if(e&&e.result!=="error"){let t=e.lastChecked,r=Date.now(),o=Math.abs(r-t);o<bX&&(yield GE(bX-o))}try{let t=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.2"));if(t.ok){let r=yield t.json();if(!pue(r))throw new Error("Bad response");ve().transaction(({drafts:o})=>{o.ahistoric.updateChecker={lastChecked:Date.now(),result:re({},r)}}),yield GE(1e3)}else throw new Error("HTTP Error ".concat(t.statusText))}catch{yield GE(cue)}}})}var GE=e=>new Promise(t=>setTimeout(t,e));function pue(e){if(typeof e!="object")return!1;let t=e;return typeof t.hasUpdates!="boolean"?!1:t.hasUpdates===!0&&typeof t.newVersion=="string"&&typeof t.releasePage=="string"||t.hasUpdates===!1}var hue=oe(Wk());function Wl(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function wX(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let o=Wl(r);return(a,s)=>o.then(u=>s(u.transaction(t,a).objectStore(t)))}var u4;function Fg(){return u4||(u4=wX("keyval-store","keyval")),u4}function gue(e,t=Fg()){return t("readonly",r=>Wl(r.get(e)))}function mue(e,t,r=Fg()){return r("readwrite",o=>(o.put(t,e),Wl(o.transaction)))}function vue(e,t=Fg()){return t("readwrite",r=>(r.delete(e),Wl(r.transaction)))}function c4(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Wl(e.transaction)}function yue(e=Fg()){return e("readonly",t=>{if(t.getAllKeys)return Wl(t.getAllKeys());let r=[];return c4(t,o=>r.push(o.key)).then(()=>r)})}function bue(e=Fg()){return e("readonly",t=>{if(t.getAll)return Wl(t.getAll());let r=[];return c4(t,o=>r.push(o.value)).then(()=>r)})}function wue(e=Fg()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([Wl(t.getAllKeys()),Wl(t.getAll())]).then(([o,a])=>o.map((s,u)=>[s,a[u]]));let r=[];return e("readonly",o=>c4(o,a=>r.push([a.key,a.value])).then(()=>r))})}var _ue=e=>{let t=wX("theatrejs-".concat(e),"default-store");return{set:(r,o)=>mue(r,o,t),get:r=>gue(r,t),del:r=>vue(r,t),keys:()=>yue(t),entries:()=>wue(t),values:()=>bue(t)}};G9(),wy();var _X="theatre-0.4",kue=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,xue="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",Sue=class{constructor(){Kt(this,"ui"),Kt(this,"publicApi"),Kt(this,"address"),Kt(this,"_projectsProxy",new RE.PointerProxy(new RE.Atom({}).pointer)),Kt(this,"projectsP",this._projectsProxy.pointer),Kt(this,"_store",new aue),Kt(this,"_corePrivateApi"),Kt(this,"_cache",new l4),Kt(this,"paneManager"),Kt(this,"_coreAtom",new RE.Atom({})),Kt(this,"_initializedDeferred",i4()),Kt(this,"_initializeFnCalled",!1),Kt(this,"_didWarnAboutNotInitializing",!1),Kt(this,"_coreBits"),Kt(this,"_rafDriver"),this.address={studioId:sy(10)},this.publicApi=new lue(this),this.ui=new vle(this),this._attachToIncomingProjects(),this.paneManager=new uue(this),typeof window<"u"&&setTimeout(()=>{this._initializeFnCalled||(console.error(kue),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(e){return Cr(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(xue);let t={persistenceKey:_X,usePersistentStorage:!0};if(typeof(e==null?void 0:e.persistenceKey)=="string"&&(t.persistenceKey=e.persistenceKey),((e==null?void 0:e.usePersistentStorage)===!1||typeof window>"u")&&(t.usePersistentStorage=!1),e!=null&&e.__experimental_rafDriver){if(e.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let r=this._coreBits.privateAPI(e.__experimental_rafDriver);if(!r)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=r}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(t)}catch(r){this._initializedDeferred.reject(r);return}typeof window<"u"&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),fue().catch(r=>{console.error(r)})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let e=(0,RE.pointerToPrism)(this.projectsP),t=r=>{for(let o of Object.values(r))o.isAttachedToStudio||o.attachToStudio(this)};e.onStale(()=>{t(e.getValue())}),t(e.getValue())}setCoreBits(e){this._coreBits=e,this._corePrivateApi=e.privateAPI,this._coreAtom.setByPointer(t=>t.core,e.coreExports),this._setProjectsP(e.projectsP)}_setProjectsP(e){this._projectsProxy.setPointer(e)}scrub(){return new gle(this)}tempTransaction(e){return this._store.tempTransaction(e)}transaction(e){return this.tempTransaction(e).commit()}__dev_startHistoryFromScratch(e){return this._store.__dev_startHistoryFromScratch(e)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(e,t){if(!e||typeof e!="object")throw new Error("Extensions must be JS objects");if(typeof e.id!="string")throw new Error("extension.id must be a string");let r=(t==null?void 0:t.__experimental_reconfigure)===!0,o=e.id,a=this._store.getState().ephemeral.extensions.byId[o];if(a&&!r){if(e===a||(0,hue.default)(e,a))return;throw new Error('Extension id "'.concat(e.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:s})=>{var u,c;s.ephemeral.extensions.byId[e.id]=e;let f=s.ephemeral.extensions.paneClasses;r&&a&&((u=a.panes)==null||u.forEach(h=>{delete f[h.class]})),(c=e.panes)==null||c.forEach(h=>{if(typeof h.class!="string")throw new Error("pane.class must be a string");if(h.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let y=f[h.class];if(y)if(r&&y.extensionId===e.id)console.warn('Pane class "'.concat(h.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'));else throw new Error('Pane class "'.concat(h.class,'" already exists and is supplied by extension ').concat(y));f[h.class]={extensionId:e.id,classDefinition:h}})})}getStudioProject(e){return this._cache.get("getStudioProject",()=>e.getProject("Studio"))}getExtensionSheet(e,t){return this._cache.get("extensionSheet-"+e,()=>this.getStudioProject(t).sheet("Extension "+e))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(e){return this._store.createContentOfSaveFile(e)}createAssetStorage(e,t){return Cr(this,null,function*(){if(typeof window>"u")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:h=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:h=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let r=_ue("".concat(e.address.projectId,"-assets")),o=_j(e),a=yield r.keys();yield Promise.all(a.map(h=>Cr(this,null,function*(){o.includes(h)||(yield r.del(h))}))),yield Promise.all(a.map(h=>Cr(this,null,function*(){var y,_;let w="".concat(t,"/").concat(h);try{(yield fetch(w,{method:"HEAD"})).ok&&(yield r.del(h))}catch{by.error("Failed to access assets","Failed to access assets at ".concat((_=(y=e.config.assets)==null?void 0:y.baseUrl)!=null?_:"/",". This is likely due to a CORS issue."))}})));let s=new Map(yield r.entries()),u=new Map,c=h=>{if(u.has(h))return u.get(h);{let y=URL.createObjectURL(h);return u.set(h,y),y}},f=h=>{let y=s.get(h);if(!y)throw new Error("Asset with id ".concat(h," not found"));return c(y)};return{getAssetUrl:h=>s.has(h)?f(h):"".concat(t,"/").concat(h),createAsset:h=>Cr(this,null,function*(){var y,_,w;let v=_j(e),x=!1;if(v.includes(h.name)){let k;try{k=(y=s.get(h.name))!=null?y:yield fetch("".concat(t,"/").concat(h.name)).then(E=>E.ok?E.blob():void 0)}catch{return by.error("Failed to access assets","Failed to access assets at ".concat((w=(_=e.config.assets)==null?void 0:_.baseUrl)!=null?w:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if(k){if(x=yield(yield Promise.resolve().then(()=>oe(ple()))).default.isEqual(h,k),x)return h.name;{let E=C=>{let j=prompt(C,h.name);return j===null?!1:j===""?E("Asset name cannot be empty. Please choose a different file name for this asset."):v.includes(j)?(console.log(v),E("An asset with this name already exists. Please choose a different file name for this asset.")):(h=new File([h],j,{type:h.type}),!0)};if(!E("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return s.set(h.name,h),yield r.set(h.name,h),h.name})}})}clearPersistentStorage(e=_X){this._store.__experimental_clearPersistentStorage(e)}},d4="__TheatreJS_StudioBundle",Eue="__TheatreJS_CoreBundle",Pue="__TheatreJS_Notifications",Cue=class{constructor(e){this._studio=e,Kt(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(e){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=e;let t;e.getBitsForStudio(this._studio,r=>{t=r}),this._studio.setCoreBits(t)}},Iue=oe(pe());Re();var kX,Oue=G.div(kX||(kX=Y([""]))),jue=e=>Iue.default.createElement(Oue,null),Tue=jue;wy();var f4=new Sue;Vs(f4);var Aue=f4.publicApi,Due=Aue;zue();function zue(){if(typeof window>"u")return;let e=window[d4];if(typeof e<"u")throw typeof e=="object"&&e&&typeof e.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(d4," seems to be already set by a module other than @theatre/core."));let t=new Cue(f4);window[d4]=t;let r=window[Eue];r&&r!==null&&r.type==="Theatre_CoreBundle"&&t.registerCoreBundle(r)}typeof window<"u"&&(window[Pue]={notify:by});/*! Bundled license information:

		lodash-es/lodash.js:
		  (**
		   * @license
		   * Lodash (Custom Build) <https://lodash.com/>
		   * Build: `lodash modularize exports="es" -o ./`
		   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
		   * Released under MIT license <https://lodash.com/license>
		   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
		   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
		   *)

		queue-microtask/index.js:
		  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

		react/cjs/react.production.min.js:
		  (**
		   * @license React
		   * react.production.min.js
		   *
		   * Copyright (c) Facebook, Inc. and its affiliates.
		   *
		   * This source code is licensed under the MIT license found in the
		   * LICENSE file in the root directory of this source tree.
		   *)

		scheduler/cjs/scheduler.production.min.js:
		  (**
		   * @license React
		   * scheduler.production.min.js
		   *
		   * Copyright (c) Facebook, Inc. and its affiliates.
		   *
		   * This source code is licensed under the MIT license found in the
		   * LICENSE file in the root directory of this source tree.
		   *)

		react-dom/cjs/react-dom.production.min.js:
		  (**
		   * @license React
		   * react-dom.production.min.js
		   *
		   * Copyright (c) Facebook, Inc. and its affiliates.
		   *
		   * This source code is licensed under the MIT license found in the
		   * LICENSE file in the root directory of this source tree.
		   *)

		react-is/cjs/react-is.production.min.js:
		  (** @license React v17.0.2
		   * react-is.production.min.js
		   *
		   * Copyright (c) Facebook, Inc. and its affiliates.
		   *
		   * This source code is licensed under the MIT license found in the
		   * LICENSE file in the root directory of this source tree.
		   *)

		react-is/cjs/react-is.production.min.js:
		  (** @license React v16.13.1
		   * react-is.production.min.js
		   *
		   * Copyright (c) Facebook, Inc. and its affiliates.
		   *
		   * This source code is licensed under the MIT license found in the
		   * LICENSE file in the root directory of this source tree.
		   *)

		jszip/dist/jszip.min.js:
		  (*!
		  
		  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		  <http://stuartk.com/jszip>
		  
		  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
		  
		  JSZip uses the library pako released under the MIT license :
		  https://github.com/nodeca/pako/blob/main/LICENSE
		  *)

		jiff/lib/lcs.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/lib/array.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/lib/jsonPointerParse.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/lib/jsonPointer.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/lib/clone.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/lib/jsonPatch.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/jiff.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
		*/}(Hb,Hb.exports)),Hb.exports}var ehe=Jpe();const the=Ype(ehe);the.initialize();const rhe=yA.getProject("My Theatre Project"),nhe=rhe.sheet("My Scene"),ohe=mee({data(){return{x:0,y:0}},mounted(){nhe.object("Box Position",{x:yA.types.number(this.x,{range:[-100,100]}),y:yA.types.number(this.y,{range:[-100,100]})}).onValuesChange(b=>{this.x=b.x,this.y=b.y})}}),qee=(p,b)=>{const O=p.__vccOpts||p;for(const[B,U]of b)O[B]=U;return O};function ihe(p,b,O,B,U,q){return Mee(),Uee(Fa,null,[b[0]||(b[0]=Rs("p",null," TheatreBox ",-1)),Rs("p",null," x: "+aA(p.x),1),Rs("p",null," y: "+aA(p.y),1)],64)}const ahe=qee(ohe,[["render",ihe]]),she=mee({__name:"App",setup(p){return(b,O)=>(Mee(),Uee(Fa,null,[O[0]||(O[0]=Rs("div",null,[Rs("a",{href:"https://vite.dev",target:"_blank"},[Rs("img",{src:Zpe,class:"logo",alt:"Vite logo"})]),Rs("a",{href:"https://vuejs.org/",target:"_blank"},[Rs("img",{src:Xpe,class:"logo vue",alt:"Vue logo"})])],-1)),Fc(ahe)],64))}}),lhe=qee(she,[["__scopeId","data-v-574537b3"]]);qpe(lhe).mount("#app");
